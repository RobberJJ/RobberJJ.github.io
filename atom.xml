<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ro.bber</title>
  <subtitle>Road endless its long and far, I will seek up and down.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://robberjj.github.io/"/>
  <updated>2018-12-04T03:30:42.576Z</updated>
  <id>https://robberjj.github.io/</id>
  
  <author>
    <name>Ro.bber</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Swift Tips - Deferå…³é”®å­—</title>
    <link href="https://robberjj.github.io/2018/12/04/Swift-Tips-Defer%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    <id>https://robberjj.github.io/2018/12/04/Swift-Tips-Deferå…³é”®å­—/</id>
    <published>2018-12-04T02:47:44.000Z</published>
    <updated>2018-12-04T03:30:42.576Z</updated>
    
    <content type="html"><![CDATA[<p>å‰é¢æœ‰è¯´åˆ°ï¼Œåœ¨ <em>swift 2.0</em>  å¼•å…¥äº† <code>guard</code> å…³é”®å­—ï¼Œå¯ä»¥è®©ä»£ç ç¼–å†™æ›´æµç•…ã€‚å®ƒçš„ä¼˜é›…ç®€æ´è€ŒåŠŸèƒ½å¼ºå¤§ç¡®å®ç»™äº†æˆ‘ä»¬æå¤§çš„æ–¹ä¾¿ã€‚å…·ä½“å¯ä»¥å‚è§ <a href="https://robberjj.github.io/2018/11/30/Swift-Tips-if-let-var-guard-let-var-%E5%85%A8%E8%A7%A3%E6%9E%90/">è¿™é‡Œ</a> ã€‚</p>
<p>è€Œï¼Œè·Ÿ <code>guard</code> ä¸€åŒå¼•å…¥çš„è¿˜æœ‰ä¸€ä¸ªå…³é”®å­— â€”â€” <code>defer</code> ã€‚</p>
<h4 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h4><p>ä¸€å¥è¯æ€»ç»“ <code>defer</code> å°±æ˜¯ï¼šè®©æ‰§è¡Œæ¨è¿Ÿã€‚</p>
<a id="more"></a>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨é”™è¯¯å¤„ç†æ–¹é¢ï¼Œ<code>guard</code> å’Œæ–°çš„ <code>throw</code> è¯­æ³•ä¹‹é—´ï¼ŒSwift é¼“åŠ±ç”¨å°½æ—©è¿”å›é”™è¯¯ï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢çš„æ–¹å¼ï¼‰æ¥ä»£æ›¿åµŒå¥— if çš„å¤„ç†æ–¹å¼ã€‚å°½æ—©è¿”å›è®©å¤„ç†æ›´æ¸…æ™°äº†ï¼Œä½†æ˜¯å·²ç»è¢«åˆå§‹åŒ–ï¼ˆå¯èƒ½ä¹Ÿæ­£åœ¨è¢«ä½¿ç”¨ï¼‰çš„èµ„æºå¿…é¡»åœ¨è¿”å›å‰è¢«å¤„ç†å¹²å‡€ã€‚</p>
<p><code>defer</code> å…³é”®å­—ä¸ºæ­¤æä¾›äº†å®‰å…¨åˆç®€å•çš„å¤„ç†æ–¹å¼ï¼šå£°æ˜ä¸€ä¸ª <code>block</code>ï¼Œå½“å‰ä»£ç æ‰§è¡Œçš„é—­åŒ…é€€å‡ºæ—¶ä¼šæ‰§è¡Œè¯¥ <code>block</code> ã€‚</p>
<p>å…·ä½“æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªæ —å­ï¼š</p>
<h4 id="ä¸¾ä¸ªæ —å­"><a href="#ä¸¾ä¸ªæ —å­" class="headerlink" title="ä¸¾ä¸ªæ —å­"></a>ä¸¾ä¸ªæ —å­</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Darwin</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">currentHostName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">let</span> capacity = <span class="type">Int</span>(<span class="type">NI_MAXHOST</span>)</div><div class="line">    <span class="keyword">let</span> buffer = <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">Int8</span>&gt;.allocate(capacity: capacity)</div><div class="line"></div><div class="line">    <span class="comment">//è°ƒç”¨ gethostname(2) çš„å‡½æ•°ï¼Œç”¨æ¥è¿”å›å½“å‰ç³»ç»Ÿçš„ä¸»æœºåç§°</span></div><div class="line">    <span class="keyword">guard</span> gethostname(buffer, capacity) == <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        buffer.deallocate()</div><div class="line">        <span class="keyword">return</span> <span class="string">"localhost"</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> hostname = <span class="type">String</span>(cString: buffer)</div><div class="line">    buffer.deallocate()</div><div class="line"></div><div class="line">    <span class="keyword">return</span> hostname</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªåœ¨æœ€å¼€å§‹å°±åˆ›å»ºçš„ <code>UnsafeMutablePointer&lt;UInt8&gt;</code> ç”¨äºå­˜å‚¨ç›®æ ‡æ•°æ®ï¼Œä½†æ˜¯æˆ‘<strong>æ—¢è¦</strong>åœ¨é”™è¯¯å‘ç”Ÿåé”€æ¯å®ƒï¼Œ<strong>åˆè¦</strong>åœ¨æ­£å¸¸æµç¨‹ä¸‹ä¸å†ä½¿ç”¨å®ƒæ—¶å¯¹å…¶è¿›è¡Œé”€æ¯ã€‚</p>
<p>è¿™ç§è®¾è®¡å¾ˆå®¹æ˜“å¯¼è‡´é”™è¯¯ï¼Œè€Œä¸”ä¸åœåœ°åœ¨åšé‡å¤å·¥ä½œã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ <code>defer</code> è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥æ’é™¤æ½œåœ¨çš„é”™è¯¯å¹¶ä¸”ç®€åŒ–ä»£ç ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">currentHostName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">let</span> capacity = <span class="type">Int</span>(<span class="type">NI_MAXHOST</span>)</div><div class="line">    <span class="keyword">let</span> buffer = <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">Int8</span>&gt;.allocate(capacity: capacity)</div><div class="line">    </div><div class="line">    <span class="keyword">defer</span> &#123; buffer.deallocate() &#125;</div><div class="line"></div><div class="line">    <span class="keyword">guard</span> gethostname(buffer, capacity) == <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"localhost"</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="type">String</span>(cString: buffer)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å°½ç®¡ <code>defer</code> ç´§æ¥ç€å‡ºç°åœ¨ <code>allocate(capacity:)</code> è°ƒç”¨ä¹‹åï¼Œä½†å®ƒè¦ç­‰åˆ°å½“å‰åŒºåŸŸç»“æŸæ—¶æ‰ä¼šè¢«æ‰§è¡Œã€‚å¤šäºäº† <code>defer</code>ï¼Œ<code>buffer</code> æ‰èƒ½æ— è®ºåœ¨å“ªä¸ªç‚¹é€€å‡ºå‡½æ•°éƒ½å¯ä»¥è¢«é‡Šæ”¾ã€‚</p>
<p>è€ƒè™‘åœ¨ä»»ä½•éœ€è¦é…å¯¹è°ƒç”¨çš„ API ä¸Šéƒ½ä½¿ç”¨ <code>defer</code>ï¼Œæ¯”å¦‚ <code>allocate(capacity:)</code> / <code>deallocate()</code>ã€<code>wait()</code> / <code>signal()</code> å’Œ <code>open()</code> / <code>close()</code>ã€‚è¿™æ ·çš„è¯ï¼Œä½ å°±å¯ä»¥æ¶ˆé™¤ä¸€ç§ç¨‹åºå‘˜æ˜“çŠ¯çš„é”™è¯¯ã€‚</p>
<h4 id="å¤šä¸ª-defer"><a href="#å¤šä¸ª-defer" class="headerlink" title="å¤šä¸ª defer"></a>å¤šä¸ª <code>defer</code></h4><p>å¦‚æœåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ä½¿ç”¨å¤šä¸ª <code>defer</code> è¯­å¥ï¼Œå®ƒä»¬ä¼šæ ¹æ®å‡ºç°é¡ºåºåè¿‡æ¥æ‰§è¡Œâ€”â€”åƒæ ˆä¸€æ ·ã€‚è¿™ä¸ªååºæ˜¯éå¸¸é‡è¦çš„ç»†èŠ‚ï¼Œä¿è¯äº†è¢«å»¶è¿Ÿçš„ä»£ç å—åˆ›å»ºæ—¶ä½œç”¨åŸŸå†…å­˜åœ¨çš„ä¸œè¥¿ï¼Œåœ¨ä»£ç å—æ‰§è¡ŒåŒæ ·å­˜åœ¨ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ‰§è¡Œè¿™æ®µä»£ç ä¼šå¾—åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">procrastinate</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"wash the dishes"</span>) &#125;</div><div class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"take out the recycling"</span>) &#125;</div><div class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"clean the refrigerator"</span>) &#125;</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"play videogames"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">/*  è¾“å‡ºç»“æœï¼š</span></div><div class="line"><span class="comment">	play videogames</span></div><div class="line"><span class="comment">	clean the refrigerator</span></div><div class="line"><span class="comment">	take out the recycling</span></div><div class="line"><span class="comment">	wash the dishes</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœä½ åƒè¿™æ ·åµŒå¥— <code>defer</code> è¯­å¥ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">defer</span> &#123; <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"clean the gutter"</span>) &#125; &#125;</div></pre></td></tr></table></figure>
<p>å“ˆå“ˆï¼Œå½“ç„¶ä½ å¯ä»¥äº²è‡ªè¯•ä¸€ä¸‹ã€‚</p>
<h4 id="defer-ä¸­çš„å˜é‡"><a href="#defer-ä¸­çš„å˜é‡" class="headerlink" title="defer ä¸­çš„å˜é‡"></a><code>defer</code> ä¸­çš„å˜é‡</h4><p>å¦‚æœåœ¨ <code>defer</code> è¯­å¥ä¸­å¼•ç”¨äº†ä¸€ä¸ªå˜é‡ï¼Œæ‰§è¡Œæ—¶ä¼šç”¨åˆ°å˜é‡æœ€ç»ˆçš„å€¼ã€‚æ¢å¥è¯è¯´ï¼š<code>defer</code> ä»£ç å—ä¸ä¼šæ•è·å˜é‡å½“å‰çš„å€¼ã€‚</p>
<p>å¦‚æœä½ è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šå¾—åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">flipFlop</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">var</span> position = <span class="string">"It's pronounced /É¡Éªf/"</span></div><div class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(position) &#125;</div><div class="line"></div><div class="line">    position = <span class="string">"It's pronounced /dÊ’Éªf/"</span></div><div class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(position) &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*  è¾“å‡ºç»“æœï¼š</span></div><div class="line"><span class="comment">	It's pronounced /dÊ’Éªf/</span></div><div class="line"><span class="comment">	It's pronounced /dÊ’Éªf/</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
<h4 id="defer-è·³ä¸å‡ºä½œç”¨åŸŸ"><a href="#defer-è·³ä¸å‡ºä½œç”¨åŸŸ" class="headerlink" title="defer è·³ä¸å‡ºä½œç”¨åŸŸ"></a><code>defer</code> è·³ä¸å‡ºä½œç”¨åŸŸ</h4><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ <code>defer</code> ä»£ç å—æ— æ³•è·³å‡ºå®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸã€‚å› æ­¤å¦‚ä½ å°è¯•è°ƒç”¨ä¸€ä¸ªä¼š throw çš„æ–¹æ³•ï¼ŒæŠ›å‡ºçš„é”™è¯¯å°±æ— æ³•ä¼ é€’åˆ°å…¶å‘¨å›´çš„ä¸Šä¸‹æ–‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">burnAfterReading</span><span class="params">(file url: URL)</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">defer</span> &#123; <span class="keyword">try</span> <span class="type">FileManager</span>.<span class="keyword">default</span>.removeItem(at: url) &#125;</div><div class="line">    <span class="comment">// ğŸ›‘ Errors not handled</span></div><div class="line"></div><div class="line">    <span class="keyword">let</span> string = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: url)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½œä¸ºæ›¿ä»£ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>try?</code> æ¥æ— è§†æ‰é”™è¯¯ï¼Œæˆ–è€…ç›´æ¥å°†è¯­å¥ç§»å‡º <code>defer</code> ä»£ç å—ï¼Œå°†å…¶æ”¾åˆ°å‡½æ•°çš„æœ€åï¼Œæ­£å¸¸çš„æ‰§è¡Œã€‚</p>
<h4 id="defer-å¹¶ä¸æ˜¯æ€»æ˜¯ä¼šæ‰§è¡Œ"><a href="#defer-å¹¶ä¸æ˜¯æ€»æ˜¯ä¼šæ‰§è¡Œ" class="headerlink" title="defer å¹¶ä¸æ˜¯æ€»æ˜¯ä¼šæ‰§è¡Œ"></a><code>defer</code> å¹¶ä¸æ˜¯æ€»æ˜¯ä¼šæ‰§è¡Œ</h4><p>çœ‹çœ‹ä¸‹é¢è¿™ä¸ªæ —å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</div><div class="line">  <span class="keyword">guard</span> <span class="literal">false</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</div><div class="line">  <span class="keyword">defer</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"finally"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ˜¾ç„¶ï¼Œä¸Šé¢æ°¸è¿œä¸ä¼šæ‰§è¡Œåˆ° <code>defer</code> è¿™ä¸€å¥ï¼Œè¿™æ—¶å€™å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>è¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼Œè‡³å°‘è¦æ‰§è¡Œåˆ° <code>defer</code> è¿™ä¸€è¡Œï¼Œå®ƒæ‰ä¿è¯åé¢ä¼šè§¦å‘ã€‚</p>
<h4 id="defer-çš„åå¤„"><a href="#defer-çš„åå¤„" class="headerlink" title="defer çš„åå¤„"></a><code>defer</code> çš„åå¤„</h4><p>è™½ç„¶ <code>defer</code> åƒä¸€ä¸ªè¯­æ³•ç³–ä¸€æ ·ï¼Œä½†ä¹Ÿè¦å°å¿ƒä½¿ç”¨é¿å…å½¢æˆå®¹æ˜“è¯¯è§£ã€éš¾ä»¥é˜…è¯»çš„ä»£ç ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ä½ å¯èƒ½ä¼šå°è¯•ç”¨ <code>defer</code> æ¥å¯¹æŸäº›å€¼è¿”å›ä¹‹å‰åšæœ€åä¸€æ­¥çš„å¤„ç†ï¼Œä¾‹å¦‚è¯´åœ¨åç½®è¿ç®—ç¬¦ <code>++</code> çš„å®ç°ä¸­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">postfix</span> <span class="function"><span class="keyword">func</span> ++<span class="params">(<span class="keyword">inout</span> x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">let</span> current = x</div><div class="line">    x += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> current</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨ <code>defer</code> æ¥è¿›è¡Œä¸€ä¸ªå¾ˆå¦ç±»çš„æ“ä½œã€‚å¦‚æœèƒ½åœ¨ defer ä¸­å¤„ç†çš„è¯ä¸ºä»€ä¹ˆè¦åˆ›å»ºä¸´æ—¶å˜é‡å‘¢ï¼Ÿ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">postfix</span> <span class="function"><span class="keyword">func</span> ++<span class="params">(<span class="keyword">inout</span> x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">defer</span> &#123; x += <span class="number">1</span> &#125;</div><div class="line">    <span class="keyword">return</span> x</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•ç¡®å®èªæ˜ï¼Œä½†è¿™æ ·å´é¢ å€’äº†å‡½æ•°çš„é€»è¾‘é¡ºåºï¼Œæå¤§é™ä½äº†ä»£ç çš„å¯è¯»æ€§ã€‚åº”è¯¥ä¸¥æ ¼éµå¾ª <code>defer</code>åœ¨æ•´ä¸ªç¨‹åºæœ€åè¿è¡Œä»¥é‡Šæ”¾å·²ç”³è¯·èµ„æºçš„åŸåˆ™ï¼Œå…¶ä»–ä»»ä½•ä½¿ç”¨æ–¹æ³•éƒ½å¯èƒ½è®©ä»£ç ä¹±æˆä¸€å›¢ã€‚</p>
<p>ä¸€è„¸æ‡µé€¼æ˜¯ä¸æ˜¯ï¼Ÿ</p>
<p><strong>å†™åœ¨æœ€åï¼š</strong></p>
<p>ã€Œèªæ˜çš„ç¨‹åºå‘˜æ˜ç™½è‡ªå·±çš„å±€é™æ€§ã€ï¼Œæˆ‘ä»¬å¿…é¡»æƒè¡¡æ¯ç§è¯­è¨€ç‰¹æ€§çš„å¥½å¤„å’Œå…¶æˆæœ¬ã€‚</p>
<p>ç±»ä¼¼äº <code>guard</code> çš„æ–°ç‰¹æ€§èƒ½è®©ä»£ç æµç¨‹ä¸Šæ›´çº¿æ€§ï¼Œå¯è¯»æ€§æ›´é«˜ï¼Œå°±åº”è¯¥å°½å¯èƒ½ä½¿ç”¨ã€‚</p>
<p>åŒæ · <code>defer</code> ä¹Ÿè§£å†³äº†é‡è¦çš„é—®é¢˜ï¼Œä½†æ˜¯ä¼šå¼ºè¿«æˆ‘ä»¬ä¸€å®šè¦æ‰¾åˆ°å®ƒå£°æ˜çš„åœ°æ–¹æ‰èƒ½è¿½è¸ªåˆ°å…¶é”€æ¯çš„æ–¹æ³•ï¼Œå› ä¸ºå£°æ˜æ–¹æ³•å¾ˆå®¹æ˜“è¢«æ»šåŠ¨å‡ºäº†è§†é‡ä¹‹å¤–ï¼Œæ‰€ä»¥åº”è¯¥å°½å¯èƒ½éµå¾ªå®ƒå‡ºç°çš„åˆè¡·å°½å¯èƒ½å°‘åœ°ä½¿ç”¨ï¼Œé¿å…é€ æˆæ··æ·†å’Œæ™¦æ¶©ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰é¢æœ‰è¯´åˆ°ï¼Œåœ¨ &lt;em&gt;swift 2.0&lt;/em&gt;  å¼•å…¥äº† &lt;code&gt;guard&lt;/code&gt; å…³é”®å­—ï¼Œå¯ä»¥è®©ä»£ç ç¼–å†™æ›´æµç•…ã€‚å®ƒçš„ä¼˜é›…ç®€æ´è€ŒåŠŸèƒ½å¼ºå¤§ç¡®å®ç»™äº†æˆ‘ä»¬æå¤§çš„æ–¹ä¾¿ã€‚å…·ä½“å¯ä»¥å‚è§ &lt;a href=&quot;https://robberjj.github.io/2018/11/30/Swift-Tips-if-let-var-guard-let-var-%E5%85%A8%E8%A7%A3%E6%9E%90/&quot;&gt;è¿™é‡Œ&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è€Œï¼Œè·Ÿ &lt;code&gt;guard&lt;/code&gt; ä¸€åŒå¼•å…¥çš„è¿˜æœ‰ä¸€ä¸ªå…³é”®å­— â€”â€” &lt;code&gt;defer&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h4 id=&quot;defer&quot;&gt;&lt;a href=&quot;#defer&quot; class=&quot;headerlink&quot; title=&quot;defer&quot;&gt;&lt;/a&gt;defer&lt;/h4&gt;&lt;p&gt;ä¸€å¥è¯æ€»ç»“ &lt;code&gt;defer&lt;/code&gt; å°±æ˜¯ï¼šè®©æ‰§è¡Œæ¨è¿Ÿã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="swift" scheme="https://robberjj.github.io/categories/swift/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="Swift" scheme="https://robberjj.github.io/tags/Swift/"/>
    
      <category term="Swift Tips" scheme="https://robberjj.github.io/tags/Swift-Tips/"/>
    
  </entry>
  
  <entry>
    <title>Swift Tips - ç®€å•å®ç”¨çš„ç‰¹æ®Šæ ‡è®°ï¼ˆMAKE &amp; TODO &amp; FIXMEï¼‰</title>
    <link href="https://robberjj.github.io/2018/12/03/Swift-Tips-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%94%A8%E7%9A%84%E7%89%B9%E6%AE%8A%E6%A0%87%E8%AE%B0-MAKE-TODO-FIXME/"/>
    <id>https://robberjj.github.io/2018/12/03/Swift-Tips-ç®€å•å®ç”¨çš„ç‰¹æ®Šæ ‡è®°-MAKE-TODO-FIXME/</id>
    <published>2018-12-03T06:45:23.000Z</published>
    <updated>2018-12-03T07:04:51.857Z</updated>
    
    <content type="html"><![CDATA[<p>é€šå¸¸æˆ‘ä»¬åœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œäº¦æˆ–æ˜¯ä¸ºäº†å…¶ä»–çš„ç›®çš„ï¼Œè€Œå¸Œæœ›å¯ä»¥é€šè¿‡ç®€å•çš„æ–¹å¼ï¼Œè¿…é€Ÿçš„å®Œæˆæ ‡è®°ã€‚</p>
<p>åœ¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ <code>OC</code> ä¸­æˆ‘ä»¬æœ‰ä¸¤ç§æ ‡è®°æ–¹å¼ï¼š</p>
<p>å…¶ä¸­ä¸€ç§æ˜¯ <code>#pragram mark - xxx</code> æ–¹å¼ã€‚</p>
<a id="more"></a>
<p>è€Œå¦ä¸€ç§æ˜¯ä¸‹é¢è¿™ç§ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// <span class="doctag">TODO:</span> æ ‡ç¤ºå¤„æœ‰åŠŸèƒ½ä»£ç å¾…ç¼–å†™ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// <span class="doctag">TODO:</span></span></div><div class="line"><span class="comment">// <span class="doctag">FIXME:</span> æ ‡ç¤ºå¤„ä»£ç éœ€è¦ä¿®æ­£ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// <span class="doctag">FIXME:</span></span></div><div class="line"><span class="comment">// !!!: æ ‡ç¤ºå¤„ä»£ç éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// !!!:</span></div><div class="line"><span class="comment">// ???: æ ‡ç¤ºå¤„ä»£ç æœ‰ç–‘é—®ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// ???:</span></div><div class="line"><span class="comment">// MARK: æ ‡è®°ï¼Œå’Œ#pragma markæ•ˆæœç›¸åŒï¼Œä½¿ç”¨æ–¹æ³•ï¼š// MARK:</span></div></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥åŠ ä¸Šåˆ†å‰²çº¿<code>-</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// <span class="doctag">TODO:</span> - æ ‡ç¤ºå¤„æœ‰åŠŸèƒ½ä»£ç å¾…ç¼–å†™ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// <span class="doctag">TODO:</span></span></div><div class="line"><span class="comment">// <span class="doctag">FIXME:</span> - æ ‡ç¤ºå¤„ä»£ç éœ€è¦ä¿®æ­£ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// <span class="doctag">FIXME:</span></span></div><div class="line"><span class="comment">// !!!: - æ ‡ç¤ºå¤„ä»£ç éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// !!!:</span></div><div class="line"><span class="comment">// ???: - æ ‡ç¤ºå¤„ä»£ç æœ‰ç–‘é—®ï¼Œä½¿ç”¨æ–¹æ³•ï¼š// ???:</span></div><div class="line"><span class="comment">// MARK: - æ ‡è®°ï¼Œå’Œ#pragma markæ•ˆæœç›¸åŒï¼Œä½¿ç”¨æ–¹æ³•ï¼š// MARK:</span></div><div class="line"></div><div class="line"><span class="comment">// MARK: -</span></div></pre></td></tr></table></figure>
<p>åœ¨Xcode 10ä¸Šå±•ç¤ºå¯è°“æ˜¯ç”±å¾ˆå¥½çš„é¢œå€¼&amp;æ¸…æ™°åº¦ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-bb1ae0741489ab84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="6944660C-17FF-4ADB-B5FF-D4AA694C2633.png"></p>
<p>ä½†æ˜¯ï¼Œåœ¨swiftä¸­ï¼Œ<code>#pragram mark - xxx</code> çš„æ–¹å¼å¹¶ä¸èƒ½è¢«ç¼–è¯‘å™¨è¯†åˆ«ï¼Œä¸‡å¹¸çš„æ˜¯å¦å¤–ä¸€ç§ä¸­çš„ <code>MARK:</code> &amp; <code>TODO:</code> &amp; <code>FIXME:</code> ä¾æ—§è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚ï¼ˆåŒ…æ‹¬å¯ä»¥åŠ ä¸Šåˆ†å‰²çº¿ <code>-</code> ï¼‰</p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-9708ac3a3d3728ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="41F87AD0-34E6-4B0E-8308-386D5B49CABC.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®åœ¨ä»£ç ä¸­æ ‡è®°çš„ä½ç½®ï¼Œå¯ä»¥æ¸…æ™°çš„æ˜¾ç¤ºå‡ºå¯¹åº”çš„å±‚æ¬¡ã€‚</p>
<p>å•Šå“ˆï¼ä»¥ä¸Šã€‚</p>
<p>å¸Œæœ›ä»¥ä¸Šå¯ä»¥å¯¹ä½ æœ‰äº›å¸®åŠ©ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é€šå¸¸æˆ‘ä»¬åœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œäº¦æˆ–æ˜¯ä¸ºäº†å…¶ä»–çš„ç›®çš„ï¼Œè€Œå¸Œæœ›å¯ä»¥é€šè¿‡ç®€å•çš„æ–¹å¼ï¼Œè¿…é€Ÿçš„å®Œæˆæ ‡è®°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ &lt;code&gt;OC&lt;/code&gt; ä¸­æˆ‘ä»¬æœ‰ä¸¤ç§æ ‡è®°æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ä¸€ç§æ˜¯ &lt;code&gt;#pragram mark - xxx&lt;/code&gt; æ–¹å¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="swift" scheme="https://robberjj.github.io/categories/swift/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="Swift" scheme="https://robberjj.github.io/tags/Swift/"/>
    
      <category term="Swift Tips" scheme="https://robberjj.github.io/tags/Swift-Tips/"/>
    
  </entry>
  
  <entry>
    <title>Swift Tips - if let/var &amp; guard let/var å…¨è§£æ</title>
    <link href="https://robberjj.github.io/2018/11/30/Swift-Tips-if-let-var-guard-let-var-%E5%85%A8%E8%A7%A3%E6%9E%90/"/>
    <id>https://robberjj.github.io/2018/11/30/Swift-Tips-if-let-var-guard-let-var-å…¨è§£æ/</id>
    <published>2018-11-30T05:57:39.000Z</published>
    <updated>2018-11-30T10:28:30.687Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜å¼•å‡ºï¼š"><a href="#é—®é¢˜å¼•å‡ºï¼š" class="headerlink" title="é—®é¢˜å¼•å‡ºï¼š"></a>é—®é¢˜å¼•å‡ºï¼š</h3><p><em>swift</em> ç¥å¥‡çš„å¼•å…¥äº†ä¸€ä¸ªç±»å‹â€”â€”<em><strong>å¯é€‰ç±»å‹ï¼ˆoptionalsï¼‰</strong></em>ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¦æ˜¯æŒ‰ç…§ä»¥å¾€ï¼ˆæ¯”å¦‚OCï¼‰çš„å¥—è·¯åœ¨ä½¿ç”¨å¯é€‰ç±»å‹å®šä¹‰çš„å¸¸é‡çš„æ—¶å€™ï¼Œåˆä¼šè®©ä½ å´©æºƒæŠ“ç‹‚ã€‚</p>
<p>å› ä¸º <em>swift</em> æ˜¯ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œæ‰€ä»¥å¯é€‰ç±»å‹çš„å¸¸é‡åœ¨ <code>if</code> åˆ¤æ–­ä¹‹åä»ç„¶éœ€è¦ <em>è§£åŒ…(<code>!</code>)</em> ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name: <span class="type">String</span>? = <span class="string">"è€ç‹"</span></div><div class="line"><span class="keyword">let</span> age: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> name != <span class="literal">nil</span> &amp;&amp; age != <span class="literal">nil</span> &#123;</div><div class="line">    <span class="built_in">print</span>(name! + <span class="type">String</span>(age!))     <span class="comment">// è¾“å‡º:è€ç‹10</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å€˜è‹¥ï¼Œä½ ä¸åŠ ä¸Š <code>!</code> ï¼Œæ ¹æœ¬å°±ä¸ä¼šè®©ä½ ç¼–è¯‘é€šè¿‡ï¼Œè€Œï¼ŒåŠ ä¸Šå‘¢ï¼Ÿåˆä¼šå¦‚æ­¤çš„éº»çƒ¦ã€‚éš¾é“ä¼˜é›…çš„ <em>swift</em> å°±æ²¡æœ‰è§£å†³åŠæ³•å—ï¼Ÿ</p>
<a id="more"></a>
<p>ç­”æ¡ˆï¼Œæ˜¾ç„¶æ˜¯æœ‰çš„â€”â€” <em><strong><code>if let</code></strong></em> ã€‚</p>
<h3 id="if-let"><a href="#if-let" class="headerlink" title="if let"></a><code>if let</code></h3><p> <code>if let</code> çš„æ ‡å‡†å¥—è·¯ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> constantName = someOptional &#123;</div><div class="line">   <span class="comment">//statements using 'constantName' </span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line"><span class="comment">// the value of someOptional is not set (or nil).</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯šå¦‚ä¸Šé¢çš„æ —å­ï¼Œå€˜è‹¥é€šè¿‡ <code>if let</code> åŠ ä»¥å®ç°ï¼Œå°±ä¸éœ€è¦ <em>è§£åŒ…(<code>!</code>)</em> çš„æ“ä½œäº†,ç”šè‡³å¯ä»¥æ·»åŠ å¤šä¸ªæ¡ä»¶ï¼Œ<code>,</code> éš”å¼€å³å¯:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name: <span class="type">String</span>? = <span class="string">"è€ç‹"</span></div><div class="line"><span class="keyword">let</span> age: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="comment">// if let è¿ç”¨,åˆ¤æ–­å¯¹è±¡çš„å€¼æ˜¯å¦ä¸º'nil'</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> nameNew = name,</div><div class="line">    <span class="keyword">let</span> ageNew = age &#123;</div><div class="line">    </div><div class="line">    <span class="comment">// è¿›å…¥åˆ†æ”¯å,nameNew å’Œ ageNew ä¸€å®šæœ‰å€¼</span></div><div class="line">    <span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew)) <span class="comment">// è¾“å‡º:è€ç‹10</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</strong><code>if let</code> è½¬æ¢çš„ <em>å¸¸é‡</em> çš„ä½œç”¨åŸŸåªæ˜¯åœ¨ <code>if let {}</code>ä¸­ã€‚</p>
<h3 id="if-var"><a href="#if-var" class="headerlink" title="if var"></a><code>if var</code></h3><p><code>if var</code> ä¸ <code>if let</code> çš„ç”¨æ³•ã€è¯­æ³•éƒ½æ˜¯åŸºæœ¬ç›¸åŒçš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ <code>if var</code> è½¬æ¢å‡ºæ¥æ˜¯ <em>å˜é‡</em> ï¼Œå¹¶ä¸”ï¼Œè¿™ä¸ª <em>å˜é‡</em>  åœ¨å…¶ä½œç”¨åŸŸ <code>{}</code> å†…æ˜¯å¯ä»¥ä¿®æ”¹å…¶å€¼çš„ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name: <span class="type">String</span>? = <span class="string">"è€ç‹"</span></div><div class="line"><span class="keyword">let</span> age: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">var</span> nameNew = name,</div><div class="line">    <span class="keyword">let</span> ageNew = age &#123;</div><div class="line">    <span class="comment">// 'var'ä¿®é¥°,å¯ä»¥ä¿®æ”¹'nameNew'çš„å€¼,'let'ä¿®æ”¹çš„ä¸å¯ä»¥ä¿®æ”¹</span></div><div class="line">    nameNew = <span class="string">"è€æ"</span></div><div class="line">    <span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew))     <span class="comment">// è¾“å‡º:è€æ10</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è™½ç„¶ <code>if var</code> åœ¨å…¶ä½œç”¨åŸŸ <code>{}</code> å†…æ˜¯å¯ä»¥ä¿®æ”¹å…¶å€¼çš„ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼Œæ›´æ”¹çš„å€¼å‡ºäº†ä½œç”¨åŸŸä¹‹åå°±å¤±æ•ˆäº†ï¼Œæ‰€ä»¥é€šå¸¸åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¹¶æ²¡æœ‰å¤ªå¸¸ç”¨ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œæ–‡ç« å¼€å§‹çš„é—®é¢˜å·²ç»è¢«ä¼˜é›…çš„ <code>swift</code> åŒ–è§£äº†ï¼Œä½†æ˜¯ä¾æ—§ä¸æ˜¯å¾ˆå®Œç¾ï¼Œæ­£å¦‚ä¸Šé¢æåˆ°çš„ <code>if let/var</code> çš„ç¼ºç‚¹ï¼š<strong>ä½œç”¨åŸŸå¤ªç‹­çª„</strong> ã€‚</p>
<p>æ‰€ä»¥ï¼Œ <code>swift</code> å½“ç„¶ä¸å¯èƒ½æ­¢æ­¥äºæ­¤ã€‚</p>
<p><strong>è‰¯å¿ƒæ¨èï¼š</strong> <em><strong><code>guard let/var</code></strong></em></p>
<h3 id="guard-let-var"><a href="#guard-let-var" class="headerlink" title="guard let/var"></a><code>guard let/var</code></h3><p>æˆ‘ä»¬é€šå¸¸è¯´ <code>guard</code> æ˜¯ä¸ºäº†å®ˆæŠ¤ä¸€å®šæœ‰å€¼ã€‚å¥—è·¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">guard</span> <span class="keyword">let</span>/<span class="keyword">var</span> constantName = expression <span class="keyword">else</span> &#123; </div><div class="line">    <span class="keyword">return</span> value</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ¯”å¦‚ï¼Œä¸Šé¢çš„æ —å­æˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name: <span class="type">String</span>? = <span class="string">"è€ç‹"</span></div><div class="line"><span class="keyword">let</span> age: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="keyword">guard</span> <span class="keyword">let</span> nameNew = name,</div><div class="line">    <span class="keyword">let</span> ageNew = age <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"å§“å æˆ– å¹´é¾„ ä¸ºnil"</span>)</div><div class="line">        <span class="keyword">return</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// ä»£ç æ‰§è¡Œè‡³æ­¤, nameNew å’Œ ageNew ä¸€å®šæœ‰å€¼</span></div><div class="line"><span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew))     <span class="comment">// è¾“å‡º:è€ç‹10</span></div></pre></td></tr></table></figure>
<p><code>guard</code> å°±ä¿è¯äº†å®ƒä¹‹åçš„ä»£ç ç›¸å…³å€¼æ˜¯è‚¯å®šæœ‰çš„ã€‚</p>
<p><code>guard</code> ä»…åœ¨æ¡ä»¶ä¸ºå‡æ—¶è¿è¡Œï¼Œå¹¶ä¸”å°†é€šè¿‡è¯¸å¦‚returnï¼Œbreakï¼Œcontinueæˆ–thrownä¹‹ç±»çš„æ§åˆ¶è½¬ç§»è¯­å¥é€€å‡ºä»£ç å—ã€‚å®ƒæä¾›çš„è¿™ç§ <em>æå‰é€€å‡º</em> æ„å‘³ç€æ›´å¿«çš„æ‰§è¡Œã€‚</p>
<p>è€Œä¸”ï¼Œè¯­æ³•ä¸Šå°‘äº†ä¸€å±‚æ‹¬å·ï¼Œæ›´ç®€æ´ä¸€äº›ï¼Œä¸æ˜¯å—ï¼Ÿ</p>
<p><strong>æ›´é‡è¦çš„æ˜¯ï¼š</strong> <code>guard let/var</code> å¼¥è¡¥äº† <code>if let/var</code> çš„ç¼ºé™·ï¼Œå¯ä»¥åœ¨ <code>{}</code> ä»¥å¤–çš„åœ°æ–¹ç»§ç»­ä½¿ç”¨ç”šè‡³ä¿®æ”¹ï¼ˆ<code>var</code>ï¼‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name: <span class="type">String</span>? = <span class="string">"è€ç‹"</span></div><div class="line"><span class="keyword">let</span> age: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="keyword">guard</span> <span class="keyword">var</span> nameNew = name,</div><div class="line">    <span class="keyword">let</span> ageNew = age <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 'var'ä¿®é¥°,å¯ä»¥ä¿®æ”¹'nameNew'çš„å€¼,'let'ä¿®æ”¹çš„ä¸å¯ä»¥ä¿®æ”¹</span></div><div class="line">    nameNew = <span class="string">"è€æ"</span></div><div class="line">    <span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew))     <span class="comment">// è¾“å‡º:è€æ10</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew))     <span class="comment">// è¾“å‡º:è€æ10</span></div><div class="line"></div><div class="line">nameNew = <span class="string">"è€å¼ "</span></div><div class="line"><span class="built_in">print</span>(nameNew + <span class="type">String</span>(ageNew))     <span class="comment">// è¾“å‡º:è€å¼ 10</span></div></pre></td></tr></table></figure>
<p>æå®šæ”¶å·¥ï¼</p>
<p>è‡³æ­¤ï¼Œæœ‰æ²¡æœ‰è§£å†³ä½ çš„ç–‘é—®äº†ï¼Ÿè¯„è®ºå‘Šè¯‰æˆ‘ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;é—®é¢˜å¼•å‡ºï¼š&quot;&gt;&lt;a href=&quot;#é—®é¢˜å¼•å‡ºï¼š&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜å¼•å‡ºï¼š&quot;&gt;&lt;/a&gt;é—®é¢˜å¼•å‡ºï¼š&lt;/h3&gt;&lt;p&gt;&lt;em&gt;swift&lt;/em&gt; ç¥å¥‡çš„å¼•å…¥äº†ä¸€ä¸ªç±»å‹â€”â€”&lt;em&gt;&lt;strong&gt;å¯é€‰ç±»å‹ï¼ˆoptionalsï¼‰&lt;/strong&gt;&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæˆ‘ä»¬è¦æ˜¯æŒ‰ç…§ä»¥å¾€ï¼ˆæ¯”å¦‚OCï¼‰çš„å¥—è·¯åœ¨ä½¿ç”¨å¯é€‰ç±»å‹å®šä¹‰çš„å¸¸é‡çš„æ—¶å€™ï¼Œåˆä¼šè®©ä½ å´©æºƒæŠ“ç‹‚ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸º &lt;em&gt;swift&lt;/em&gt; æ˜¯ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œæ‰€ä»¥å¯é€‰ç±»å‹çš„å¸¸é‡åœ¨ &lt;code&gt;if&lt;/code&gt; åˆ¤æ–­ä¹‹åä»ç„¶éœ€è¦ &lt;em&gt;è§£åŒ…(&lt;code&gt;!&lt;/code&gt;)&lt;/em&gt; ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; name: &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;? = &lt;span class=&quot;string&quot;&gt;&quot;è€ç‹&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; age: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;? = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; name != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;amp;&amp;amp; age != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(name! + &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;(age!))     &lt;span class=&quot;comment&quot;&gt;// è¾“å‡º:è€ç‹10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å€˜è‹¥ï¼Œä½ ä¸åŠ ä¸Š &lt;code&gt;!&lt;/code&gt; ï¼Œæ ¹æœ¬å°±ä¸ä¼šè®©ä½ ç¼–è¯‘é€šè¿‡ï¼Œè€Œï¼ŒåŠ ä¸Šå‘¢ï¼Ÿåˆä¼šå¦‚æ­¤çš„éº»çƒ¦ã€‚éš¾é“ä¼˜é›…çš„ &lt;em&gt;swift&lt;/em&gt; å°±æ²¡æœ‰è§£å†³åŠæ³•å—ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="swift" scheme="https://robberjj.github.io/categories/swift/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="Swift" scheme="https://robberjj.github.io/tags/Swift/"/>
    
      <category term="Swift Tips" scheme="https://robberjj.github.io/tags/Swift-Tips/"/>
    
  </entry>
  
  <entry>
    <title>Swift Tips - è®¿é—®æ§åˆ¶(private &amp; fileprivate &amp; internal &amp; public &amp; open)</title>
    <link href="https://robberjj.github.io/2018/11/29/Swift-Tips-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6-private-fileprivate-internal-public-open/"/>
    <id>https://robberjj.github.io/2018/11/29/Swift-Tips-è®¿é—®æ§åˆ¶-private-fileprivate-internal-public-open/</id>
    <published>2018-11-29T01:34:30.000Z</published>
    <updated>2018-11-30T05:59:00.212Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Swift è¯­è¨€ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦æœ‰äº”ç§ï¼Œåˆ†åˆ«ä¸º <strong>private</strong>ï¼Œ<strong>fileprivate</strong>ï¼Œ<strong>internal</strong>ï¼Œ<strong>public</strong> å’Œ <strong>open</strong>ã€‚</p>
<blockquote>
<p>å…¶ä¸­ <strong>fileprivate</strong> å’Œ <strong>open</strong> æ˜¯ Swift 3 æ–°æ·»åŠ çš„ã€‚ç”±äºè¿‡å» Swift å¯¹äºè®¿é—®æƒé™çš„æ§åˆ¶ï¼Œä¸æ˜¯åŸºäºç±»çš„ï¼Œè€Œæ˜¯åŸºäºæ–‡ä»¶çš„ã€‚è¿™æ ·ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥ Swift 3 æ–°å¢äº†ä¸¤ä¸ªä¿®é¥°ç¬¦å¯¹åŸæ¥çš„ <strong>private</strong>ã€<strong>public</strong> è¿›è¡Œç»†åˆ†ã€‚</p>
</blockquote>
<a id="more"></a>
<p>ä¸‹é¢åˆ†åˆ«è¯´è¯´å„ç§ä¿®é¥°ç¬¦çš„èŒƒå›´&amp;åŒºåˆ«ï¼š</p>
<ul>
<li><strong>private</strong>ï¼ˆ<em>Classçº§åˆ«</em>ï¼‰<br><em>private</em> è®¿é—®çº§åˆ«æ‰€ä¿®é¥°çš„ <strong>å±æ€§</strong> æˆ–è€… <strong>æ–¹æ³•</strong> åªèƒ½åœ¨ <strong>å½“å‰ç±»</strong> é‡Œè®¿é—®ã€‚<br><strong>æ³¨æ„</strong>ï¼šSwift4 ä¸­ï¼Œ<strong>extension</strong> é‡Œä¹Ÿå¯ä»¥è®¿é—® <em>private</em> çš„å±æ€§ã€‚</li>
</ul>
<ul>
<li><p><strong>fileprivate</strong>ï¼ˆ<em>Fileçº§åˆ«</em>ï¼‰<br><em>fileprivate</em> è®¿é—®çº§åˆ«æ‰€ä¿®é¥°çš„ <strong>å±æ€§</strong> æˆ–è€… <strong>æ–¹æ³•</strong> åœ¨ <strong>å½“å‰çš„ Swift æºæ–‡ä»¶</strong> é‡Œå¯ä»¥è®¿é—®ã€‚</p>
</li>
<li><p><strong>internal</strong>ï¼ˆ<em>Moduleçº§åˆ«ï¼ŒDefault</em>ï¼Œinternalä¿®é¥°ç¬¦å¯å†™å¯ä¸å†™ï¼‰</p>
<ul>
<li><em>internal</em> è®¿é—®çº§åˆ«æ‰€ä¿®é¥°çš„ <strong>å±æ€§</strong> æˆ– <strong>æ–¹æ³•</strong> åœ¨æºä»£ç æ‰€åœ¨çš„ <strong>æ•´ä¸ªæ¨¡å—</strong> éƒ½å¯ä»¥è®¿é—®ã€‚</li>
<li>å¦‚æœæ˜¯æ¡†æ¶æˆ–è€…åº“ä»£ç ï¼Œåˆ™åœ¨æ•´ä¸ª <strong>æ¡†æ¶å†…éƒ¨</strong> éƒ½å¯ä»¥è®¿é—®ï¼Œæ¡†æ¶ç”±å¤–éƒ¨ä»£ç æ‰€å¼•ç”¨æ—¶ï¼Œåˆ™ä¸å¯ä»¥è®¿é—®ã€‚</li>
<li>å¦‚æœæ˜¯ App ä»£ç ï¼Œä¹Ÿæ˜¯åœ¨ <strong>æ•´ä¸ª App ä»£ç </strong>ï¼Œä¹Ÿæ˜¯åœ¨ <strong>æ•´ä¸ª App å†…éƒ¨</strong> å¯ä»¥è®¿é—®ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>public</strong>ï¼ˆ<em>å¼€æ”¾çº§åˆ«ï¼Œä½†æ˜¯æœ‰äº›é™åˆ¶</em>ï¼‰<br>å¯ä»¥è¢« <strong>ä»»ä½•äºº</strong> è®¿é—®ã€‚<br><strong>ä½†</strong>ï¼Œå…¶ä»– module ä¸­ä¸å¯ä»¥è¢« <strong>override</strong> &amp; <strong>ç»§æ‰¿</strong> ï¼Œè€Œåœ¨ <strong>module</strong> å†…å¯ä»¥è¢« <strong>override</strong> &amp; <strong>ç»§æ‰¿</strong> ã€‚</p>
</li>
<li><p><strong>open</strong>ï¼ˆ<em>å¼€æ”¾çº§åˆ«ï¼Œæ— é™åˆ¶</em>ï¼‰<br>å¯ä»¥è¢« <strong>ä»»ä½•äºº</strong> ä½¿ç”¨ï¼ŒåŒ…æ‹¬ <strong>override</strong> &amp; <strong>ç»§æ‰¿</strong> ã€‚</p>
</li>
</ul>
<p><strong>æ€»ç»“</strong>ï¼Œ5ç§ä¿®é¥°ç¬¦è®¿é—®æƒé™æ’åºå¦‚ä¸‹ï¼š</p>
<p><em><strong>open</strong> &gt; <strong>public</strong> &gt; <strong>interal</strong> &gt; <strong>fileprivate</strong> &gt; <strong>private</strong></em></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ Swift è¯­è¨€ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦æœ‰äº”ç§ï¼Œåˆ†åˆ«ä¸º &lt;strong&gt;private&lt;/strong&gt;ï¼Œ&lt;strong&gt;fileprivate&lt;/strong&gt;ï¼Œ&lt;strong&gt;internal&lt;/strong&gt;ï¼Œ&lt;strong&gt;public&lt;/strong&gt; å’Œ &lt;strong&gt;open&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶ä¸­ &lt;strong&gt;fileprivate&lt;/strong&gt; å’Œ &lt;strong&gt;open&lt;/strong&gt; æ˜¯ Swift 3 æ–°æ·»åŠ çš„ã€‚ç”±äºè¿‡å» Swift å¯¹äºè®¿é—®æƒé™çš„æ§åˆ¶ï¼Œä¸æ˜¯åŸºäºç±»çš„ï¼Œè€Œæ˜¯åŸºäºæ–‡ä»¶çš„ã€‚è¿™æ ·ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥ Swift 3 æ–°å¢äº†ä¸¤ä¸ªä¿®é¥°ç¬¦å¯¹åŸæ¥çš„ &lt;strong&gt;private&lt;/strong&gt;ã€&lt;strong&gt;public&lt;/strong&gt; è¿›è¡Œç»†åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="swift" scheme="https://robberjj.github.io/categories/swift/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="Swift" scheme="https://robberjj.github.io/tags/Swift/"/>
    
      <category term="Swift Tips" scheme="https://robberjj.github.io/tags/Swift-Tips/"/>
    
  </entry>
  
  <entry>
    <title>Swift Tips - asã€as!ã€as?ä¸‰ç§ç±»å‹è½¬æ¢æ“ä½œç¬¦åŒºåˆ«</title>
    <link href="https://robberjj.github.io/2018/11/27/Swift-Tips-as%E3%80%81as-%E3%80%81as-%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%8C%BA%E5%88%AB/"/>
    <id>https://robberjj.github.io/2018/11/27/Swift-Tips-asã€as-ã€as-ä¸‰ç§ç±»å‹è½¬æ¢æ“ä½œç¬¦åŒºåˆ«/</id>
    <published>2018-11-27T07:51:51.000Z</published>
    <updated>2018-12-04T02:48:53.166Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œæ•´ç†æ€»ç»“ä¸‹ asã€as!ã€as? è¿™ä¸‰ç§ç±»å‹è½¬æ¢æ“ä½œç¬¦çš„å¼‚åŒï¼Œä»¥åŠå„è‡ªçš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<h4 id="asä½¿ç”¨åœºåˆ"><a href="#asä½¿ç”¨åœºåˆ" class="headerlink" title="asä½¿ç”¨åœºåˆ"></a>asä½¿ç”¨åœºåˆ</h4><ul>
<li>ä»æ´¾ç”Ÿç±»è½¬æ¢ä¸ºåŸºç±»ï¼Œå‘ä¸Šè½¬å‹ï¼ˆupcastsï¼‰</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Animal</span>Â </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:Â <span class="title">Animal</span> </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> cat =Â <span class="type">Cat</span>()</div><div class="line"></div><div class="line"><span class="keyword">let</span> animal = catÂ <span class="keyword">as</span> <span class="type">Animal</span></div></pre></td></tr></table></figure>
<ul>
<li>æ¶ˆé™¤äºŒä¹‰æ€§ï¼Œæ•°å€¼ç±»å‹è½¬æ¢</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> num1 = <span class="number">42</span> <span class="keyword">as</span> <span class="type">CGFloat</span></div><div class="line"><span class="keyword">let</span> num2 = <span class="number">42</span> <span class="keyword">as</span> <span class="type">Int</span></div><div class="line"><span class="keyword">let</span> num3 = <span class="number">42.5</span> <span class="keyword">as</span> <span class="type">Int</span></div><div class="line"><span class="keyword">let</span> num4 = (<span class="number">42</span> / <span class="number">2</span>) <span class="keyword">as</span> <span class="type">Double</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<ul>
<li>switch è¯­å¥ä¸­è¿›è¡Œæ¨¡å¼åŒ¹é…<br>å¦‚æœä¸çŸ¥é“ä¸€ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä½ å¯ä»¥é€šè¿‡switchè¯­æ³•æ£€æµ‹å®ƒçš„ç±»å‹ï¼Œå¹¶ä¸”å°è¯•åœ¨ä¸åŒçš„æƒ…å†µä¸‹ä½¿ç”¨å¯¹åº”çš„ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> animal &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> cat <span class="keyword">as</span> <span class="type">Cat</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"å¦‚æœæ˜¯Catç±»å‹å¯¹è±¡ï¼Œåˆ™åšç›¸åº”å¤„ç†"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> dog <span class="keyword">as</span> <span class="type">Dog</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"å¦‚æœæ˜¯Dogç±»å‹å¯¹è±¡ï¼Œåˆ™åšç›¸åº”å¤„ç†"</span>)</div><div class="line"><span class="keyword">default</span>: <span class="keyword">break</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="as-ä½¿ç”¨åœºåˆ"><a href="#as-ä½¿ç”¨åœºåˆ" class="headerlink" title="as!ä½¿ç”¨åœºåˆ"></a>as!ä½¿ç”¨åœºåˆ</h4><p>å‘ä¸‹è½¬å‹ï¼ˆDowncastingï¼‰æ—¶ä½¿ç”¨ã€‚ç”±äºæ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¦‚æœè½¬æ¢å¤±è´¥ä¼šæŠ¥ runtime è¿è¡Œé”™è¯¯ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="title">Animal</span> </span>&#123;&#125;</div><div class="line"><span class="keyword">let</span> animal :<span class="type">Animal</span>  = <span class="type">Cat</span>()</div><div class="line"><span class="keyword">let</span> cat = animal <span class="keyword">as</span>! <span class="type">Cat</span></div></pre></td></tr></table></figure></p>
<h4 id="as-ä½¿ç”¨åœºåˆ-1"><a href="#as-ä½¿ç”¨åœºåˆ-1" class="headerlink" title="as?ä½¿ç”¨åœºåˆ"></a>as?ä½¿ç”¨åœºåˆ</h4><p>as? å’Œ as! æ“ä½œç¬¦çš„è½¬æ¢è§„åˆ™å®Œå…¨ä¸€æ ·ã€‚ä½† as? å¦‚æœè½¬æ¢ä¸æˆåŠŸçš„æ—¶å€™ä¾¿ä¼šè¿”å›ä¸€ä¸ª nil å¯¹è±¡ã€‚æˆåŠŸçš„è¯è¿”å›å¯é€‰ç±»å‹å€¼ï¼ˆoptionalï¼‰ï¼Œéœ€è¦æˆ‘ä»¬æ‹†åŒ…ä½¿ç”¨ã€‚<br>ç”±äº as? åœ¨è½¬æ¢å¤±è´¥çš„æ—¶å€™ä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥å¯¹äºå¦‚æœèƒ½ç¡®ä¿100%ä¼šæˆåŠŸçš„è½¬æ¢åˆ™å¯ä½¿ç”¨ as!ï¼Œå¦åˆ™ä½¿ç”¨ as?<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> animal:<span class="type">Animal</span> = <span class="type">Cat</span>()</div><div class="line"> </div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> cat = animal <span class="keyword">as</span>? <span class="type">Cat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"cat is not nil"</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"cat is nil"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™é‡Œæ•´ç†æ€»ç»“ä¸‹ asã€as!ã€as? è¿™ä¸‰ç§ç±»å‹è½¬æ¢æ“ä½œç¬¦çš„å¼‚åŒï¼Œä»¥åŠå„è‡ªçš„ä½¿ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;h4 id=&quot;asä½¿ç”¨åœºåˆ&quot;&gt;&lt;a href=&quot;#asä½¿ç”¨åœºåˆ&quot; class=&quot;headerlink&quot; title=&quot;asä½¿ç”¨åœºåˆ&quot;&gt;&lt;/a&gt;asä½¿ç”¨åœºåˆ&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä»æ´¾ç”Ÿç±»è½¬æ¢ä¸ºåŸºç±»ï¼Œå‘ä¸Šè½¬å‹ï¼ˆupcastsï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;Â &lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt;Â &lt;/span&gt;&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Cat&lt;/span&gt;:Â &lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt; &lt;/span&gt;&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; cat =Â &lt;span class=&quot;type&quot;&gt;Cat&lt;/span&gt;()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; animal = catÂ &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Animal&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æ¶ˆé™¤äºŒä¹‰æ€§ï¼Œæ•°å€¼ç±»å‹è½¬æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; num1 = &lt;span class=&quot;number&quot;&gt;42&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;CGFloat&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; num2 = &lt;span class=&quot;number&quot;&gt;42&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; num3 = &lt;span class=&quot;number&quot;&gt;42.5&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; num4 = (&lt;span class=&quot;number&quot;&gt;42&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Double&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="swift" scheme="https://robberjj.github.io/categories/swift/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="Swift" scheme="https://robberjj.github.io/tags/Swift/"/>
    
      <category term="Swift Tips" scheme="https://robberjj.github.io/tags/Swift-Tips/"/>
    
  </entry>
  
  <entry>
    <title>grepå‘½ä»¤å¸¸ç”¨å‚æ•°</title>
    <link href="https://robberjj.github.io/2018/09/26/GrepCommonParams/"/>
    <id>https://robberjj.github.io/2018/09/26/GrepCommonParams/</id>
    <published>2018-09-26T06:39:50.000Z</published>
    <updated>2018-11-08T04:18:54.498Z</updated>
    
    <content type="html"><![CDATA[<p><code>-A num, --after-context=num</code> - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œånumè¡Œã€‚è¿™ä¸ªè·Ÿ-Bï¼Œ-Cç±»ä¼¼åŠŸèƒ½ï¼Œä¸»è¦ç”¨äºæŸ¥çœ‹ä¸Šä¸‹æ–‡ã€‚</p>
<p><code>-B num, --before-context=num</code> - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œå‰numè¡Œã€‚</p>
<p><code>-C[num, --context=num]</code> - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œå‰ånumè¡Œï¼Œç›¸å½“äº-A num -B numã€‚<br><a id="more"></a> </p>
<p><code>-c, --count</code> - ç»Ÿè®¡å‡ºåŒ¹é…çš„æ€»è¡Œæ•°ï¼ŒåŒä¸€è¡Œæœ‰ä¸¤ä¸ªåŒ¹é…ä¹Ÿåªç®—ä¸€è¡Œã€‚</p>
<p><code>--colour=[when, --color=[when]]</code> - å°†åŒ¹é…çš„å­—ç¬¦æ ‡è®°ä¸ºå½©è‰²ï¼Œwhenå¯ä»¥æ˜¯â€™neverâ€™ï¼Œâ€˜autoâ€™æˆ–â€™alwaysâ€™ã€‚</p>
<p><code>-e pattern, --regexp=pattern</code> - åˆ¶å®šåœ¨æœç´¢ä¸­ä½¿ç”¨çš„åŒ¹é…æ¨¡å¼ï¼Œå¤šç”¨äºæŒ‡å®šå¤šä¸ªåŒ¹é…æ¨¡å¼çš„æƒ…å†µã€‚</p>
<p><code>-H</code> - åœ¨æ¯ä¸€è¡Œå‰é¢æ‰“å°å‡ºåŒ¹é…çš„æ–‡ä»¶åï¼Œåœ¨å¤šä¸ªæ–‡ä»¶çš„æƒ…å†µä¸‹è¿™ä¸ªæ˜¯é»˜è®¤é€‰é¡¹ã€‚</p>
<p><code>-h</code> - åœ¨å¤šä¸ªæ–‡ä»¶çš„æƒ…å†µä¸‹ä¸æ‰“å°å‡ºåŒ¹é…çš„æ–‡ä»¶åã€‚</p>
<p><code>-n</code> - æ‰“å°å‡ºåŒ¹é…æ‰€åœ¨è¡Œçš„è¡Œæ•°ã€‚</p>
<p><code>-i, --ignore-case</code> - æŸ¥æ‰¾æ—¶å¿½ç•¥å¤§å°å†™ã€‚</p>
<p><code>-R, -r, --recursive</code> - é€’å½’çš„å»æŸ¥æ‰¾å­ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</p>
<p><code>-v, --invert-match</code> - æ‰“å°å‡ºä¸åŒ¹é…çš„è¡Œã€‚</p>
<p><code>-w, --word-regexp</code> - åªåŒ¹é…æ•´ä¸ªå•è¯ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;-A num, --after-context=num&lt;/code&gt; - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œånumè¡Œã€‚è¿™ä¸ªè·Ÿ-Bï¼Œ-Cç±»ä¼¼åŠŸèƒ½ï¼Œä¸»è¦ç”¨äºæŸ¥çœ‹ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-B num, --before-context=num&lt;/code&gt; - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œå‰numè¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-C[num, --context=num]&lt;/code&gt; - æ‰“å°å‡ºæ‰¾åˆ°çš„åŒ¹é…è¡Œå‰ånumè¡Œï¼Œç›¸å½“äº-A num -B numã€‚&lt;br&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="https://robberjj.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="grep" scheme="https://robberjj.github.io/tags/grep/"/>
    
  </entry>
  
  <entry>
    <title>git clone --depth=1ä¹‹åæ‹‰å–å…¶ä»–åˆ†æ”¯</title>
    <link href="https://robberjj.github.io/2018/09/25/GitDepthOtherBr/"/>
    <id>https://robberjj.github.io/2018/09/25/GitDepthOtherBr/</id>
    <published>2018-09-25T08:25:50.000Z</published>
    <updated>2018-11-08T04:19:09.946Z</updated>
    
    <content type="html"><![CDATA[<p>å½“é¡¹ç›®è¿‡å¤§æ—¶ï¼Œ<code>git clone</code>ä¼šå‡ºç°è¶…æ—¶å¤±è´¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åªæ‹‰å»æœ€æ–°çš„ä¸€æ¬¡æˆ–è€…å‡ æ¬¡<code>commit</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone --depth=1 xxxxxx</div></pre></td></tr></table></figure>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯å›¾ä¸€æ—¶ä¹‹å¿«ï¼Œè€Œå¿½ç•¥äº†å…¶ä»–çš„é—®é¢˜ã€‚</p>
<a id="more"></a> 
<p>ä½ å¯èƒ½å¾ˆå¿«ä¼šå‘ç°ï¼Œæ‹‰ä¸‹æ¥çš„åªæ˜¯é»˜è®¤çš„åˆ†æ”¯ï¼Œè€Œè¦æƒ³æ‹‰å–å…¶ä»–åˆ†æ”¯ä»£ç çš„æ—¶å€™ï¼Œä¸€è„¸æ‡µé€¼ï¼Œæœ‰æœ¨æœ‰ï¼Ÿï¼Ÿ</p>
<p>å…¶å®ä¹Ÿå¾ˆç®€å•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git remote set-branches origin &apos;remote_branch_name&apos;</div><div class="line">$ git fetch --depth 1 origin remote_branch_name</div><div class="line">$ git checkout remote_branch_name</div></pre></td></tr></table></figure></p>
<p>æå®šæ”¶å·¥ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“é¡¹ç›®è¿‡å¤§æ—¶ï¼Œ&lt;code&gt;git clone&lt;/code&gt;ä¼šå‡ºç°è¶…æ—¶å¤±è´¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åªæ‹‰å»æœ€æ–°çš„ä¸€æ¬¡æˆ–è€…å‡ æ¬¡&lt;code&gt;commit&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git clone --depth=1 xxxxxx&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯å›¾ä¸€æ—¶ä¹‹å¿«ï¼Œè€Œå¿½ç•¥äº†å…¶ä»–çš„é—®é¢˜ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="https://robberjj.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="git" scheme="https://robberjj.github.io/tags/git/"/>
    
      <category term="depth" scheme="https://robberjj.github.io/tags/depth/"/>
    
      <category term="åˆ†æ”¯" scheme="https://robberjj.github.io/tags/%E5%88%86%E6%94%AF/"/>
    
      <category term="clone" scheme="https://robberjj.github.io/tags/clone/"/>
    
  </entry>
  
  <entry>
    <title>Vimä¸€æ¬¡å¤åˆ¶ï¼Œå¤šæ¬¡ç²˜è´´</title>
    <link href="https://robberjj.github.io/2018/09/08/VimOneCopyMutablePaste/"/>
    <id>https://robberjj.github.io/2018/09/08/VimOneCopyMutablePaste/</id>
    <published>2018-09-08T06:09:50.000Z</published>
    <updated>2018-11-08T04:19:19.380Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬å¹³å¸¸åœ¨ä½¿ç”¨Vimæ—¶å€™ï¼Œé€šè¿‡<code>viwy</code>æˆ–è€…<code>yy</code>ç­‰å¤åˆ¶æ“ä½œä¹‹åï¼Œ<code>p</code>æ“ä½œç²˜è´´çš„æ—¶å€™ï¼Œåªèƒ½ç²˜è´´ä¸€æ¬¡ï¼Œæƒ³è¦ç²˜è´´å¤šæ¬¡æ€ä¹ˆåŠï¼Ÿ</p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨ä½¿ç”¨<code>p</code>çš„æ˜¯æ—¶å€™ä½¿ç”¨<code>&quot;0p</code>ï¼Œè¿™æ ·å°±èƒ½æ— é™åˆ¶çš„ä¸€ç›´ç²˜è´´äº†ã€‚</p>
</blockquote>
<p>å¯æ˜¯ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<a id="more"></a> 
<p>å› ä¸ºï¼Œå¯„å­˜å™¨ä½ç½®<code>0</code>çš„åœ°æ–¹å­˜æ”¾çš„å°±æ˜¯æœ€è¿‘å¤åˆ¶çš„å†…å®¹ã€‚ï¼ˆä½¿ç”¨<code>:reg</code>å¯ä»¥æŸ¥çœ‹å¯„å­˜å™¨å­˜å‚¨åˆ—è¡¨ï¼‰</p>
<p>ç±»ä¼¼çš„ä½¿ç”¨<code>xxp</code>å°±èƒ½ç²˜è´´ç›¸åº”ä½ç½®çš„å†…å®¹äº†ã€‚ï¼ˆ<code>xx</code>æ ‡è¯†regåˆ—è¡¨å‰é¢çš„åºå·ï¼‰</p>
<p>å“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬å¹³å¸¸åœ¨ä½¿ç”¨Vimæ—¶å€™ï¼Œé€šè¿‡&lt;code&gt;viwy&lt;/code&gt;æˆ–è€…&lt;code&gt;yy&lt;/code&gt;ç­‰å¤åˆ¶æ“ä½œä¹‹åï¼Œ&lt;code&gt;p&lt;/code&gt;æ“ä½œç²˜è´´çš„æ—¶å€™ï¼Œåªèƒ½ç²˜è´´ä¸€æ¬¡ï¼Œæƒ³è¦ç²˜è´´å¤šæ¬¡æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼šåœ¨ä½¿ç”¨&lt;code&gt;p&lt;/code&gt;çš„æ˜¯æ—¶å€™ä½¿ç”¨&lt;code&gt;&amp;quot;0p&lt;/code&gt;ï¼Œè¿™æ ·å°±èƒ½æ— é™åˆ¶çš„ä¸€ç›´ç²˜è´´äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯æ˜¯ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="https://robberjj.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="vim" scheme="https://robberjj.github.io/tags/vim/"/>
    
      <category term="copy" scheme="https://robberjj.github.io/tags/copy/"/>
    
      <category term="å¤åˆ¶" scheme="https://robberjj.github.io/tags/%E5%A4%8D%E5%88%B6/"/>
    
      <category term="ç²˜è´´" scheme="https://robberjj.github.io/tags/%E7%B2%98%E8%B4%B4/"/>
    
  </entry>
  
  <entry>
    <title>Html/Xmlä¸­çš„è½¬ä¹‰å­—ç¬¦</title>
    <link href="https://robberjj.github.io/2018/08/29/CharTransferred/"/>
    <id>https://robberjj.github.io/2018/08/29/CharTransferred/</id>
    <published>2018-08-29T10:06:50.000Z</published>
    <updated>2018-11-08T04:19:24.026Z</updated>
    
    <content type="html"><![CDATA[<p>HTMLä¸­çš„è½¬ä¹‰å­—ç¬¦<br>ã€€HTMLä¸­&lt;, &gt;ï¼Œ&amp;ç­‰æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œ(å‰ä¸¤ä¸ªå­—ç¬¦ç”¨äºé“¾æ¥ç­¾ï¼Œ&amp;ç”¨äºè½¬ä¹‰)ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚ä½¿ç”¨è¿™ä¸‰ä¸ªå­—ç¬¦æ—¶ï¼Œåº”ä½¿ç”¨å®ƒä»¬çš„è½¬ä¹‰åºåˆ—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">è½¬ä¹‰å­—ç¬¦</th>
<th style="text-align:center">æºå­—ç¬¦</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;amp; æˆ– &amp;</td>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">å’Œ</td>
</tr>
<tr>
<td style="text-align:center">&amp;lt; æˆ– &lt;</td>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">å°äºå·</td>
</tr>
<tr>
<td style="text-align:center">&amp;gt; æˆ– &gt;</td>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">å¤§äºå·</td>
</tr>
<tr>
<td style="text-align:center">&amp;quot;</td>
<td style="text-align:center">â€œ</td>
<td style="text-align:center">åŒå¼•å·</td>
</tr>
<tr>
<td style="text-align:center">&amp;nbsp;</td>
<td style="text-align:center"></td>
<td style="text-align:center">ç©ºæ ¼</td>
</tr>
<tr>
<td style="text-align:center">&amp;copy;</td>
<td style="text-align:center">Â©</td>
<td style="text-align:center">ç‰ˆæƒç¬¦</td>
</tr>
<tr>
<td style="text-align:center">&amp;reg</td>
<td style="text-align:center">Â®</td>
<td style="text-align:center">æ³¨å†Œç¬¦</td>
</tr>
</tbody>
</table>
<a id="more"></a> 
<blockquote>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼š<br>   a. è½¬ä¹‰åºåˆ—å„å­—ç¬¦é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼›<br>   b. è½¬ä¹‰åºåˆ—å¿…é¡»ä»¥â€ï¼›â€ç»“æŸï¼›<br>   c. å•ç‹¬çš„&amp;ä¸è¢«è®¤ä¸ºæ˜¯è½¬ä¹‰å¼€å§‹ï¼›<br>   d. åŒºåˆ†å¤§å°å†™ã€‚</p>
</blockquote>
<p>XMLè½¬ä¹‰å­—ç¬¦<br>       ä¸åˆæ³•çš„XMLå­—ç¬¦å¿…é¡»è¢«æ›¿æ¢ä¸ºç›¸åº”çš„å®ä½“ã€‚<br>ã€€ã€€ä¸‹é¢æ˜¯äº”ä¸ªåœ¨XMLæ–‡æ¡£ä¸­é¢„å®šä¹‰å¥½çš„å®ä½“ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">è½¬ä¹‰å­—ç¬¦</th>
<th style="text-align:center">æºå­—ç¬¦</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;amp;</td>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">å’Œ</td>
</tr>
<tr>
<td style="text-align:center">&amp;lt; æˆ– &lt;</td>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">å°äºå·</td>
</tr>
<tr>
<td style="text-align:center">&amp;gt; æˆ– &gt;</td>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">å¤§äºå·</td>
</tr>
<tr>
<td style="text-align:center">&amp;quot;</td>
<td style="text-align:center">â€œ</td>
<td style="text-align:center">åŒå¼•å·</td>
</tr>
<tr>
<td style="text-align:center">&amp;quot;</td>
<td style="text-align:center">â€˜</td>
<td style="text-align:center">å•å¼•å·</td>
</tr>
</tbody>
</table>
<blockquote>
<p>æ³¨æ„: åªæœ‰â€&lt;â€ å­—ç¬¦å’Œâ€&amp;â€å­—ç¬¦å¯¹äºXMLæ¥è¯´æ˜¯ä¸¥æ ¼ç¦æ­¢ä½¿ç”¨çš„ã€‚å‰©ä¸‹çš„éƒ½æ˜¯åˆæ³•çš„ï¼Œä¸ºäº†å‡å°‘å‡ºé”™ï¼Œä½¿ç”¨å®ä½“æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;HTMLä¸­çš„è½¬ä¹‰å­—ç¬¦&lt;br&gt;ã€€HTMLä¸­&amp;lt;, &amp;gt;ï¼Œ&amp;amp;ç­‰æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œ(å‰ä¸¤ä¸ªå­—ç¬¦ç”¨äºé“¾æ¥ç­¾ï¼Œ&amp;amp;ç”¨äºè½¬ä¹‰)ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚ä½¿ç”¨è¿™ä¸‰ä¸ªå­—ç¬¦æ—¶ï¼Œåº”ä½¿ç”¨å®ƒä»¬çš„è½¬ä¹‰åºåˆ—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;è½¬ä¹‰å­—ç¬¦&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;æºå­—ç¬¦&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;amp; æˆ– &amp;amp;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å’Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;lt; æˆ– &amp;lt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;lt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å°äºå·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;gt; æˆ– &amp;gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¤§äºå·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;quot;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;â€œ&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;åŒå¼•å·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;nbsp;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ç©ºæ ¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;copy;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Â©&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ç‰ˆæƒç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;amp;reg&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Â®&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ³¨å†Œç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="https://robberjj.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="Html" scheme="https://robberjj.github.io/tags/Html/"/>
    
      <category term="xml" scheme="https://robberjj.github.io/tags/xml/"/>
    
      <category term="è½¬ä¹‰" scheme="https://robberjj.github.io/tags/%E8%BD%AC%E4%B9%89/"/>
    
  </entry>
  
  <entry>
    <title>iOSç¼–ç è§„èŒƒ</title>
    <link href="https://robberjj.github.io/2018/08/08/iOSEncoding/"/>
    <id>https://robberjj.github.io/2018/08/08/iOSEncoding/</id>
    <published>2018-08-08T09:25:50.000Z</published>
    <updated>2018-11-08T04:19:30.281Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬æ–‡æ¡£æ—¨åœ¨æ€»ç»“å‡ºä¸€ä»½é€šç”¨çš„ç¼–ç è§„èŒƒï¼Œæ¬¢è¿éšæ—¶æ¢è®¨è¡¥å……ã€‚</p>
</blockquote>
<a id="more"></a> 
<h3 id="ä»£ç æ ¼å¼"><a href="#ä»£ç æ ¼å¼" class="headerlink" title="ä»£ç æ ¼å¼"></a>ä»£ç æ ¼å¼</h3><h4 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h4><ul>
<li>ä¸è¦åœ¨å·¥ç¨‹é‡Œä½¿ç”¨Tabé”®ï¼Œä½¿ç”¨ç©ºæ ¼æ¥è¿›è¡Œç¼©è¿›ã€‚åœ¨Xcode &gt; Preferences &gt; Text Editingå°†Tabå’Œè‡ªåŠ¨ç¼©è¿›éƒ½è®¾ç½®ä¸º4ä¸ªç©ºæ ¼ã€‚ï¼ˆGoogleçš„æ ‡å‡†æ˜¯ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼æ¥ç¼©è¿›ï¼Œä½†è¿™é‡Œè¿˜æ˜¯æ¨èä½¿ç”¨Xcodeé»˜è®¤çš„è®¾ç½®ã€‚ï¼‰</li>
<li>æ–¹æ³•ä¹‹é—´åº”è¯¥è¦æœ‰ä¸€ä¸ªç©ºè¡Œæ¥å¸®åŠ©ä»£ç çœ‹èµ·æ¥æ¸…æ™°ä¸”æœ‰ç»„ç»‡ã€‚ æ–¹æ³•å†…çš„ç©ºè¡Œåº”è¯¥ç”¨æ¥åˆ†ç¦»åŠŸèƒ½ï¼Œä½†æ˜¯é€šå¸¸ä¸åŒçš„åŠŸèƒ½åº”è¯¥ç”¨æ–°çš„æ–¹æ³•æ¥å®šä¹‰ã€‚</li>
</ul>
<h4 id="æ–¹æ³•çš„ä¹¦å†™"><a href="#æ–¹æ³•çš„ä¹¦å†™" class="headerlink" title="æ–¹æ³•çš„ä¹¦å†™"></a>æ–¹æ³•çš„ä¹¦å†™</h4><p>ä¸€ä¸ªå…¸å‹çš„Objective-Cå‡½æ•°åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (void)writeVideoFrameWithData:(NSData *)frameData timeStamp:(int)timeStamp &#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨<code>-</code>å’Œ<code>(void)</code>ä¹‹é—´åº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œç¬¬ä¸€ä¸ªå¤§æ‹¬å·<code>{</code>çš„ä½ç½®åœ¨å‡½æ•°æ‰€åœ¨è¡Œçš„æœ«å°¾ï¼ŒåŒæ ·åº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</p>
<blockquote>
<p>åœ¨ä½¿ç”¨<code>{</code>çš„ä½ç½®éƒ½éµå¾ª<a href="https://en.wikipedia.org/wiki/Indent_style#K.26R_style" target="_blank" rel="external">Egyptiané£æ ¼</a> (åˆç§° K&amp;R é£æ ¼ï¼Œä»£ç æ®µæ‹¬å·çš„å¼€å§‹ä½äºä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å¦å¤–èµ·ä¸€è¡Œçš„é£æ ¼ã€‚)ï¼Œæ¯”å¦‚ï¼Œæ§åˆ¶è¯­å¥ (if-else, for, switch)ã€‚</p>
</blockquote>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°æœ‰ç‰¹åˆ«å¤šçš„å‚æ•°æˆ–è€…åç§°å¾ˆé•¿ï¼Œåº”è¯¥å°†å…¶æŒ‰ç…§<code>:</code>æ¥å¯¹é½åˆ†è¡Œæ˜¾ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-(id)initWithModel:(IPCModle)model</div><div class="line">       ConnectType:(IPCConnectType)connectType</div><div class="line">        Resolution:(IPCResolution)resolution</div><div class="line">          AuthName:(NSString *)authName</div><div class="line">          Password:(NSString *)password</div><div class="line">               MAC:(NSString *)mac</div><div class="line">              AzIp:(NSString *)az_ip</div><div class="line">             AzDns:(NSString *)az_dns</div><div class="line">             Token:(NSString *)token</div><div class="line">             Email:(NSString *)email</div><div class="line">          Delegate:(id&lt;IPCConnectHandlerDelegate&gt;)delegate;</div></pre></td></tr></table></figure>
<p>åœ¨åˆ†è¡Œæ—¶ï¼Œå¦‚æœç¬¬ä¸€æ®µåç§°è¿‡çŸ­ï¼Œåç»­åç§°å¯ä»¥ä»¥Tabçš„é•¿åº¦ï¼ˆ4ä¸ªç©ºæ ¼ï¼‰ä¸ºå•ä½è¿›è¡Œç¼©è¿›ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (void)short:(GTMFoo *)theFoo</div><div class="line">        longKeyword:(NSRect)theRect</div><div class="line">  evenLongerKeyword:(float)theInterval</div><div class="line">              error:(NSError **)theError &#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h4><p>å‡½æ•°è°ƒç”¨çš„æ ¼å¼å’Œä¹¦å†™å·®ä¸å¤šï¼Œå¯ä»¥æŒ‰ç…§å‡½æ•°çš„é•¿çŸ­æ¥é€‰æ‹©å†™åœ¨ä¸€è¡Œæˆ–è€…åˆ†æˆå¤šè¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//å†™åœ¨ä¸€è¡Œ</div><div class="line">[myObject doFooWith:arg1 name:arg2 error:arg3];</div><div class="line"></div><div class="line">//åˆ†è¡Œå†™ï¼ŒæŒ‰ç…§&apos;:&apos;å¯¹é½</div><div class="line">[myObject doFooWith:arg1</div><div class="line">               name:arg2</div><div class="line">              error:arg3];</div><div class="line"></div><div class="line">//ç¬¬ä¸€æ®µåç§°è¿‡çŸ­çš„è¯åç»­å¯ä»¥è¿›è¡Œç¼©è¿›</div><div class="line">[myObj short:arg1</div><div class="line">          longKeyword:arg2</div><div class="line">    evenLongerKeyword:arg3</div><div class="line">                error:arg4];</div></pre></td></tr></table></figure>
<h4 id="publicå’Œ-privateæ ‡è®°ç¬¦"><a href="#publicå’Œ-privateæ ‡è®°ç¬¦" class="headerlink" title="@publicå’Œ@privateæ ‡è®°ç¬¦"></a>@publicå’Œ@privateæ ‡è®°ç¬¦</h4><p>@publicå’Œ@privateæ ‡è®°ç¬¦åº”è¯¥ä»¥<strong>ä¸€ä¸ªç©ºæ ¼</strong>æ¥è¿›è¡Œç¼©è¿›ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@interface MyClass : NSObject &#123;</div><div class="line"> @public</div><div class="line">  ...</div><div class="line"> @private</div><div class="line">  ...</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h4 id="åè®®ï¼ˆProtocolsï¼‰"><a href="#åè®®ï¼ˆProtocolsï¼‰" class="headerlink" title="åè®®ï¼ˆProtocolsï¼‰"></a>åè®®ï¼ˆProtocolsï¼‰</h4><p>åœ¨ä¹¦å†™åè®®çš„æ—¶å€™æ³¨æ„ç”¨<code>&lt;&gt;</code>æ‹¬èµ·æ¥çš„åè®®å’Œç±»å‹åä¹‹é—´æ˜¯æ²¡æœ‰ç©ºæ ¼çš„ï¼Œæ¯”å¦‚<code>IPCConnectHandler()&lt;IPCPreconnectorDelegate&gt;</code>,è¿™ä¸ªè§„åˆ™é€‚ç”¨æ‰€æœ‰ä¹¦å†™åè®®çš„åœ°æ–¹ï¼ŒåŒ…æ‹¬å‡½æ•°å£°æ˜ã€ç±»å£°æ˜ã€å®ä¾‹å˜é‡ç­‰ç­‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@interface MyProtocoledClass : NSObject&lt;NSWindowDelegate&gt; &#123;</div><div class="line"> @private</div><div class="line">    id&lt;MyFancyDelegate&gt; _delegate;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setDelegate:(id&lt;MyFancyDelegate&gt;)aDelegate;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h4 id="é—­åŒ…ï¼ˆBlocksï¼‰"><a href="#é—­åŒ…ï¼ˆBlocksï¼‰" class="headerlink" title="é—­åŒ…ï¼ˆBlocksï¼‰"></a>é—­åŒ…ï¼ˆBlocksï¼‰</h4><p>æ ¹æ®blockçš„é•¿åº¦ï¼Œæœ‰ä¸åŒçš„ä¹¦å†™è§„åˆ™ï¼š</p>
<ul>
<li>è¾ƒçŸ­çš„blockå¯ä»¥å†™åœ¨ä¸€è¡Œå†…ã€‚</li>
<li>å¦‚æœåˆ†è¡Œæ˜¾ç¤ºçš„è¯ï¼Œblockçš„å³æ‹¬å·<code>}</code>åº”è¯¥å’Œè°ƒç”¨blocké‚£è¡Œä»£ç çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å¯¹é½ã€‚</li>
<li>blockå†…çš„ä»£ç é‡‡ç”¨<strong>4ä¸ªç©ºæ ¼</strong>çš„ç¼©è¿›ã€‚</li>
<li>å¦‚æœblockè¿‡äºåºå¤§ï¼Œåº”è¯¥å•ç‹¬å£°æ˜æˆä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨ã€‚</li>
<li><code>^</code>å’Œ<code>(</code>ä¹‹é—´ï¼Œ<code>^</code>å’Œ<code>{</code>ä¹‹é—´éƒ½æ²¡æœ‰ç©ºæ ¼ï¼Œå‚æ•°åˆ—è¡¨çš„å³æ‹¬å·<code>)</code>å’Œ<code>{</code>ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">//è¾ƒçŸ­çš„blockå†™åœ¨ä¸€è¡Œå†…</div><div class="line">[operation setCompletionBlock:^&#123; [self onOperationDone]; &#125;];</div><div class="line"></div><div class="line">//åˆ†è¡Œä¹¦å†™çš„blockï¼Œå†…éƒ¨ä½¿ç”¨4ç©ºæ ¼ç¼©è¿›</div><div class="line">[operation setCompletionBlock:^&#123;</div><div class="line">    [self.delegate newDataAvailable];</div><div class="line">&#125;];</div><div class="line"></div><div class="line">//ä½¿ç”¨Cè¯­è¨€APIè°ƒç”¨çš„blockéµå¾ªåŒæ ·çš„ä¹¦å†™è§„åˆ™</div><div class="line">dispatch_async(_fileIOQueue, ^&#123;</div><div class="line">    NSString* path = [self sessionFilePath];</div><div class="line">    if (path) &#123;</div><div class="line">      // ...</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">//è¾ƒé•¿çš„blockå…³é”®å­—å¯ä»¥ç¼©è¿›ååœ¨æ–°è¡Œä¹¦å†™ï¼Œæ³¨æ„blockçš„å³æ‹¬å·&apos;&#125;&apos;å’Œè°ƒç”¨blocké‚£è¡Œä»£ç çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å¯¹é½</div><div class="line">[[SessionService sharedService]</div><div class="line">    loadWindowWithCompletionBlock:^(SessionWindow *window) &#123;</div><div class="line">        if (window) &#123;</div><div class="line">          [self windowDidLoad:window];</div><div class="line">        &#125; else &#123;</div><div class="line">          [self errorLoadingWindow];</div><div class="line">        &#125;</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">//è¾ƒé•¿çš„blockå‚æ•°åˆ—è¡¨åŒæ ·å¯ä»¥ç¼©è¿›ååœ¨æ–°è¡Œä¹¦å†™</div><div class="line">[[SessionService sharedService]</div><div class="line">    loadWindowWithCompletionBlock:</div><div class="line">        ^(SessionWindow *window) &#123;</div><div class="line">            if (window) &#123;</div><div class="line">              [self windowDidLoad:window];</div><div class="line">            &#125; else &#123;</div><div class="line">              [self errorLoadingWindow];</div><div class="line">            &#125;</div><div class="line">        &#125;];</div><div class="line"></div><div class="line">//åºå¤§çš„blockåº”è¯¥å•ç‹¬å®šä¹‰æˆå˜é‡ä½¿ç”¨</div><div class="line">void (^largeBlock)(void) = ^&#123;</div><div class="line">    // ...</div><div class="line">&#125;;</div><div class="line">[_operationQueue addOperationWithBlock:largeBlock];</div><div class="line"></div><div class="line">//åœ¨ä¸€ä¸ªè°ƒç”¨ä¸­ä½¿ç”¨å¤šä¸ªblockï¼Œæ³¨æ„åˆ°ä»–ä»¬ä¸æ˜¯åƒå‡½æ•°é‚£æ ·é€šè¿‡&apos;:&apos;å¯¹é½çš„ï¼Œè€Œæ˜¯åŒæ—¶è¿›è¡Œäº†4ä¸ªç©ºæ ¼çš„ç¼©è¿›</div><div class="line">[myObject doSomethingWith:arg1</div><div class="line">    firstBlock:^(Foo *a) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line">    secondBlock:^(Bar *b) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;];</div></pre></td></tr></table></figure>
<h4 id="æ•°æ®ç»“æ„çš„è¯­æ³•ç³–"><a href="#æ•°æ®ç»“æ„çš„è¯­æ³•ç³–" class="headerlink" title="æ•°æ®ç»“æ„çš„è¯­æ³•ç³–"></a>æ•°æ®ç»“æ„çš„è¯­æ³•ç³–</h4><p>åº”è¯¥ä½¿ç”¨å¯è¯»æ€§æ›´å¥½çš„è¯­æ³•ç³–æ¥æ„é€ <code>NSArray</code>ï¼Œ<code>NSDictionary</code>ç­‰æ•°æ®ç»“æ„ï¼Œé¿å…ä½¿ç”¨å†—é•¿çš„<code>alloc</code>,<code>init</code>æ–¹æ³•ã€‚</p>
<p>å¦‚æœæ„é€ ä»£ç å†™åœ¨ä¸€è¡Œï¼Œéœ€è¦åœ¨æ‹¬å·ä¸¤ç«¯ç•™æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œä½¿å¾—è¢«æ„é€ çš„å…ƒç´ äºä¸æ„é€ è¯­æ³•åŒºåˆ†å¼€æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œåœ¨è¯­æ³•ç³–çš„&quot;[]&quot;æˆ–è€…&quot;&#123;&#125;&quot;ä¸¤ç«¯ç•™æœ‰ç©ºæ ¼</div><div class="line">NSArray *array = @[ [foo description], @&quot;Another String&quot;, [bar description] ];</div><div class="line">NSDictionary *dict = @&#123; NSForegroundColorAttributeName : [NSColor redColor] &#125;;</div><div class="line"></div><div class="line">//ä¸æ­£ç¡®ï¼Œä¸ç•™æœ‰ç©ºæ ¼é™ä½äº†å¯è¯»æ€§</div><div class="line">NSArray* array = @[[foo description], [bar description]];</div><div class="line">NSDictionary* dict = @&#123;NSForegroundColorAttributeName: [NSColor redColor]&#125;;</div></pre></td></tr></table></figure>
<p>å¦‚æœæ„é€ ä»£ç ä¸å†™åœ¨ä¸€è¡Œå†…ï¼Œæ„é€ å…ƒç´ éœ€è¦ä½¿ç”¨<strong>ä¸¤ä¸ªç©ºæ ¼</strong>æ¥è¿›è¡Œç¼©è¿›ï¼Œå³æ‹¬å·<code>]</code>æˆ–è€…<code>}</code>å†™åœ¨æ–°çš„ä¸€è¡Œï¼Œå¹¶ä¸”ä¸è°ƒç”¨è¯­æ³•ç³–é‚£è¡Œä»£ç çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å¯¹é½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">NSArray *array = @[</div><div class="line">  @&quot;This&quot;,</div><div class="line">  @&quot;is&quot;,</div><div class="line">  @&quot;an&quot;,</div><div class="line">  @&quot;array&quot;</div><div class="line">];</div><div class="line"></div><div class="line">NSDictionary *dictionary = @&#123;</div><div class="line">  NSFontAttributeName : [NSFont fontWithName:@&quot;Helvetica-Bold&quot; size:12],</div><div class="line">  NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>æ„é€ å­—å…¸æ—¶ï¼Œå­—å…¸çš„Keyå’ŒValueä¸ä¸­é—´çš„å†’å·<code>:</code>éƒ½è¦ç•™æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¤šè¡Œä¹¦å†™æ—¶ï¼Œä¹Ÿå¯ä»¥å°†Valueå¯¹é½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œå†’å·&apos;:&apos;å‰åç•™æœ‰ä¸€ä¸ªç©ºæ ¼</div><div class="line">NSDictionary *option1 = @&#123;</div><div class="line">  NSFontAttributeName : [NSFont fontWithName:@&quot;Helvetica-Bold&quot; size:12],</div><div class="line">  NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div><div class="line"></div><div class="line">//æ­£ç¡®ï¼ŒæŒ‰ç…§Valueæ¥å¯¹é½</div><div class="line">NSDictionary *option2 = @&#123;</div><div class="line">  NSFontAttributeName :            [NSFont fontWithName:@&quot;Arial&quot; size:12],</div><div class="line">  NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œå†’å·å‰åº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼</div><div class="line">NSDictionary *wrong = @&#123;</div><div class="line">  AKey:       @&quot;b&quot;,</div><div class="line">  BLongerKey: @&quot;c&quot;,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¦ä¹ˆå•ç‹¬æˆä¸ºä¸€è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨å†™åœ¨ä¸€è¡Œå†…</div><div class="line">NSDictionary *alsoWrong= @&#123; AKey : @&quot;a&quot;,</div><div class="line">                            BLongerKey : @&quot;b&quot; &#125;;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œåœ¨å†’å·å‰åªèƒ½æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå†’å·åæ‰å¯ä»¥è€ƒè™‘æŒ‰ç…§Valueå¯¹é½</div><div class="line">NSDictionary *stillWrong = @&#123;</div><div class="line">  AKey       : @&quot;b&quot;,</div><div class="line">  BLongerKey : @&quot;c&quot;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a>å‘½åè§„èŒƒ</h3><h4 id="åŸºæœ¬åŸåˆ™"><a href="#åŸºæœ¬åŸåˆ™" class="headerlink" title="åŸºæœ¬åŸåˆ™"></a>åŸºæœ¬åŸåˆ™</h4><ul>
<li><h5 id="æ¸…æ™°"><a href="#æ¸…æ™°" class="headerlink" title="æ¸…æ™°"></a>æ¸…æ™°</h5></li>
</ul>
<p>å‘½ååº”è¯¥å°½å¯èƒ½çš„æ¸…æ™°å’Œç®€æ´ï¼Œä½†åœ¨Objective-Cä¸­ï¼Œæ¸…æ™°æ¯”ç®€æ´æ›´é‡è¦ã€‚ç”±äºXcodeå¼ºå¤§çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒåç§°è¿‡é•¿çš„é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//æ¸…æ™°</div><div class="line">insertObject:atIndex:</div><div class="line"></div><div class="line">//ä¸æ¸…æ™°ï¼Œinsertçš„å¯¹è±¡ç±»å‹å’Œatçš„ä½ç½®å±æ€§æ²¡æœ‰è¯´æ˜</div><div class="line">insert:at:</div><div class="line"></div><div class="line">//æ¸…æ™°</div><div class="line">removeObjectAtIndex:</div><div class="line"></div><div class="line">//ä¸æ¸…æ™°ï¼Œremoveçš„å¯¹è±¡ç±»å‹æ²¡æœ‰è¯´æ˜ï¼Œå‚æ•°çš„ä½œç”¨æ²¡æœ‰è¯´æ˜</div><div class="line">remove:</div></pre></td></tr></table></figure>
<p>ä¸è¦ä½¿ç”¨å•è¯çš„ç®€å†™ï¼Œæ‹¼å†™å‡ºå®Œæ•´çš„å•è¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//æ¸…æ™°</div><div class="line">destinationSelection</div><div class="line">setBackgroundColor:</div><div class="line"></div><div class="line">//ä¸æ¸…æ™°ï¼Œä¸è¦ä½¿ç”¨ç®€å†™</div><div class="line">destSel</div><div class="line">setBkgdColor:</div></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œæœ‰éƒ¨åˆ†å•è¯ç®€å†™åœ¨Objective-Cç¼–ç è¿‡ç¨‹ä¸­æ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œä»¥è‡³äºæˆä¸ºäº†ä¸€ç§è§„èŒƒï¼Œè¿™äº›ç®€å†™å¯ä»¥åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¸‹é¢åˆ—ä¸¾äº†éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">alloc   == Allocate					max    == Maximum</div><div class="line">alt     == Alternate				min    == Minimum</div><div class="line">app     == Application				msg    == Message</div><div class="line">calc    == Calculate				nib    == Interface Builder archive</div><div class="line">dealloc == Deallocate				pboard == Pasteboard</div><div class="line">func    == Function					rect   == Rectangle</div><div class="line">horiz   == Horizontal				Rep    == Representation (used in class name such as NSBitmapImageRep).</div><div class="line">info    == Information				temp   == Temporary</div><div class="line">init    == Initialize				vert   == Vertical</div><div class="line">int     == Integer</div></pre></td></tr></table></figure>
<p>å‘½åæ–¹æ³•æˆ–è€…å‡½æ•°æ—¶è¦é¿å…æ­§ä¹‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//æœ‰æ­§ä¹‰ï¼Œæ˜¯è¿”å›sendPortè¿˜æ˜¯sendä¸€ä¸ªPortï¼Ÿ</div><div class="line">sendPort</div><div class="line"></div><div class="line">//æœ‰æ­§ä¹‰ï¼Œæ˜¯è¿”å›ä¸€ä¸ªåå­—å±æ€§çš„å€¼è¿˜æ˜¯displayä¸€ä¸ªnameçš„åŠ¨ä½œï¼Ÿ</div><div class="line">displayName</div></pre></td></tr></table></figure>
<ul>
<li><h5 id="ä¸€è‡´æ€§"><a href="#ä¸€è‡´æ€§" class="headerlink" title="ä¸€è‡´æ€§"></a>ä¸€è‡´æ€§</h5></li>
</ul>
<p>æ•´ä¸ªå·¥ç¨‹çš„å‘½åé£æ ¼è¦ä¿æŒä¸€è‡´æ€§ï¼Œæœ€å¥½å’Œè‹¹æœSDKçš„ä»£ç ä¿æŒç»Ÿä¸€ã€‚ä¸åŒç±»ä¸­å®Œæˆç›¸ä¼¼åŠŸèƒ½çš„æ–¹æ³•åº”è¯¥å«ä¸€æ ·çš„åå­—ï¼Œæ¯”å¦‚æˆ‘ä»¬æ€»æ˜¯ç”¨<code>count</code>æ¥è¿”å›é›†åˆçš„ä¸ªæ•°ï¼Œä¸èƒ½åœ¨Aç±»ä¸­ä½¿ç”¨<code>count</code>è€Œåœ¨Bç±»ä¸­ä½¿ç”¨<code>getNumber</code>ã€‚</p>
<ul>
<li><h5 id="ä½¿ç”¨å‰ç¼€"><a href="#ä½¿ç”¨å‰ç¼€" class="headerlink" title="ä½¿ç”¨å‰ç¼€"></a>ä½¿ç”¨å‰ç¼€</h5></li>
</ul>
<p>å¦‚æœä»£ç éœ€è¦æ‰“åŒ…æˆFrameworkç»™åˆ«çš„å·¥ç¨‹ä½¿ç”¨ï¼Œæˆ–è€…å·¥ç¨‹é¡¹ç›®éå¸¸åºå¤§ï¼Œéœ€è¦æ‹†åˆ†æˆä¸åŒçš„æ¨¡å—ï¼Œä½¿ç”¨å‘½åå‰ç¼€æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<ol>
<li>å‰ç¼€ç”±å¤§å†™çš„å­—æ¯ç¼©å†™ç»„æˆï¼Œæ¯”å¦‚Cocoaä¸­<code>NS</code>å‰ç¼€ä»£è¡¨Founationæ¡†æ¶ä¸­çš„ç±»ï¼Œ<code>IB</code>åˆ™ä»£è¡¨Interface Builderæ¡†æ¶ã€‚</li>
<li>å¯ä»¥åœ¨ä¸ºç±»ã€åè®®ã€å‡½æ•°ã€å¸¸é‡ä»¥åŠtypedefå®å‘½åçš„æ—¶å€™ä½¿ç”¨å‰ç¼€ï¼Œä½†æ³¨æ„<strong>ä¸è¦</strong>ä¸ºæˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•ä½¿ç”¨å‰ç¼€ï¼Œå› ä¸ºä»–ä»¬æœ¬èº«å°±åŒ…å«åœ¨ç±»çš„å‘½åç©ºé—´å†…ã€‚</li>
<li>å‘½åå‰ç¼€çš„æ—¶å€™ä¸è¦å’Œè‹¹æœSDKæ¡†æ¶å†²çªã€‚</li>
</ol>
<h4 id="å‘½åç±»å’Œåè®®-Class-amp-Protocol"><a href="#å‘½åç±»å’Œåè®®-Class-amp-Protocol" class="headerlink" title="å‘½åç±»å’Œåè®®(Class &amp; Protocol)"></a>å‘½åç±»å’Œåè®®(Class &amp; Protocol)</h4><p>ç±»åä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œåº”è¯¥åŒ…å«ä¸€ä¸ª<em>åè¯</em>æ¥è¡¨ç¤ºå®ƒä»£è¡¨çš„å¯¹è±¡ç±»å‹ï¼ŒåŒæ—¶å¯ä»¥åŠ ä¸Šå¿…è¦çš„å‰ç¼€ï¼Œæ¯”å¦‚<code>NSString</code>, <code>NSDate</code>, <code>NSScanner</code>, <code>NSApplication</code>ç­‰ç­‰ã€‚</p>
<p>è€Œåè®®åç§°åº”è¯¥æ¸…æ™°åœ°è¡¨ç¤ºå®ƒæ‰€æ‰§è¡Œçš„è¡Œä¸ºï¼Œè€Œä¸”è¦å’Œç±»ååŒºåˆ«å¼€æ¥ï¼Œæ‰€ä»¥é€šå¸¸ä½¿ç”¨<code>ing</code>è¯å°¾æ¥å‘½åä¸€ä¸ªåè®®ï¼Œæ¯”å¦‚<code>NSCopying</code>,<code>NSLocking</code>ã€‚</p>
<p>æœ‰äº›åè®®æœ¬èº«åŒ…å«äº†å¾ˆå¤šä¸ç›¸å…³çš„åŠŸèƒ½ï¼Œä¸»è¦ç”¨æ¥ä¸ºæŸä¸€ç‰¹å®šç±»æœåŠ¡ï¼Œè¿™æ—¶å€™å¯ä»¥ç›´æ¥ç”¨ç±»åæ¥å‘½åè¿™ä¸ªåè®®ï¼Œæ¯”å¦‚<code>NSObject</code>åè®®ï¼Œå®ƒåŒ…å«äº†idå¯¹è±¡åœ¨ç”Ÿå­˜å‘¨æœŸå†…çš„ä¸€ç³»åˆ—æ–¹æ³•ã€‚</p>
<h4 id="å‘½åå¤´æ–‡ä»¶ï¼ˆHeadersï¼‰"><a href="#å‘½åå¤´æ–‡ä»¶ï¼ˆHeadersï¼‰" class="headerlink" title="å‘½åå¤´æ–‡ä»¶ï¼ˆHeadersï¼‰"></a>å‘½åå¤´æ–‡ä»¶ï¼ˆHeadersï¼‰</h4><p>æºç çš„å¤´æ–‡ä»¶ååº”è¯¥æ¸…æ™°åœ°æš—ç¤ºå®ƒçš„åŠŸèƒ½å’ŒåŒ…å«çš„å†…å®¹ï¼š</p>
<ul>
<li>å¦‚æœå¤´æ–‡ä»¶å†…åªå®šä¹‰äº†å•ä¸ªç±»æˆ–è€…åè®®ï¼Œç›´æ¥ç”¨ç±»åæˆ–è€…åè®®åæ¥å‘½åå¤´æ–‡ä»¶ï¼Œæ¯”å¦‚<code>NSLocale.h</code>å®šä¹‰äº†<code>NSLocale</code>ç±»ã€‚</li>
<li>å¦‚æœå¤´æ–‡ä»¶å†…å®šä¹‰äº†ä¸€ç³»åˆ—çš„ç±»ã€åè®®ã€ç±»åˆ«ï¼Œä½¿ç”¨å…¶ä¸­æœ€ä¸»è¦çš„ç±»åæ¥å‘½åå¤´æ–‡ä»¶ï¼Œæ¯”å¦‚<code>NSString.h</code>å®šä¹‰äº†<code>NSString</code>å’Œ<code>NSMutableString</code>ã€‚</li>
<li>æ¯ä¸€ä¸ªFrameworkéƒ½åº”è¯¥æœ‰ä¸€ä¸ªå’Œæ¡†æ¶åŒåçš„å¤´æ–‡ä»¶ï¼ŒåŒ…å«äº†æ¡†æ¶ä¸­æ‰€æœ‰å…¬å…±ç±»å¤´æ–‡ä»¶çš„å¼•ç”¨ï¼Œæ¯”å¦‚<code>Foundation.h</code></li>
<li>Frameworkä¸­æœ‰æ—¶å€™ä¼šå®ç°åœ¨åˆ«çš„æ¡†æ¶ä¸­ç±»çš„ç±»åˆ«æ‰©å±•ï¼Œè¿™æ ·çš„æ–‡ä»¶é€šå¸¸ä½¿ç”¨<code>è¢«æ‰©å±•çš„æ¡†æ¶å</code>+<code>Additions</code>çš„æ–¹å¼æ¥å‘½åï¼Œæ¯”å¦‚<code>NSBundleAdditions.h</code>ã€‚</li>
</ul>
<h4 id="å‘½åæ–¹æ³•ï¼ˆMethodsï¼‰"><a href="#å‘½åæ–¹æ³•ï¼ˆMethodsï¼‰" class="headerlink" title="å‘½åæ–¹æ³•ï¼ˆMethodsï¼‰"></a>å‘½åæ–¹æ³•ï¼ˆMethodsï¼‰</h4><p>Objective-Cçš„æ–¹æ³•åé€šå¸¸éƒ½æ¯”è¾ƒé•¿ï¼Œè¿™æ˜¯ä¸ºäº†è®©ç¨‹åºæœ‰æ›´å¥½åœ°å¯è¯»æ€§ï¼ŒæŒ‰è‹¹æœçš„è¯´æ³•<em>â€œå¥½çš„æ–¹æ³•ååº”å½“å¯ä»¥ä»¥ä¸€ä¸ªå¥å­çš„å½¢å¼æœ—è¯»å‡ºæ¥â€</em>ã€‚</p>
<p>æ–¹æ³•ä¸€èˆ¬ä»¥å°å†™å­—æ¯æ‰“å¤´ï¼Œæ¯ä¸€ä¸ªåç»­çš„å•è¯é¦–å­—æ¯å¤§å†™ï¼Œæ–¹æ³•åä¸­ä¸åº”è¯¥æœ‰æ ‡ç‚¹ç¬¦å·ï¼ˆ<em>åŒ…æ‹¬ä¸‹åˆ’çº¿</em>ï¼‰ï¼Œæœ‰ä¸¤ä¸ªä¾‹å¤–ï¼š</p>
<ul>
<li>å¯ä»¥ç”¨ä¸€äº›é€šç”¨çš„å¤§å†™å­—æ¯ç¼©å†™æ‰“å¤´æ–¹æ³•ï¼Œæ¯”å¦‚<code>PDF</code>,<code>TIFF</code>ç­‰ã€‚</li>
<li>å¯ä»¥ç”¨å¸¦ä¸‹åˆ’çº¿çš„å‰ç¼€æ¥å‘½åç§æœ‰æ–¹æ³•æˆ–è€…ç±»åˆ«ä¸­çš„æ–¹æ³•ã€‚</li>
</ul>
<p>å¦‚æœæ–¹æ³•è¡¨ç¤ºè®©å¯¹è±¡æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œï¼Œä½¿ç”¨åŠ¨è¯æ‰“å¤´æ¥å‘½åï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨<code>do</code>ï¼Œ<code>does</code>è¿™ç§å¤šä½™çš„å…³é”®å­—ï¼ŒåŠ¨è¯æœ¬èº«çš„æš—ç¤ºå°±è¶³å¤Ÿäº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//åŠ¨è¯æ‰“å¤´çš„æ–¹æ³•è¡¨ç¤ºè®©å¯¹è±¡æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œ</div><div class="line">- (void)invokeWithTarget:(id)target;</div><div class="line">- (void)selectTabViewItem:(NSTabViewItem *)tabViewItem;</div></pre></td></tr></table></figure>
<p>å¦‚æœæ–¹æ³•æ˜¯ä¸ºäº†è·å–å¯¹è±¡çš„ä¸€ä¸ªå±æ€§å€¼ï¼Œç›´æ¥ç”¨å±æ€§åç§°æ¥å‘½åè¿™ä¸ªæ–¹æ³•ï¼Œæ³¨æ„ä¸è¦æ·»åŠ <code>get</code>æˆ–è€…å…¶ä»–çš„åŠ¨è¯å‰ç¼€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œä½¿ç”¨å±æ€§åæ¥å‘½åæ–¹æ³•</div><div class="line">- (NSSize)cellSize;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œæ·»åŠ äº†å¤šä½™çš„åŠ¨è¯å‰ç¼€</div><div class="line">- (NSSize)calcCellSize;</div><div class="line">- (NSSize)getCellSize;</div></pre></td></tr></table></figure>
<p>å¯¹äºæœ‰å¤šä¸ªå‚æ•°çš„æ–¹æ³•ï¼ŒåŠ¡å¿…åœ¨æ¯ä¸€ä¸ªå‚æ•°å‰éƒ½æ·»åŠ å…³é”®è¯ï¼Œå…³é”®è¯åº”å½“æ¸…æ™°è¯´æ˜å‚æ•°çš„ä½œç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œä¿è¯æ¯ä¸ªå‚æ•°éƒ½æœ‰å…³é”®è¯ä¿®é¥°</div><div class="line">- (void)sendAction:(SEL)aSelector toObject:(id)anObject forAllCells:(BOOL)flag;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œé—æ¼å…³é”®è¯</div><div class="line">- (void)sendAction:(SEL)aSelector :(id)anObject :(BOOL)flag;</div><div class="line"></div><div class="line">//æ­£ç¡®</div><div class="line">- (id)viewWithTag:(NSInteger)aTag;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œå…³é”®è¯çš„ä½œç”¨ä¸æ¸…æ™°</div><div class="line">- (id)taggedView:(int)aTag;</div></pre></td></tr></table></figure>
<p>ä¸è¦ç”¨<code>and</code>æ¥è¿æ¥ä¸¤ä¸ªå‚æ•°ï¼Œé€šå¸¸<code>and</code>ç”¨æ¥è¡¨ç¤ºæ–¹æ³•æ‰§è¡Œäº†ä¸¤ä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ“ä½œï¼ˆ<em>ä»è®¾è®¡ä¸Šæ¥è¯´ï¼Œè¿™æ—¶å€™åº”è¯¥æ‹†åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„æ–¹æ³•</em>ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//é”™è¯¯ï¼Œä¸è¦ä½¿ç”¨&quot;and&quot;æ¥è¿æ¥å‚æ•°</div><div class="line">- (int)runModalForDirectory:(NSString *)path andFile:(NSString *)name andTypes:(NSArray *)fileTypes;</div><div class="line"></div><div class="line">//æ­£ç¡®ï¼Œä½¿ç”¨&quot;and&quot;æ¥è¡¨ç¤ºä¸¤ä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ“ä½œ</div><div class="line">- (BOOL)openFile:(NSString *)fullPath withApplication:(NSString *)appName andDeactivate:(BOOL)flag;</div></pre></td></tr></table></figure>
<p>æ–¹æ³•çš„å‚æ•°å‘½åä¹Ÿæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹:</p>
<ul>
<li>å’Œæ–¹æ³•åç±»ä¼¼ï¼Œå‚æ•°çš„ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼Œåé¢çš„æ¯ä¸€ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</li>
<li>ä¸è¦å†æ–¹æ³•åä¸­ä½¿ç”¨ç±»ä¼¼<code>pointer</code>,<code>ptr</code>è¿™æ ·çš„å­—çœ¼å»è¡¨ç¤ºæŒ‡é’ˆï¼Œå‚æ•°æœ¬èº«çš„ç±»å‹è¶³ä»¥è¯´æ˜</li>
<li>ä¸è¦ä½¿ç”¨åªæœ‰ä¸€ä¸¤ä¸ªå­—æ¯çš„å‚æ•°å</li>
<li>ä¸è¦ä½¿ç”¨ç®€å†™ï¼Œæ‹¼å‡ºå®Œæ•´çš„å•è¯</li>
</ul>
<p>ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨å‚æ•°åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">...action:(SEL)aSelector</div><div class="line">...alignment:(int)mode</div><div class="line">...atIndex:(int)index</div><div class="line">...content:(NSRect)aRect</div><div class="line">...doubleValue:(double)aDouble</div><div class="line">...floatValue:(float)aFloat</div><div class="line">...font:(NSFont *)fontObj</div><div class="line">...frame:(NSRect)frameRect</div><div class="line">...intValue:(int)anInt</div><div class="line">...keyEquivalent:(NSString *)charCode</div><div class="line">...length:(int)numBytes</div><div class="line">...point:(NSPoint)aPoint</div><div class="line">...stringValue:(NSString *)aString</div><div class="line">...tag:(int)anInt</div><div class="line">...target:(id)anObject</div><div class="line">...title:(NSString *)aString</div></pre></td></tr></table></figure>
<h4 id="å­˜å–æ–¹æ³•ï¼ˆAccessor-Methodsï¼‰"><a href="#å­˜å–æ–¹æ³•ï¼ˆAccessor-Methodsï¼‰" class="headerlink" title="å­˜å–æ–¹æ³•ï¼ˆAccessor Methodsï¼‰"></a>å­˜å–æ–¹æ³•ï¼ˆAccessor Methodsï¼‰</h4><p>å­˜å–æ–¹æ³•æ˜¯æŒ‡ç”¨æ¥è·å–å’Œè®¾ç½®ç±»å±æ€§å€¼çš„æ–¹æ³•ï¼Œå±æ€§çš„ä¸åŒç±»å‹ï¼Œå¯¹åº”ç€ä¸åŒçš„å­˜å–æ–¹æ³•è§„èŒƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">//å±æ€§æ˜¯ä¸€ä¸ªåè¯æ—¶çš„å­˜å–æ–¹æ³•èŒƒå¼</div><div class="line">- (type)noun;</div><div class="line">- (void)setNoun:(type)aNoun;</div><div class="line">//æ —å­</div><div class="line">- (NSString *)title;</div><div class="line">- (void)setTitle:(NSString *)aTitle;</div><div class="line"></div><div class="line">//å±æ€§æ˜¯ä¸€ä¸ªå½¢å®¹è¯æ—¶å­˜å–æ–¹æ³•çš„èŒƒå¼</div><div class="line">- (BOOL)isAdjective;</div><div class="line">- (void)setAdjective:(BOOL)flag;</div><div class="line">//æ —å­</div><div class="line">- (BOOL)isEditable;</div><div class="line">- (void)setEditable:(BOOL)flag;</div><div class="line"></div><div class="line">//å±æ€§æ˜¯ä¸€ä¸ªåŠ¨è¯æ—¶å­˜å–æ–¹æ³•çš„èŒƒå¼</div><div class="line">- (BOOL)verbObject;</div><div class="line">- (void)setVerbObject:(BOOL)flag;</div><div class="line">//æ —å­</div><div class="line">- (BOOL)showsAlpha;</div><div class="line">- (void)setShowsAlpha:(BOOL)flag;</div></pre></td></tr></table></figure>
<p>å‘½åå­˜å–æ–¹æ³•æ—¶ä¸è¦å°†åŠ¨è¯è½¬åŒ–ä¸ºè¢«åŠ¨å½¢å¼æ¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®</div><div class="line">- (void)setAcceptsGlyphInfo:(BOOL)flag;</div><div class="line">- (BOOL)acceptsGlyphInfo;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œä¸è¦ä½¿ç”¨åŠ¨è¯çš„è¢«åŠ¨å½¢å¼</div><div class="line">- (void)setGlyphInfoAccepted:(BOOL)flag;</div><div class="line">- (BOOL)glyphInfoAccepted;</div></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨<code>can</code>,<code>should</code>,<code>will</code>ç­‰è¯æ¥ååŠ©è¡¨è¾¾å­˜å–æ–¹æ³•çš„æ„æ€ï¼Œä½†ä¸è¦ä½¿ç”¨<code>do</code>,å’Œ<code>does</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®</div><div class="line">- (void)setCanHide:(BOOL)flag;</div><div class="line">- (BOOL)canHide;</div><div class="line">- (void)setShouldCloseDocument:(BOOL)flag;</div><div class="line">- (BOOL)shouldCloseDocument;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œä¸è¦ä½¿ç”¨&quot;do&quot;æˆ–è€…&quot;does&quot;</div><div class="line">- (void)setDoesAcceptGlyphInfo:(BOOL)flag;</div><div class="line">- (BOOL)doesAcceptGlyphInfo;</div></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆObjective-Cä¸­ä¸é€‚ç”¨<code>get</code>å‰ç¼€æ¥è¡¨ç¤ºå±æ€§è·å–æ–¹æ³•ï¼Ÿå› ä¸º<code>get</code>åœ¨Objective-Cä¸­é€šå¸¸åªç”¨æ¥è¡¨ç¤ºä»å‡½æ•°æŒ‡é’ˆè¿”å›å€¼çš„å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æ¥ä½¿ç”¨çš„ï¼Œè¿™æ ·çš„å‡½æ•°åå¯ä»¥ä½¿ç”¨&quot;get&quot;å‰ç¼€</div><div class="line">- (void)getLineDash:(float *)pattern count:(int *)count phase:(float *)phase;</div></pre></td></tr></table></figure>
<h4 id="å‘½åå§”æ‰˜ï¼ˆDelegateï¼‰"><a href="#å‘½åå§”æ‰˜ï¼ˆDelegateï¼‰" class="headerlink" title="å‘½åå§”æ‰˜ï¼ˆDelegateï¼‰"></a>å‘½åå§”æ‰˜ï¼ˆDelegateï¼‰</h4><p>å½“ç‰¹å®šçš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯¹è±¡ä¼šè§¦å‘å®ƒæ³¨å†Œçš„å§”æ‰˜æ–¹æ³•ã€‚å§”æ‰˜æ˜¯Objective-Cä¸­å¸¸ç”¨çš„ä¼ é€’æ¶ˆæ¯çš„æ–¹å¼ã€‚å§”æ‰˜æœ‰å®ƒå›ºå®šçš„å‘½åèŒƒå¼ã€‚</p>
<p>ä¸€ä¸ªå§”æ‰˜æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è§¦å‘å®ƒçš„å¯¹è±¡ï¼Œç¬¬ä¸€ä¸ªå…³é”®è¯æ˜¯è§¦å‘å¯¹è±¡çš„ç±»åï¼Œé™¤éå§”æ‰˜æ–¹æ³•åªæœ‰ä¸€ä¸ªåä¸º<code>sender</code>çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//ç¬¬ä¸€ä¸ªå…³é”®è¯ä¸ºè§¦å‘å§”æ‰˜çš„ç±»å</div><div class="line">- (BOOL)tableView:(NSTableView *)tableView shouldSelectRow:(int)row;</div><div class="line">- (BOOL)application:(NSApplication *)sender openFile:(NSString *)filename;</div><div class="line"></div><div class="line">//å½“åªæœ‰ä¸€ä¸ª&quot;sender&quot;å‚æ•°æ—¶å¯ä»¥çœç•¥ç±»å</div><div class="line">- (BOOL)applicationOpenUntitledFile:(NSApplication *)sender;</div></pre></td></tr></table></figure>
<p>æ ¹æ®å§”æ‰˜æ–¹æ³•è§¦å‘çš„æ—¶æœºå’Œç›®çš„ï¼Œä½¿ç”¨<code>should</code>,<code>will</code>,<code>did</code>ç­‰å…³é”®è¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)browserDidScroll:(NSBrowser *)sender;</div><div class="line"></div><div class="line">- (NSUndoManager *)windowWillReturnUndoManager:(NSWindow *)window;ã€</div><div class="line"></div><div class="line">- (BOOL)windowShouldClose:(id)sender;</div></pre></td></tr></table></figure>
<h4 id="é›†åˆæ“ä½œç±»æ–¹æ³•ï¼ˆCollection-Methodsï¼‰"><a href="#é›†åˆæ“ä½œç±»æ–¹æ³•ï¼ˆCollection-Methodsï¼‰" class="headerlink" title="é›†åˆæ“ä½œç±»æ–¹æ³•ï¼ˆCollection Methodsï¼‰"></a>é›†åˆæ“ä½œç±»æ–¹æ³•ï¼ˆCollection Methodsï¼‰</h4><p>æœ‰äº›å¯¹è±¡ç®¡ç†ç€ä¸€ç³»åˆ—å…¶å®ƒå¯¹è±¡æˆ–è€…å…ƒç´ çš„é›†åˆï¼Œéœ€è¦ä½¿ç”¨ç±»ä¼¼â€œå¢åˆ æŸ¥æ”¹â€çš„æ–¹æ³•æ¥å¯¹é›†åˆè¿›è¡Œæ“ä½œï¼Œè¿™äº›æ–¹æ³•çš„å‘½åèŒƒå¼ä¸€èˆ¬ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//é›†åˆæ“ä½œèŒƒå¼</div><div class="line">- (void)addElement:(elementType)anObj;</div><div class="line">- (void)removeElement:(elementType)anObj;</div><div class="line">- (NSArray *)elements;</div><div class="line"></div><div class="line">//æ —å­</div><div class="line">- (void)addLayoutManager:(NSLayoutManager *)obj;</div><div class="line">- (void)removeLayoutManager:(NSLayoutManager *)obj;</div><div class="line">- (NSArray *)layoutManagers;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„é›†åˆæ˜¯æ— åºçš„ï¼Œä½¿ç”¨<code>NSSet</code>æ¥ä»£æ›¿<code>NSArray</code>ã€‚å¦‚æœéœ€è¦å°†å…ƒç´ æ’å…¥åˆ°ç‰¹å®šçš„ä½ç½®ï¼Œä½¿ç”¨ç±»ä¼¼äºè¿™æ ·çš„å‘½åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (void)insertLayoutManager:(NSLayoutManager *)obj atIndex:(int)index;</div><div class="line">- (void)removeLayoutManagerAtIndex:(int)index;</div></pre></td></tr></table></figure>
<p>å¦‚æœç®¡ç†çš„é›†åˆå…ƒç´ ä¸­æœ‰æŒ‡å‘ç®¡ç†å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¦è®¾ç½®æˆ<code>weak</code>ç±»å‹ä»¥é˜²æ­¢å¼•ç”¨å¾ªç¯ã€‚</p>
<p>ä¸‹é¢æ˜¯SDKä¸­<code>NSWindow</code>ç±»çš„é›†åˆæ“ä½œæ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)addChildWindow:(NSWindow *)childWin ordered:(NSWindowOrderingMode)place;</div><div class="line">- (void)removeChildWindow:(NSWindow *)childWin;</div><div class="line">- (NSArray *)childWindows;</div><div class="line">- (NSWindow *)parentWindow;</div><div class="line">- (void)setParentWindow:(NSWindow *)window;</div></pre></td></tr></table></figure>
<h4 id="å‘½åå‡½æ•°ï¼ˆFunctionsï¼‰"><a href="#å‘½åå‡½æ•°ï¼ˆFunctionsï¼‰" class="headerlink" title="å‘½åå‡½æ•°ï¼ˆFunctionsï¼‰"></a>å‘½åå‡½æ•°ï¼ˆFunctionsï¼‰</h4><p>åœ¨å¾ˆå¤šåœºåˆä»ç„¶éœ€è¦ç”¨åˆ°å‡½æ•°ï¼Œæ¯”å¦‚è¯´å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªå•ä¾‹ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨å‡½æ•°æ¥ä»£æ›¿ç±»æ–¹æ³•æ‰§è¡Œç›¸å…³æ“ä½œã€‚</p>
<p>å‡½æ•°çš„å‘½åå’Œæ–¹æ³•æœ‰ä¸€äº›ä¸åŒï¼Œä¸»è¦æ˜¯ï¼š</p>
<ul>
<li>å‡½æ•°åç§°ä¸€èˆ¬å¸¦æœ‰ç¼©å†™å‰ç¼€ï¼Œè¡¨ç¤ºæ–¹æ³•æ‰€åœ¨çš„æ¡†æ¶ã€‚</li>
<li>å‰ç¼€åçš„å•è¯ä»¥â€œé©¼å³°â€è¡¨ç¤ºæ³•æ˜¾ç¤ºï¼Œç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚</li>
</ul>
<p>å‡½æ•°åçš„ç¬¬ä¸€ä¸ªå•è¯é€šå¸¸æ˜¯ä¸€ä¸ªåŠ¨è¯ï¼Œè¡¨ç¤ºæ–¹æ³•æ‰§è¡Œçš„æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSHighlightRect</div><div class="line">NSDeallocateObject</div></pre></td></tr></table></figure>
<p>å¦‚æœå‡½æ•°è¿”å›å…¶å‚æ•°çš„æŸä¸ªå±æ€§ï¼Œçœç•¥åŠ¨è¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">unsigned int NSEventMaskFromType(NSEventType type)</div><div class="line">float NSHeight(NSRect aRect)</div></pre></td></tr></table></figure>
<p>å¦‚æœå‡½æ•°é€šè¿‡æŒ‡é’ˆå‚æ•°æ¥è¿”å›å€¼ï¼Œéœ€è¦åœ¨å‡½æ•°åä¸­ä½¿ç”¨<code>Get</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">const char *NSGetSizeAndAlignment(const char *typePtr, unsigned int *sizep, unsigned int *alignp)</div></pre></td></tr></table></figure>
<p>å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯BOOLæ—¶çš„å‘½åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">BOOL NSDecimalIsNotANumber(const NSDecimal *decimal)</div></pre></td></tr></table></figure>
<h4 id="å‘½åå±æ€§å’Œå®ä¾‹å˜é‡ï¼ˆProperties-amp-Instance-Variablesï¼‰"><a href="#å‘½åå±æ€§å’Œå®ä¾‹å˜é‡ï¼ˆProperties-amp-Instance-Variablesï¼‰" class="headerlink" title="å‘½åå±æ€§å’Œå®ä¾‹å˜é‡ï¼ˆProperties&amp;Instance Variablesï¼‰"></a>å‘½åå±æ€§å’Œå®ä¾‹å˜é‡ï¼ˆProperties&amp;Instance Variablesï¼‰</h4><p>å±æ€§å’Œå¯¹è±¡çš„å­˜å–æ–¹æ³•ç›¸å…³è”ï¼Œå±æ€§çš„ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼Œåç»­å•è¯é¦–å­—æ¯å¤§å†™ï¼Œä¸å¿…æ·»åŠ å‰ç¼€ã€‚å±æ€§æŒ‰åŠŸèƒ½å‘½åæˆåè¯æˆ–è€…åŠ¨è¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//åè¯å±æ€§</div><div class="line">@property (strong) NSString *title;</div><div class="line"></div><div class="line">//åŠ¨è¯å±æ€§</div><div class="line">@property (assign) BOOL showsAlpha;</div></pre></td></tr></table></figure>
<p>å±æ€§ä¹Ÿå¯ä»¥å‘½åæˆå½¢å®¹è¯ï¼Œè¿™æ—¶å€™é€šå¸¸ä¼šæŒ‡å®šä¸€ä¸ªå¸¦æœ‰<code>is</code>å‰ç¼€çš„getæ–¹æ³•æ¥æé«˜å¯è¯»æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (assign, getter=isEditable) BOOL editable;</div></pre></td></tr></table></figure>
<p>å‘½åå®ä¾‹å˜é‡ï¼Œåœ¨å˜é‡åå‰åŠ ä¸Š<code>_</code>å‰ç¼€ï¼ˆ<em>æœ‰äº›æœ‰å†å²çš„ä»£ç ä¼šå°†<code>_</code>æ”¾åœ¨åé¢</em>ï¼‰ï¼Œå…¶å®ƒå’Œå‘½åå±æ€§ä¸€æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@implementation MyClass &#123;</div><div class="line">    BOOL _showsTitle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œç±»éœ€è¦å¯¹ä½¿ç”¨è€…éšè—æ•°æ®å­˜å‚¨çš„ç»†èŠ‚ï¼Œæ‰€ä»¥ä¸è¦å°†å®ä¾‹æ–¹æ³•å®šä¹‰æˆå…¬å…±å¯è®¿é—®çš„æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨<code>@private</code>ï¼Œ<code>@protected</code>å‰ç¼€ã€‚</p>
<p><em>æŒ‰è‹¹æœçš„è¯´æ³•ï¼Œä¸å»ºè®®åœ¨é™¤äº†<code>init</code>å’Œ<code>dealloc</code>æ–¹æ³•ä»¥å¤–çš„åœ°æ–¹ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œä½†å¾ˆå¤šäººè®¤ä¸ºç›´æ¥è®¿é—®ä¼šè®©ä»£ç æ›´åŠ æ¸…æ™°å¯è¯»ï¼Œåªåœ¨éœ€è¦è®¡ç®—æˆ–è€…æ‰§è¡Œæ“ä½œçš„æ—¶å€™æ‰ä½¿ç”¨å­˜å–æ–¹æ³•è®¿é—®ï¼Œæˆ‘å°±æ˜¯è¿™ç§ä¹ æƒ¯ï¼Œæ‰€ä»¥è¿™é‡Œä¸ä½œè¦æ±‚ã€‚</em></p>
<h4 id="å‘½åå¸¸é‡ï¼ˆConstantsï¼‰"><a href="#å‘½åå¸¸é‡ï¼ˆConstantsï¼‰" class="headerlink" title="å‘½åå¸¸é‡ï¼ˆConstantsï¼‰"></a>å‘½åå¸¸é‡ï¼ˆConstantsï¼‰</h4><p>å¦‚æœè¦å®šä¹‰ä¸€ç»„ç›¸å…³çš„å¸¸é‡ï¼Œå°½é‡ä½¿ç”¨æšä¸¾ç±»å‹ï¼ˆenumerationsï¼‰ï¼Œæšä¸¾ç±»å‹çš„å‘½åè§„åˆ™å’Œå‡½æ•°çš„å‘½åè§„åˆ™ç›¸åŒã€‚<br>å»ºè®®ä½¿ç”¨ <code>NS_ENUM</code> å’Œ <code>NS_OPTIONS</code> å®æ¥å®šä¹‰æšä¸¾ç±»å‹ï¼Œå‚è§å®˜æ–¹çš„ <a href="https://developer.apple.com/library/ios/releasenotes/ObjectiveC/ModernizationObjC/AdoptingModernObjective-C/AdoptingModernObjective-C.html" target="_blank" rel="external">Adopting Modern Objective-C</a> ä¸€æ–‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//å®šä¹‰ä¸€ä¸ªæšä¸¾</div><div class="line">typedef NS_ENUM(NSInteger, NSMatrixMode) &#123;</div><div class="line">    NSRadioModeMatrix,</div><div class="line">    NSHighlightModeMatrix,</div><div class="line">    NSListModeMatrix,</div><div class="line">    NSTrackModeMatrix</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>å®šä¹‰bit mapï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">typedef NS_OPTIONS(NSUInteger, NSWindowMask) &#123;</div><div class="line">    NSBorderlessWindowMask      = 0,</div><div class="line">    NSTitledWindowMask          = 1 &lt;&lt; 0,</div><div class="line">    NSClosableWindowMask        = 1 &lt;&lt; 1,</div><div class="line">    NSMiniaturizableWindowMask  = 1 &lt;&lt; 2,</div><div class="line">    NSResizableWindowMask       = 1 &lt;&lt; 3</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>const</code>å®šä¹‰æµ®ç‚¹å‹æˆ–è€…å•ä¸ªçš„æ•´æ•°å‹å¸¸é‡ï¼Œå¦‚æœè¦å®šä¹‰ä¸€ç»„ç›¸å…³çš„æ•´æ•°å¸¸é‡ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨æšä¸¾ã€‚å¸¸é‡çš„å‘½åè§„èŒƒå’Œå‡½æ•°ç›¸åŒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">const float NSLightGray;</div></pre></td></tr></table></figure>
<p>ä¸è¦ä½¿ç”¨<code>#define</code>å®æ¥å®šä¹‰å¸¸é‡ï¼Œå¦‚æœæ˜¯æ•´å‹å¸¸é‡ï¼Œå°½é‡ä½¿ç”¨æšä¸¾ï¼Œæµ®ç‚¹å‹å¸¸é‡ï¼Œä½¿ç”¨<code>const</code>å®šä¹‰ã€‚<code>#define</code>é€šå¸¸ç”¨æ¥ç»™ç¼–è¯‘å™¨å†³å®šæ˜¯å¦ç¼–è¯‘æŸå—ä»£ç ï¼Œæ¯”å¦‚å¸¸ç”¨çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#ifdef DEBUG</div></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°ä¸€èˆ¬ç”±ç¼–è¯‘å™¨å®šä¹‰çš„å®ä¼šåœ¨å‰åéƒ½æœ‰ä¸€ä¸ª<code>__</code>ï¼Œæ¯”å¦‚<em><code>__MACH__</code></em>ã€‚</p>
<h4 id="å‘½åé€šçŸ¥ï¼ˆNotificationsï¼‰"><a href="#å‘½åé€šçŸ¥ï¼ˆNotificationsï¼‰" class="headerlink" title="å‘½åé€šçŸ¥ï¼ˆNotificationsï¼‰"></a>å‘½åé€šçŸ¥ï¼ˆNotificationsï¼‰</h4><p>é€šçŸ¥å¸¸ç”¨äºåœ¨æ¨¡å—é—´ä¼ é€’æ¶ˆæ¯ï¼Œæ‰€ä»¥é€šçŸ¥è¦å°½å¯èƒ½åœ°è¡¨ç¤ºå‡ºå‘ç”Ÿçš„äº‹ä»¶ï¼Œé€šçŸ¥çš„å‘½åèŒƒå¼æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[è§¦å‘é€šçŸ¥çš„ç±»å] + [Did | Will] + [åŠ¨ä½œ] + Notification</div></pre></td></tr></table></figure>
<p>æ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSApplicationDidBecomeActiveNotification</div><div class="line">NSWindowDidMiniaturizeNotification</div><div class="line">NSTextViewDidChangeSelectionNotification</div><div class="line">NSColorPanelColorDidChangeNotification</div></pre></td></tr></table></figure>
<h4 id="å‘½åç±»åˆ«ï¼ˆCategoriesï¼‰"><a href="#å‘½åç±»åˆ«ï¼ˆCategoriesï¼‰" class="headerlink" title="å‘½åç±»åˆ«ï¼ˆCategoriesï¼‰"></a>å‘½åç±»åˆ«ï¼ˆCategoriesï¼‰</h4><p>è™½ç„¶æˆ‘ä»¬çŸ¥é“è¿™æ ·å†™å¾ˆä¸‘, ä½†æ˜¯æˆ‘ä»¬åº”è¯¥è¦åœ¨æˆ‘ä»¬çš„ category æ–¹æ³•å‰åŠ ä¸Šè‡ªå·±çš„å°å†™å‰ç¼€ä»¥åŠä¸‹åˆ’çº¿ï¼Œæ¯”å¦‚<code>- (id)zoc_myCategoryMethod</code>ã€‚ è¿™ç§å®è·µåŒæ ·<a href="https://developer.apple.com/library/ios/documentation/cocoa/conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html#//apple_ref/doc/uid/TP40011210-CH6-SW4" target="_blank" rel="external">è¢«è‹¹æœæ¨è</a>ã€‚</p>
<p>ä¸€ä¸ªå¥½çš„å®è·µæ˜¯åœ¨ category åä¸­ä½¿ç”¨å‰ç¼€ã€‚</p>
<p><strong>ä¾‹å­</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@interface NSDate (ZOCTimeExtensions)</div><div class="line">- (NSString *)zoc_timeAgoShort;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><p>è¯»æ²¡æœ‰æ³¨é‡Šä»£ç çš„ç—›è‹¦ä½ æˆ‘éƒ½ä½“ä¼šè¿‡ï¼Œå¥½çš„æ³¨é‡Šä¸ä»…èƒ½è®©äººè½»æ¾è¯»æ‡‚ä½ çš„ç¨‹åºï¼Œè¿˜èƒ½æå‡ä»£ç çš„é€¼æ ¼ã€‚æ³¨æ„æ³¨é‡Šæ˜¯ä¸ºäº†è®©åˆ«äººçœ‹æ‡‚ï¼Œè€Œä¸æ˜¯ä»…ä»…ä½ è‡ªå·±ã€‚</p>
<h4 id="æ–‡ä»¶æ³¨é‡Š"><a href="#æ–‡ä»¶æ³¨é‡Š" class="headerlink" title="æ–‡ä»¶æ³¨é‡Š"></a>æ–‡ä»¶æ³¨é‡Š</h4><p>æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½<strong>å¿…é¡»</strong>å†™æ–‡ä»¶æ³¨é‡Šï¼Œæ–‡ä»¶æ³¨é‡Šé€šå¸¸åŒ…å«</p>
<ul>
<li>æ–‡ä»¶æ‰€åœ¨æ¨¡å—</li>
<li>ä½œè€…ä¿¡æ¯</li>
<li>å†å²ç‰ˆæœ¬ä¿¡æ¯</li>
<li>ç‰ˆæƒä¿¡æ¯</li>
<li>æ–‡ä»¶åŒ…å«çš„å†…å®¹ï¼Œä½œç”¨</li>
</ul>
<p>ä¸€æ®µè‰¯å¥½æ–‡ä»¶æ³¨é‡Šçš„æ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">/*******************************************************************************</div><div class="line">	Copyright (C), 2011-2013, Andrew Min Chang</div><div class="line"></div><div class="line">	File name: 	AMCCommonLib.h</div><div class="line">	Author:		Andrew Chang (Zhang Min) </div><div class="line">	E-mail:		LaplaceZhang@126.com</div><div class="line">	</div><div class="line">	Description: 	</div><div class="line">			This file provide some covenient tool in calling library tools. One can easily include </div><div class="line">		library headers he wants by declaring the corresponding macros. </div><div class="line">			I hope this file is not only a header, but also a useful Linux library note.</div><div class="line">			</div><div class="line">	History:</div><div class="line">		2012-??-??: On about come date around middle of Year 2012, file created as &quot;commonLib.h&quot;</div><div class="line">		2012-08-20: Add shared memory library; add message queue.</div><div class="line">		2012-08-21: Add socket library (local)</div><div class="line">		2012-08-22: Add math library</div><div class="line">		2012-08-23: Add socket library (internet)</div><div class="line">		2012-08-24: Add daemon function</div><div class="line">		2012-10-10: Change file name as &quot;AMCCommonLib.h&quot;</div><div class="line">		2012-12-04: Add UDP support in AMC socket library</div><div class="line">		2013-01-07: Add basic data type such as &quot;sint8_t&quot;</div><div class="line">		2013-01-18: Add CFG_LIB_STR_NUM.</div><div class="line">		2013-01-22: Add CFG_LIB_TIMER.</div><div class="line">		2013-01-22: Remove CFG_LIB_DATA_TYPE because there is already AMCDataTypes.h</div><div class="line"></div><div class="line">	Copyright information: </div><div class="line">			This file was intended to be under GPL protocol. However, I may use this library</div><div class="line">		in my work as I am an employee. And my company may require me to keep it secret. </div><div class="line">		Therefore, this file is neither open source nor under GPL control. </div><div class="line">		</div><div class="line">********************************************************************************/</div></pre></td></tr></table></figure>
<p><em>æ–‡ä»¶æ³¨é‡Šçš„æ ¼å¼é€šå¸¸ä¸ä½œè¦æ±‚ï¼Œèƒ½æ¸…æ™°æ˜“è¯»å°±å¯ä»¥äº†ï¼Œä½†åœ¨æ•´ä¸ªå·¥ç¨‹ä¸­é£æ ¼è¦ç»Ÿä¸€ã€‚</em></p>
<h4 id="ä»£ç æ³¨é‡Š"><a href="#ä»£ç æ³¨é‡Š" class="headerlink" title="ä»£ç æ³¨é‡Š"></a>ä»£ç æ³¨é‡Š</h4><p>å¥½çš„ä»£ç åº”è¯¥æ˜¯â€œè‡ªè§£é‡Šâ€ï¼ˆself-documentingï¼‰çš„ï¼Œä½†ä»ç„¶éœ€è¦è¯¦ç»†çš„æ³¨é‡Šæ¥è¯´æ˜å‚æ•°çš„æ„ä¹‰ã€è¿”å›å€¼ã€åŠŸèƒ½ä»¥åŠå¯èƒ½çš„å‰¯ä½œç”¨ã€‚</p>
<p>æ–¹æ³•ã€å‡½æ•°ã€ç±»ã€åè®®ã€ç±»åˆ«çš„å®šä¹‰éƒ½éœ€è¦æ³¨é‡Šï¼Œæ¨èé‡‡ç”¨Appleçš„æ ‡å‡†æ³¨é‡Šé£æ ¼ï¼Œå¥½å¤„æ˜¯å¯ä»¥åœ¨å¼•ç”¨çš„åœ°æ–¹<code>alt+ç‚¹å‡»</code>è‡ªåŠ¨å¼¹å‡ºæ³¨é‡Šï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>æœ‰å¾ˆå¤šå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ³¨é‡Šæ ¼å¼çš„æ’ä»¶ï¼Œæ¨èä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦æ–¹æ³•æ³¨é‡ŠåŠŸèƒ½ï¼ˆ<code>Cmd + Alt + /</code>ï¼‰ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6080248-cb62b50bcbc1fed5.gif?imageMogr2/auto-orient/strip" alt="Screenshot"></p>
<p>ä¸€äº›è‰¯å¥½çš„æ³¨é‡Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *  Create a new preconnector to replace the old one with given mac address.</div><div class="line"> *  NOTICE: We DO NOT stop the old preconnector, so handle it by yourself.</div><div class="line"> *</div><div class="line"> *  @param type       Connect type the preconnector use.</div><div class="line"> *  @param macAddress Preconnector&apos;s mac address.</div><div class="line"> */</div><div class="line">- (void)refreshConnectorWithConnectType:(IPCConnectType)type  Mac:(NSString *)macAddress;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  Stop current preconnecting when application is going to background.</div><div class="line"> */</div><div class="line">-(void)stopRunning;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  Get the COPY of cloud device with a given mac address.</div><div class="line"> *</div><div class="line"> *  @param macAddress Mac address of the device.</div><div class="line"> *</div><div class="line"> *  @return Instance of IPCCloudDevice.</div><div class="line"> */</div><div class="line">-(IPCCloudDevice *)getCloudDeviceWithMac:(NSString *)macAddress;</div><div class="line"></div><div class="line">// A delegate for NSApplication to handle notifications about app</div><div class="line">// launch and shutdown. Owned by the main app controller.</div><div class="line">@interface MyAppDelegate : NSObject &#123;</div><div class="line">  ...</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>åè®®ã€å§”æ‰˜çš„æ³¨é‡Šè¦æ˜ç¡®è¯´æ˜å…¶è¢«è§¦å‘çš„æ¡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/** Delegate - Sent when failed to init connection, like p2p failed. */</div><div class="line">-(void)initConnectionDidFailed:(IPCConnectHandler *)handler;</div></pre></td></tr></table></figure>
<p>å¦‚æœåœ¨æ³¨é‡Šä¸­è¦å¼•ç”¨å‚æ•°åæˆ–è€…æ–¹æ³•å‡½æ•°åï¼Œä½¿ç”¨<code>||</code>å°†å‚æ•°æˆ–è€…æ–¹æ³•æ‹¬èµ·æ¥ä»¥é¿å…æ­§ä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// Sometimes we need |count| to be less than zero.</div><div class="line"></div><div class="line">// Remember to call |StringWithoutSpaces(&quot;foo bar baz&quot;)|</div></pre></td></tr></table></figure>
<p><strong>å®šä¹‰åœ¨å¤´æ–‡ä»¶é‡Œçš„æ¥å£æ–¹æ³•ã€å±æ€§å¿…é¡»è¦æœ‰æ³¨é‡Šï¼</strong></p>
<h3 id="ç¼–ç é£æ ¼"><a href="#ç¼–ç é£æ ¼" class="headerlink" title="ç¼–ç é£æ ¼"></a>ç¼–ç é£æ ¼</h3><p>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ç¼–ç é£æ ¼ï¼Œè¿™é‡Œæ€»ç»“äº†ä¸€äº›æ¯”è¾ƒå¥½çš„Cocoaç¼–ç¨‹é£æ ¼å’Œæ³¨æ„ç‚¹ã€‚</p>
<h4 id="ä¸è¦ä½¿ç”¨å°¤è¾¾è¡¨è¾¾å¼"><a href="#ä¸è¦ä½¿ç”¨å°¤è¾¾è¡¨è¾¾å¼" class="headerlink" title="ä¸è¦ä½¿ç”¨å°¤è¾¾è¡¨è¾¾å¼"></a>ä¸è¦ä½¿ç”¨å°¤è¾¾è¡¨è¾¾å¼</h4><p>å°¤è¾¾è¡¨è¾¾å¼æ˜¯æŒ‡ï¼Œæ‹¿ä¸€ä¸ªå¸¸é‡å»å’Œå˜é‡æ¯”è¾ƒè€Œä¸æ˜¯æ‹¿å˜é‡å»å’Œå¸¸é‡æ¯”è¾ƒã€‚å®ƒå°±åƒæ˜¯åœ¨è¡¨è¾¾ â€œè“è‰²æ˜¯ä¸æ˜¯å¤©ç©ºçš„é¢œè‰²â€ æˆ–è€… â€œé«˜ä¸ªæ˜¯ä¸æ˜¯è¿™ä¸ªç”·äººçš„å±æ€§â€ è€Œä¸æ˜¯ â€œå¤©ç©ºæ˜¯ä¸æ˜¯è“çš„â€ æˆ–è€… â€œè¿™ä¸ªç”·äººæ˜¯ä¸æ˜¯é«˜ä¸ªå­çš„â€</p>
<p> <strong>æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if ([myValue isEqual:@42]) &#123; ...</div></pre></td></tr></table></figure>
<p><strong>ä¸æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if ([@42 isEqual:myValue]) &#123; ...</div></pre></td></tr></table></figure>
<h4 id="é»„é‡‘å¤§é“"><a href="#é»„é‡‘å¤§é“" class="headerlink" title="é»„é‡‘å¤§é“"></a>é»„é‡‘å¤§é“</h4><p>åœ¨ä½¿ç”¨æ¡ä»¶è¯­å¥ç¼–ç¨‹æ—¶ï¼Œä»£ç çš„å·¦è¾¹è·åº”è¯¥æ˜¯ä¸€æ¡â€œé»„é‡‘â€æˆ–è€…â€œå¿«ä¹â€çš„å¤§é“ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¦åµŒå¥— <code>if</code> è¯­å¥ã€‚ä½¿ç”¨å¤šä¸ª return å¯ä»¥é¿å…å¢åŠ å¾ªç¯çš„å¤æ‚åº¦ï¼Œå¹¶æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚å› ä¸ºæ–¹æ³•çš„é‡è¦éƒ¨åˆ†æ²¡æœ‰åµŒå¥—åœ¨åˆ†æ”¯é‡Œé¢ï¼Œå¹¶ä¸”ä½ å¯ä»¥å¾ˆæ¸…æ¥šåœ°æ‰¾åˆ°ç›¸å…³çš„ä»£ç ã€‚</p>
<p><strong>æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (void)someMethod &#123;</div><div class="line">  if (![someOther boolValue]) &#123;</div><div class="line">      return;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  //Do something important</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ä¸æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)someMethod &#123;</div><div class="line">  if ([someOther boolValue]) &#123;</div><div class="line">    //Do something important</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="å¤æ‚çš„è¡¨è¾¾å¼"><a href="#å¤æ‚çš„è¡¨è¾¾å¼" class="headerlink" title="å¤æ‚çš„è¡¨è¾¾å¼"></a>å¤æ‚çš„è¡¨è¾¾å¼</h4><p>å½“ä½ æœ‰ä¸€ä¸ªå¤æ‚çš„ if å­å¥çš„æ—¶å€™ï¼Œä½ åº”è¯¥æŠŠå®ƒä»¬æå–å‡ºæ¥èµ‹ç»™ä¸€ä¸ª BOOL å˜é‡ï¼Œè¿™æ ·å¯ä»¥è®©é€»è¾‘æ›´æ¸…æ¥šï¼Œè€Œä¸”è®©æ¯ä¸ªå­å¥çš„æ„ä¹‰ä½“ç°å‡ºæ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BOOL nameContainsSwift  = [sessionName containsString:@&quot;Swift&quot;];</div><div class="line">BOOL isCurrentYear      = [sessionDateCompontents year] == 2014;</div><div class="line">BOOL isSwiftSession     = nameContainsSwift &amp;&amp; isCurrentYear;</div><div class="line"></div><div class="line">if (isSwiftSession) &#123;</div><div class="line">    // Do something very cool</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ä¸‰å…ƒè¿ç®—ç¬¦"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦"></a>ä¸‰å…ƒè¿ç®—ç¬¦</h4><p>ä¸‰å…ƒè¿ç®—ç¬¦ ? åº”è¯¥åªç”¨åœ¨å®ƒèƒ½è®©ä»£ç æ›´åŠ æ¸…æ¥šçš„åœ°æ–¹ã€‚ ä¸€ä¸ªæ¡ä»¶è¯­å¥çš„æ‰€æœ‰çš„å˜é‡åº”è¯¥æ˜¯å·²ç»è¢«æ±‚å€¼äº†çš„ã€‚ç±»ä¼¼ if è¯­å¥ï¼Œè®¡ç®—å¤šä¸ªæ¡ä»¶å­å¥é€šå¸¸ä¼šè®©è¯­å¥æ›´åŠ éš¾ä»¥ç†è§£ã€‚æˆ–è€…å¯ä»¥æŠŠå®ƒä»¬é‡æ„åˆ°å®ä¾‹å˜é‡é‡Œé¢ã€‚</p>
<p><strong>æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = a &gt; b ? x : y;</div></pre></td></tr></table></figure>
<p><strong>ä¸æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = a &gt; b ? x = c &gt; d ? c : d : y;</div></pre></td></tr></table></figure>
<p>å½“ä¸‰å…ƒè¿ç®—ç¬¦çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆif åˆ†æ”¯ï¼‰è¿”å›å’Œæ¡ä»¶è¯­å¥ä¸­å·²ç»æ£€æŸ¥çš„å¯¹è±¡ä¸€æ ·çš„å¯¹è±¡çš„æ—¶å€™ï¼Œä¸‹é¢çš„è¡¨è¾¾æ–¹å¼æ›´çµå·§ï¼š</p>
<p><strong>æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = object ? : [self createObject];</div></pre></td></tr></table></figure>
<p><strong>ä¸æ¨è:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = object ? object : [self createObject];</div></pre></td></tr></table></figure>
<h4 id="Pragma"><a href="#Pragma" class="headerlink" title="Pragma"></a>Pragma</h4><h5 id="Pragma-Mark"><a href="#Pragma-Mark" class="headerlink" title="Pragma Mark"></a>Pragma Mark</h5><p><code>#pragma mark -</code> æ˜¯ä¸€ä¸ªåœ¨ç±»å†…éƒ¨ç»„ç»‡ä»£ç å¹¶ä¸”å¸®åŠ©ä½ åˆ†ç»„æ–¹æ³•å®ç°çš„å¥½åŠæ³•ã€‚ æˆ‘ä»¬å»ºè®®ä½¿ç”¨ <code>#pragma mark -</code> æ¥åˆ†ç¦»:</p>
<ul>
<li>ä¸åŒåŠŸèƒ½ç»„çš„æ–¹æ³•</li>
<li>protocols çš„å®ç°</li>
<li>å¯¹çˆ¶ç±»æ–¹æ³•çš„é‡å†™</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">- (void)dealloc &#123; /* ... */ &#125;</div><div class="line">- (instancetype)init &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - View Lifecycle ï¼ˆView çš„ç”Ÿå‘½å‘¨æœŸï¼‰</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123; /* ... */ &#125;</div><div class="line">- (void)viewWillAppear:(BOOL)animated &#123; /* ... */ &#125;</div><div class="line">- (void)didReceiveMemoryWarning &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - Custom Accessors ï¼ˆè‡ªå®šä¹‰è®¿é—®å™¨ï¼‰</div><div class="line"></div><div class="line">- (void)setCustomProperty:(id)value &#123; /* ... */ &#125;</div><div class="line">- (id)customProperty &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - IBActions  </div><div class="line"></div><div class="line">- (IBAction)submitData:(id)sender &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - Public </div><div class="line"></div><div class="line">- (void)publicMethod &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - Private</div><div class="line"></div><div class="line">- (void)zoc_privateMethod &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - UITableViewDataSource</div><div class="line"></div><div class="line">- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">#pragma mark - ZOCSuperclass</div><div class="line"></div><div class="line">// ... é‡è½½æ¥è‡ª ZOCSuperclass çš„æ–¹æ³•</div><div class="line"></div><div class="line">#pragma mark - NSObject</div><div class="line"></div><div class="line">- (NSString *)description &#123; /* ... */ &#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„æ ‡è®°èƒ½æ˜æ˜¾åˆ†ç¦»å’Œç»„ç»‡ä»£ç ã€‚ä½ è¿˜å¯ä»¥ç”¨ cmd+Click æ¥å¿«é€Ÿè·³è½¬åˆ°ç¬¦å·å®šä¹‰åœ°æ–¹ã€‚ ä½†æ˜¯å°å¿ƒï¼Œå³ä½¿ paragma mark æ˜¯ä¸€é—¨æ‰‹è‰ºï¼Œä½†æ˜¯å®ƒä¸æ˜¯è®©ä½ ç±»é‡Œé¢æ–¹æ³•æ•°é‡å¢åŠ çš„ä¸€ä¸ªç†ç”±ï¼šç±»é‡Œé¢æœ‰å¤ªå¤šæ–¹æ³•è¯´æ˜ç±»åšäº†å¤ªå¤šäº‹æƒ…ï¼Œéœ€è¦è€ƒè™‘é‡æ„äº†ã€‚</p>
<h5 id="å…³äº-pragma"><a href="#å…³äº-pragma" class="headerlink" title="å…³äº pragma"></a>å…³äº pragma</h5><p>åœ¨ <a href="http://raptureinvenice.com/pragmas-arent-just-for-marks" target="_blank" rel="external">http://raptureinvenice.com/pragmas-arent-just-for-marks</a> æœ‰å¾ˆå¥½çš„å…³äº pragma çš„è®¨è®ºäº†ï¼Œåœ¨è¿™è¾¹æˆ‘ä»¬å†åšéƒ¨åˆ†è¯´æ˜ã€‚</p>
<p>å¤§å¤šæ•° iOS å¼€å‘è€…å¹³æ—¶å¹¶æ²¡æœ‰å’Œå¾ˆå¤šç¼–è¯‘å™¨é€‰é¡¹æ‰“äº¤é“ã€‚ä¸€äº›é€‰é¡¹æ˜¯å¯¹æ§åˆ¶ä¸¥æ ¼æ£€æŸ¥ï¼ˆæˆ–è€…ä¸æ£€æŸ¥ï¼‰ä½ çš„ä»£ç æˆ–è€…é”™è¯¯çš„ã€‚æœ‰æ—¶å€™ï¼Œä½ æƒ³è¦ç”¨ pragma ç›´æ¥äº§ç”Ÿä¸€ä¸ªå¼‚å¸¸ï¼Œä¸´æ—¶æ‰“æ–­ç¼–è¯‘å™¨çš„è¡Œä¸ºã€‚</p>
<p>å½“ä½ ä½¿ç”¨ARCçš„æ—¶å€™ï¼Œç¼–è¯‘å™¨å¸®ä½ æ’å…¥äº†å†…å­˜ç®¡ç†ç›¸å…³çš„è°ƒç”¨ã€‚ä½†æ˜¯è¿™æ ·å¯èƒ½äº§ç”Ÿä¸€äº›çƒ¦äººçš„äº‹æƒ…ã€‚æ¯”å¦‚ä½ ä½¿ç”¨ <code>NSSelectorFromString</code> æ¥åŠ¨æ€åœ°äº§ç”Ÿä¸€ä¸ª selector è°ƒç”¨çš„æ—¶å€™ï¼ŒARCä¸çŸ¥é“è¿™ä¸ªæ–¹æ³•æ˜¯å“ªä¸ªå¹¶ä¸”ä¸çŸ¥é“åº”è¯¥ç”¨é‚£ç§å†…å­˜ç®¡ç†æ–¹æ³•ï¼Œä½ ä¼šè¢«æç¤º <code>performSelector may cause a leak because its selector is unknownï¼ˆæ‰§è¡Œ selector å¯èƒ½å¯¼è‡´æ³„æ¼ï¼Œå› ä¸ºè¿™ä¸ª selector æ˜¯æœªçŸ¥çš„ï¼‰</code>.</p>
<p>å¦‚æœä½ çŸ¥é“ä½ çš„ä»£ç ä¸ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Œä½ å¯ä»¥é€šè¿‡åŠ å…¥è¿™äº›ä»£ç å¿½ç•¥è¿™äº›è­¦å‘Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#pragma clang diagnostic push</div><div class="line">#pragma clang diagnostic ignored &quot;-Warc-performSelector-leaks&quot;</div><div class="line"></div><div class="line">[myObj performSelector:mySelector withObject:name];</div><div class="line"></div><div class="line">#pragma clang diagnostic pop</div></pre></td></tr></table></figure>
<p>æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•åœ¨ç›¸å…³ä»£ç ä¸Šä¸‹æ–‡ä¸­ç”¨ pragma åœç”¨ -Warc-performSelector-leaks æ£€æŸ¥çš„ã€‚è¿™ç¡®ä¿æˆ‘ä»¬æ²¡æœ‰å…¨å±€ç¦ç”¨ã€‚å¦‚æœå…¨å±€ç¦ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚</p>
<p>å…¨éƒ¨çš„é€‰é¡¹å¯ä»¥åœ¨ <a href="http://clang.llvm.org/docs/UsersManual.html" target="_blank" rel="external">The Clang Userâ€™s Manual</a> æ‰¾åˆ°å¹¶ä¸”å­¦ä¹ ã€‚</p>
<h5 id="å¿½ç•¥æ²¡ç”¨ä½¿ç”¨å˜é‡çš„ç¼–è¯‘è­¦å‘Š"><a href="#å¿½ç•¥æ²¡ç”¨ä½¿ç”¨å˜é‡çš„ç¼–è¯‘è­¦å‘Š" class="headerlink" title="å¿½ç•¥æ²¡ç”¨ä½¿ç”¨å˜é‡çš„ç¼–è¯‘è­¦å‘Š"></a>å¿½ç•¥æ²¡ç”¨ä½¿ç”¨å˜é‡çš„ç¼–è¯‘è­¦å‘Š</h5><p>å‘Šè¯‰ä½ ç”³æ˜çš„å˜é‡å®ƒå°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œè¿™ç§åšæ³•å¾ˆæœ‰ç”¨ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¸Œæœ›ç§»é™¤è¿™äº›å¼•ç”¨æ¥ï¼ˆç¨å¾®åœ°ï¼‰æé«˜æ€§èƒ½ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä½ å¸Œæœ›ä¿ç•™å®ƒä»¬ã€‚ä¸ºä»€ä¹ˆï¼Ÿæˆ–è®¸å®ƒä»¬ä»¥åæœ‰ç”¨ï¼Œæˆ–è€…æœ‰äº›ç‰¹æ€§åªæ˜¯æš‚æ—¶ç§»é™¤ã€‚æ— è®ºå¦‚ä½•ï¼Œä¸€ä¸ªæ¶ˆé™¤è¿™äº›è­¦å‘Šçš„å¥½æ–¹æ³•æ˜¯ç”¨ç›¸å…³è¯­å¥è¿›è¡Œæ³¨è§£ï¼Œä½¿ç”¨ <code>#pragma unused()</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (NSInteger)giveMeFive</div><div class="line">&#123;</div><div class="line">    NSString *foo;</div><div class="line">    #pragma unused (foo)</div><div class="line"></div><div class="line">    return 5;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç°åœ¨ä½ çš„ä»£ç ä¸ç”¨ä»»ä½•ç¼–è¯‘è­¦å‘Šäº†ã€‚æ³¨æ„ä½ çš„ pragma éœ€è¦æ ‡è®°åˆ°é—®é¢˜ä»£ç ä¹‹ä¸‹ã€‚</p>
<h4 id="æ˜ç¡®ç¼–è¯‘å™¨è­¦å‘Šå’Œé”™è¯¯"><a href="#æ˜ç¡®ç¼–è¯‘å™¨è­¦å‘Šå’Œé”™è¯¯" class="headerlink" title="æ˜ç¡®ç¼–è¯‘å™¨è­¦å‘Šå’Œé”™è¯¯"></a>æ˜ç¡®ç¼–è¯‘å™¨è­¦å‘Šå’Œé”™è¯¯</h4><p>ç¼–è¯‘å™¨æ˜¯ä¸€ä¸ªæœºå™¨äººï¼Œå®ƒä¼šæ ‡è®°ä½ ä»£ç ä¸­è¢« Clang è§„åˆ™å®šä¹‰ä¸ºé”™è¯¯çš„åœ°æ–¹ã€‚ä½†æ˜¯ï¼Œä½ æ€»æ˜¯æ¯” Clang æ›´èªæ˜ã€‚é€šå¸¸ï¼Œä½ ä¼šå‘ç°ä¸€äº›è®¨åŒçš„ä»£ç ä¼šå¯¼è‡´è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æš‚æ—¶å´è§£å†³ä¸äº†ã€‚ä½ å¯ä»¥è¿™æ ·æ˜ç¡®ä¸€ä¸ªé”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (NSInteger)divide:(NSInteger)dividend by:(NSInteger)divisor</div><div class="line">&#123;</div><div class="line">    #error Whoa, buddy, you need to check for zero here!</div><div class="line">    return (dividend / divisor);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç±»ä¼¼çš„ï¼Œä½ å¯ä»¥è¿™æ ·æ ‡æ˜ä¸€ä¸ªè­¦å‘Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (float)divide:(float)dividend by:(float)divisor</div><div class="line">&#123;</div><div class="line">    #warning Dude, don&apos;t compare floating point numbers like this!</div><div class="line">    if (divisor != 0.0) &#123;</div><div class="line">        return (dividend / divisor);</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">        return NAN;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="NSCache"><a href="#NSCache" class="headerlink" title="NSCache"></a>NSCache</h4><ul>
<li>æ„å»ºç¼“å­˜æ—¶é€‰ç”¨NSCache è€ŒéNSDictionary</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬ç¼“å­˜ä½¿ç”¨å¾—å½“ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºçš„å“åº”é€Ÿåº¦å°±ä¼šæé«˜ã€‚åªæœ‰é‚£ç§â€œé‡æ–°è®¡ç®—èµ·æ¥å¾ˆè´¹äº‹çš„æ•°æ®ï¼Œæ‰å€¼å¾—æ”¾å…¥ç¼“å­˜â€ï¼Œæ¯”å¦‚é‚£äº›éœ€è¦ä»ç½‘ç»œè·å–æˆ–ä»ç£ç›˜è¯»å–çš„æ•°æ®ã€‚</p>
<p>åœ¨æ„å»ºç¼“å­˜çš„æ—¶å€™å¾ˆå¤šäººä¹ æƒ¯ç”¨NSDictionaryæˆ–è€…NSMutableDictionaryï¼Œä½†æ˜¯ä½œè€…å»ºè®®å¤§å®¶ä½¿ç”¨NSCacheï¼Œå®ƒä½œä¸ºç®¡ç†ç¼“å­˜çš„ç±»ï¼Œæœ‰å¾ˆå¤šç‰¹ç‚¹è¦ä¼˜äºå­—å…¸ï¼Œå› ä¸ºå®ƒæœ¬æ¥å°±æ˜¯ä¸ºäº†ç®¡ç†ç¼“å­˜è€Œè®¾è®¡çš„ã€‚</p>
<ul>
<li>NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼š<ul>
<li>å½“ç³»ç»Ÿèµ„æºå°†è¦è€—å°½æ—¶ï¼ŒNSCacheå…·å¤‡è‡ªåŠ¨åˆ å‡ç¼“å†²çš„åŠŸèƒ½ã€‚å¹¶ä¸”è¿˜ä¼šå…ˆåˆ å‡â€œæœ€ä¹…æœªä½¿ç”¨â€çš„å¯¹è±¡ã€‚</li>
<li>NSCacheä¸æ‹·è´é”®ï¼Œè€Œæ˜¯ä¿ç•™é”®ã€‚å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„é”®éƒ½éµä»æ‹·è´åè®®ï¼ˆå­—å…¸çš„é”®æ˜¯å¿…é¡»è¦æ”¯æŒæ‹·è´åè®®çš„ï¼Œæœ‰å±€é™æ€§ï¼‰ã€‚</li>
<li>NSCacheæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼šä¸ç¼–å†™åŠ é”ä»£ç çš„å‰æä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®NSCacheã€‚</li>
</ul>
</li>
</ul>
<h4 id="ä¸è¦ä½¿ç”¨newæ–¹æ³•"><a href="#ä¸è¦ä½¿ç”¨newæ–¹æ³•" class="headerlink" title="ä¸è¦ä½¿ç”¨newæ–¹æ³•"></a>ä¸è¦ä½¿ç”¨newæ–¹æ³•</h4><p>å°½ç®¡å¾ˆå¤šæ—¶å€™èƒ½ç”¨<code>new</code>ä»£æ›¿<code>alloc init</code>æ–¹æ³•ï¼Œä½†è¿™å¯èƒ½ä¼šå¯¼è‡´è°ƒè¯•å†…å­˜æ—¶å‡ºç°ä¸å¯é¢„æ–™çš„é—®é¢˜ã€‚Cocoaçš„è§„èŒƒå°±æ˜¯ä½¿ç”¨<code>alloc init</code>æ–¹æ³•ï¼Œä½¿ç”¨<code>new</code>ä¼šè®©ä¸€äº›è¯»è€…å›°æƒ‘ã€‚</p>
<h4 id="importå’Œ-include"><a href="#importå’Œ-include" class="headerlink" title="#importå’Œ#include"></a>#importå’Œ#include</h4><p><code>#import</code>æ˜¯Cocoaä¸­å¸¸ç”¨çš„å¼•ç”¨å¤´æ–‡ä»¶çš„æ–¹å¼ï¼Œå®ƒèƒ½è‡ªåŠ¨é˜²æ­¢é‡å¤å¼•ç”¨æ–‡ä»¶ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨<code>#import</code>ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨<code>#include</code>å‘¢ï¼Ÿ</p>
<ul>
<li>å½“å¼•ç”¨çš„æ˜¯ä¸€ä¸ªObjective-Cæˆ–è€…Objective-C++çš„å¤´æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨<code>#import</code></li>
<li>å½“å¼•ç”¨çš„æ˜¯ä¸€ä¸ªCæˆ–è€…C++çš„å¤´æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨<code>#include</code>ï¼Œè¿™æ—¶å¿…é¡»è¦ä¿è¯è¢«å¼•ç”¨çš„æ–‡ä»¶æä¾›äº†ä¿æŠ¤åŸŸï¼ˆ#define guardï¼‰ã€‚</li>
</ul>
<p>æ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#import &lt;Cocoa/Cocoa.h&gt;</div><div class="line">#include &lt;CoreFoundation/CoreFoundation.h&gt;</div><div class="line">#import &quot;GTMFoo.h&quot;</div><div class="line">#include &quot;base/basictypes.h&quot;</div></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨<code>#import</code>å‘¢ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ä»£ç åœ¨ä¸åŒå¹³å°é—´å…±äº«æ—¶ä¸å‡ºç°é—®é¢˜ã€‚</p>
<h4 id="å¼•ç”¨æ¡†æ¶çš„æ ¹å¤´æ–‡ä»¶"><a href="#å¼•ç”¨æ¡†æ¶çš„æ ¹å¤´æ–‡ä»¶" class="headerlink" title="å¼•ç”¨æ¡†æ¶çš„æ ¹å¤´æ–‡ä»¶"></a>å¼•ç”¨æ¡†æ¶çš„æ ¹å¤´æ–‡ä»¶</h4><p>ä¸Šé¢æåˆ°è¿‡ï¼Œæ¯ä¸€ä¸ªæ¡†æ¶éƒ½ä¼šæœ‰ä¸€ä¸ªå’Œæ¡†æ¶åŒåçš„å¤´æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†æ¡†æ¶å†…æ¥å£çš„æ‰€æœ‰å¼•ç”¨ï¼Œåœ¨ä½¿ç”¨æ¡†æ¶çš„æ—¶å€™ï¼Œåº”è¯¥ç›´æ¥å¼•ç”¨è¿™ä¸ªæ ¹å¤´æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å…¶å®ƒå­æ¨¡å—çš„å¤´æ–‡ä»¶ï¼Œå³ä½¿æ˜¯ä½ åªç”¨åˆ°äº†å…¶ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å®Œæˆä¼˜åŒ–çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œå¼•ç”¨æ ¹å¤´æ–‡ä»¶</div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œä¸è¦å•ç‹¬å¼•ç”¨æ¡†æ¶å†…çš„å…¶å®ƒå¤´æ–‡ä»¶</div><div class="line">#import &lt;Foundation/NSArray.h&gt;</div><div class="line">#import &lt;Foundation/NSString.h&gt;</div></pre></td></tr></table></figure>
<h4 id="BOOLçš„ä½¿ç”¨"><a href="#BOOLçš„ä½¿ç”¨" class="headerlink" title="BOOLçš„ä½¿ç”¨"></a>BOOLçš„ä½¿ç”¨</h4><p>BOOLåœ¨Objective-Cä¸­è¢«å®šä¹‰ä¸º<code>signed char</code>ç±»å‹ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªBOOLç±»å‹çš„å˜é‡ä¸ä»…ä»…å¯ä»¥è¡¨ç¤º<code>YES</code>(1)å’Œ<code>NO</code>(0)ä¸¤ä¸ªå€¼ï¼Œæ‰€ä»¥æ°¸è¿œ<strong>ä¸è¦</strong>å°†BOOLç±»å‹å˜é‡ç›´æ¥å’Œ<code>YES</code>æ¯”è¾ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//é”™è¯¯ï¼Œæ— æ³•ç¡®å®š|great|çš„å€¼æ˜¯å¦æ˜¯YES(1)ï¼Œä¸è¦å°†BOOLå€¼ç›´æ¥ä¸YESæ¯”è¾ƒ</div><div class="line">BOOL great = [foo isGreat];</div><div class="line">if (great == YES)</div><div class="line">  // ...be great!</div><div class="line"></div><div class="line">//æ­£ç¡®</div><div class="line">BOOL great = [foo isGreat];</div><div class="line">if (great)</div><div class="line">  // ...be great!</div></pre></td></tr></table></figure>
<p>åŒæ ·çš„ï¼Œä¹Ÿä¸è¦å°†å…¶å®ƒç±»å‹çš„å€¼ä½œä¸ºBOOLæ¥è¿”å›ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒBOOLå˜é‡åªä¼šå–å€¼çš„æœ€åä¸€ä¸ªå­—èŠ‚æ¥èµ‹å€¼ï¼Œè¿™æ ·å¾ˆå¯èƒ½ä¼šå–åˆ°0ï¼ˆNOï¼‰ã€‚ä½†æ˜¯ï¼Œä¸€äº›é€»è¾‘æ“ä½œç¬¦æ¯”å¦‚<code>&amp;&amp;</code>,<code>||</code>,<code>!</code>çš„è¿”å›æ˜¯å¯ä»¥ç›´æ¥èµ‹ç»™BOOLçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">//é”™è¯¯ï¼Œä¸è¦å°†å…¶å®ƒç±»å‹è½¬åŒ–ä¸ºBOOLè¿”å›</div><div class="line">- (BOOL)isBold &#123;</div><div class="line">  return [self fontTraits] &amp; NSFontBoldTrait;</div><div class="line">&#125;</div><div class="line">- (BOOL)isValid &#123;</div><div class="line">  return [self stringValue];</div><div class="line">&#125;</div><div class="line"></div><div class="line">//æ­£ç¡®</div><div class="line">- (BOOL)isBold &#123;</div><div class="line">  return ([self fontTraits] &amp; NSFontBoldTrait) ? YES : NO;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//æ­£ç¡®ï¼Œé€»è¾‘æ“ä½œç¬¦å¯ä»¥ç›´æ¥è½¬åŒ–ä¸ºBOOL</div><div class="line">- (BOOL)isValid &#123;</div><div class="line">  return [self stringValue] != nil;</div><div class="line">&#125;</div><div class="line">- (BOOL)isEnabled &#123;</div><div class="line">  return [self isValid] &amp;&amp; [self isBold];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦å¤–BOOLç±»å‹å¯ä»¥å’Œ<code>_Bool</code>,<code>bool</code>ç›¸äº’è½¬åŒ–ï¼Œä½†æ˜¯<strong>ä¸èƒ½</strong>å’Œ<code>Boolean</code>è½¬åŒ–ã€‚</p>
<h4 id="åœ¨initå’Œdeallocä¸­ä¸è¦ç”¨å­˜å–æ–¹æ³•è®¿é—®å®ä¾‹å˜é‡"><a href="#åœ¨initå’Œdeallocä¸­ä¸è¦ç”¨å­˜å–æ–¹æ³•è®¿é—®å®ä¾‹å˜é‡" class="headerlink" title="åœ¨initå’Œdeallocä¸­ä¸è¦ç”¨å­˜å–æ–¹æ³•è®¿é—®å®ä¾‹å˜é‡"></a>åœ¨initå’Œdeallocä¸­ä¸è¦ç”¨å­˜å–æ–¹æ³•è®¿é—®å®ä¾‹å˜é‡</h4><p>å½“<code>init``dealloc</code>æ–¹æ³•è¢«æ‰§è¡Œæ—¶ï¼Œç±»çš„è¿è¡Œæ—¶ç¯å¢ƒä¸æ˜¯å¤„äºæ­£å¸¸çŠ¶æ€çš„ï¼Œä½¿ç”¨å­˜å–æ–¹æ³•è®¿é—®å˜é‡å¯èƒ½ä¼šå¯¼è‡´ä¸å¯é¢„æ–™çš„ç»“æœï¼Œå› æ­¤åº”å½“åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•å†…ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œç›´æ¥è®¿é—®å®ä¾‹å˜é‡</div><div class="line">- (instancetype)init &#123;</div><div class="line">  self = [super init];</div><div class="line">  if (self) &#123;</div><div class="line">    _bar = [[NSMutableString alloc] init];</div><div class="line">  &#125;</div><div class="line">  return self;</div><div class="line">&#125;</div><div class="line">- (void)dealloc &#123;</div><div class="line">  [_bar release];</div><div class="line">  [super dealloc];</div><div class="line">&#125;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œä¸è¦é€šè¿‡å­˜å–æ–¹æ³•è®¿é—®</div><div class="line">- (instancetype)init &#123;</div><div class="line">  self = [super init];</div><div class="line">  if (self) &#123;</div><div class="line">    self.bar = [NSMutableString string];</div><div class="line">  &#125;</div><div class="line">  return self;</div><div class="line">&#125;</div><div class="line">- (void)dealloc &#123;</div><div class="line">  self.bar = nil;</div><div class="line">  [super dealloc];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ä¿è¯NSStringåœ¨èµ‹å€¼æ—¶è¢«å¤åˆ¶"><a href="#ä¿è¯NSStringåœ¨èµ‹å€¼æ—¶è¢«å¤åˆ¶" class="headerlink" title="ä¿è¯NSStringåœ¨èµ‹å€¼æ—¶è¢«å¤åˆ¶"></a>ä¿è¯NSStringåœ¨èµ‹å€¼æ—¶è¢«å¤åˆ¶</h4><p><code>NSString</code>éå¸¸å¸¸ç”¨ï¼Œåœ¨å®ƒè¢«ä¼ é€’æˆ–è€…èµ‹å€¼æ—¶åº”å½“ä¿è¯æ˜¯ä»¥å¤åˆ¶ï¼ˆcopyï¼‰çš„æ–¹å¼è¿›è¡Œçš„ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹Stringçš„å€¼è¢«å…¶å®ƒå¯¹è±¡ä¿®æ”¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (void)setFoo:(NSString *)aFoo &#123;</div><div class="line">  _foo = [aFoo copy];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨NSNumberçš„è¯­æ³•ç³–"><a href="#ä½¿ç”¨NSNumberçš„è¯­æ³•ç³–" class="headerlink" title="ä½¿ç”¨NSNumberçš„è¯­æ³•ç³–"></a>ä½¿ç”¨NSNumberçš„è¯­æ³•ç³–</h4><p>ä½¿ç”¨å¸¦æœ‰<code>@</code>ç¬¦å·çš„è¯­æ³•ç³–æ¥ç”ŸæˆNSNumberå¯¹è±¡èƒ½ä½¿ä»£ç æ›´ç®€æ´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">NSNumber *fortyTwo = @42;</div><div class="line">NSNumber *piOverTwo = @(M_PI / 2);</div><div class="line">enum &#123;</div><div class="line">  kMyEnum = 2;</div><div class="line">&#125;;</div><div class="line">NSNumber *myEnum = @(kMyEnum);</div></pre></td></tr></table></figure>
<h4 id="nilæ£€æŸ¥"><a href="#nilæ£€æŸ¥" class="headerlink" title="nilæ£€æŸ¥"></a>nilæ£€æŸ¥</h4><p>å› ä¸ºåœ¨Objective-Cä¸­å‘nilå¯¹è±¡å‘é€å‘½ä»¤æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–è€…å¯¼è‡´å´©æºƒçš„ï¼Œåªæ˜¯å®Œå…¨çš„â€œä»€ä¹ˆéƒ½ä¸å¹²â€ï¼Œæ‰€ä»¥ï¼Œåªåœ¨ç¨‹åºä¸­ä½¿ç”¨nilæ¥åšé€»è¾‘ä¸Šçš„æ£€æŸ¥ã€‚</p>
<p>å¦å¤–ï¼Œä¸è¦ä½¿ç”¨è¯¸å¦‚<code>nil == Object</code>æˆ–è€…<code>Object == nil</code>çš„å½¢å¼æ¥åˆ¤æ–­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//æ­£ç¡®ï¼Œç›´æ¥åˆ¤æ–­</div><div class="line">if (!objc) &#123;</div><div class="line">	...	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//é”™è¯¯ï¼Œä¸è¦ä½¿ç”¨nil == Objectçš„å½¢å¼</div><div class="line">if (nil == objc) &#123;</div><div class="line">	...	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Delegateè¦ä½¿ç”¨å¼±å¼•ç”¨"><a href="#Delegateè¦ä½¿ç”¨å¼±å¼•ç”¨" class="headerlink" title="Delegateè¦ä½¿ç”¨å¼±å¼•ç”¨"></a>Delegateè¦ä½¿ç”¨å¼±å¼•ç”¨</h4><p>ä¸€ä¸ªç±»çš„Delegateå¯¹è±¡é€šå¸¸è¿˜å¼•ç”¨ç€ç±»æœ¬èº«ï¼Œè¿™æ ·å¾ˆå®¹æ˜“é€ æˆå¼•ç”¨å¾ªç¯çš„é—®é¢˜ï¼Œæ‰€ä»¥ç±»çš„Delegateå±æ€§è¦è®¾ç½®ä¸ºå¼±å¼•ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/** delegate */</div><div class="line">@property (nonatomic, weak) id &lt;IPCConnectHandlerDelegate&gt; delegate;</div></pre></td></tr></table></figure>
<h4 id="å•ä¾‹"><a href="#å•ä¾‹" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h4><p>ä½¿ç”¨dispatch_onceæ¥ç”Ÿæˆå•ä¾‹ï¼Œ<strong>å»ºè®®å•ä¾‹ç±»æ–¹æ³•åå‘½åä¿æŒä¸€è‡´</strong>ã€‚</p>
<p>æ¨èè¿™æ ·å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+ (instancetype)sharedInstance </div><div class="line">&#123; </div><div class="line"> static id sharedInstance = nil; </div><div class="line"> static dispatch_once_t onceToken = 0;</div><div class="line">       dispatch_once(&amp;onceToken, ^&#123; </div><div class="line">  sharedInstance = [[self alloc] init];</div><div class="line">  &#125;); </div><div class="line"> return sharedInstance; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Blockå¾ªç¯å¼•ç”¨é—®é¢˜"><a href="#Blockå¾ªç¯å¼•ç”¨é—®é¢˜" class="headerlink" title="Blockå¾ªç¯å¼•ç”¨é—®é¢˜"></a>Blockå¾ªç¯å¼•ç”¨é—®é¢˜</h4><p>å½“ä½¿ç”¨ä»£ç å—å’Œå¼‚æ­¥åˆ†å‘çš„æ—¶å€™ï¼Œè¦æ³¨æ„é¿å…å¼•ç”¨å¾ªç¯ã€‚ æ€»æ˜¯ä½¿ç”¨ <code>weak</code> æ¥å¼•ç”¨å¯¹è±¡ï¼Œé¿å…å¼•ç”¨å¾ªç¯ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šè¿™é‡Œæ›´ä¸ºä¼˜é›…çš„æ–¹å¼æ˜¯é‡‡ç”¨å½±å­å˜é‡@weakify/@strongify <a href="https://github.com/jspahrsummers/libextobjc/blob/master/extobjc/EXTScope.h" target="_blank" rel="external">è¿™é‡Œæœ‰æ›´ä¸ºè¯¦ç»†çš„è¯´æ˜</a>ï¼‰ æ­¤å¤–ï¼ŒæŠŠæŒæœ‰ block çš„å±æ€§è®¾ç½®ä¸º nil (æ¯”å¦‚ <code>self.completionBlock = nil</code>) æ˜¯ä¸€ä¸ªå¥½çš„å®è·µã€‚å®ƒä¼šæ‰“ç ´ block æ•è·çš„ä½œç”¨åŸŸå¸¦æ¥çš„å¼•ç”¨å¾ªç¯ã€‚</p>
<p><strong>ä¾‹å­:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">__weak __typeof(self) weakSelf = self;</div><div class="line">[self executeBlock:^(NSData *data, NSError *error) &#123;</div><div class="line">    [weakSelf doSomethingWithData:data];</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p><strong>ä¸è¦è¿™æ ·:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[self executeBlock:^(NSData *data, NSError *error) &#123;</div><div class="line">    [self doSomethingWithData:data];</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p><strong>å¤šä¸ªè¯­å¥çš„ä¾‹å­:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">__weak __typeof(self)weakSelf = self;</div><div class="line">[self executeBlock:^(NSData *data, NSError *error) &#123;</div><div class="line">    __strong __typeof(weakSelf) strongSelf = weakSelf;</div><div class="line">    if (strongSelf) &#123;</div><div class="line">        [strongSelf doSomethingWithData:data];</div><div class="line">        [strongSelf doSomethingWithData:data];</div><div class="line">    &#125;</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p><strong>ä¸è¦è¿™æ ·:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">__weak __typeof(self)weakSelf = self;</div><div class="line">[self executeBlock:^(NSData *data, NSError *error) &#123;</div><div class="line">    [weakSelf doSomethingWithData:data];</div><div class="line">    [weakSelf doSomethingWithData:data];</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p>ä½ åº”è¯¥æŠŠè¿™ä¸¤è¡Œä»£ç ä½œä¸º snippet åŠ åˆ° Xcode é‡Œé¢å¹¶ä¸”æ€»æ˜¯è¿™æ ·ä½¿ç”¨å®ƒä»¬ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">__weak __typeof(self)weakSelf = self;</div><div class="line">__strong __typeof(weakSelf)strongSelf = weakSelf;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬æ¥è®¨è®ºä¸‹ block é‡Œé¢çš„ self çš„ <code>__weak</code> å’Œ <code>__strong</code> é™å®šè¯çš„ä¸€äº›å¾®å¦™çš„åœ°æ–¹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ self åœ¨ block é‡Œé¢çš„ä¸‰ç§ä¸åŒæƒ…å†µã€‚</p>
<ol>
<li>ç›´æ¥åœ¨ block é‡Œé¢ä½¿ç”¨å…³é”®è¯ self</li>
<li>åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª <code>__weak</code> çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶ä¸”åœ¨ block é‡Œé¢ä½¿ç”¨è¿™ä¸ªå¼±å¼•ç”¨</li>
<li>åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª <code>__weak</code> çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶åœ¨åœ¨ block å†…éƒ¨é€šè¿‡è¿™ä¸ªå¼±å¼•ç”¨å®šä¹‰ä¸€ä¸ª <code>__strong</code>çš„å¼•ç”¨ã€‚</li>
</ol>
<p><strong>æ–¹æ¡ˆ 1. ç›´æ¥åœ¨ block é‡Œé¢ä½¿ç”¨å…³é”®è¯ self</strong></p>
<p>å¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨ block é‡Œé¢ç”¨ self å…³é”®å­—ï¼Œå¯¹è±¡ä¼šåœ¨ block çš„å®šä¹‰æ—¶å€™è¢« retainï¼Œï¼ˆå®é™…ä¸Š block æ˜¯ <a href="https://developer.apple.com/library/ios/documentation/cocoa/conceptual/Blocks/Articles/bxVariables.html#//apple_ref/doc/uid/TP40007502-CH6-SW4" target="_blank" rel="external">copied</a>ä½†æ˜¯ä¸ºäº†ç®€å•æˆ‘ä»¬å¯ä»¥å¿½ç•¥è¿™ä¸ªï¼‰ã€‚</p>
<p>ä¸€ä¸ª const çš„å¯¹ self çš„å¼•ç”¨åœ¨ block é‡Œé¢æœ‰è‡ªå·±çš„ä½ç½®å¹¶ä¸”å®ƒä¼šå½±å“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚</p>
<p>å¦‚æœè¿™ä¸ªblockè¢«å…¶ä»–çš„ç±»ä½¿ç”¨å¹¶ä¸”(æˆ–è€…)å½¼æ­¤é—´ä¼ æ¥ä¼ å»ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦åœ¨ block ä¸­ä¿ç•™ selfï¼Œå°±åƒå…¶ä»–åœ¨ block ä¸­ä½¿ç”¨çš„å¯¹è±¡ä¸€æ ·. å› ä¸ºä»–ä»¬æ˜¯blockæ‰§è¡Œæ‰€éœ€è¦çš„.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">dispatch_block_t completionBlock = ^&#123;</div><div class="line">    NSLog(@&quot;%@&quot;, self);</div><div class="line">&#125;</div><div class="line"></div><div class="line">MyViewController *myController = [[MyViewController alloc] init...];</div><div class="line">[self presentViewController:myController</div><div class="line">                   animated:YES</div><div class="line">                 completion:completionHandler];</div></pre></td></tr></table></figure>
<p>æ²¡å•¥å¤§ä¸äº†ã€‚ä½†æ˜¯å¦‚æœé€šè¿‡ä¸€ä¸ªå±æ€§ä¸­çš„ <code>self</code> ä¿ç•™ äº†è¿™ä¸ª blockï¼ˆå°±åƒä¸‹é¢çš„ä¾‹ç¨‹ä¸€æ ·ï¼‰,å¯¹è±¡( self )ä¿ç•™äº† block ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">self.completionHandler = ^&#123;</div><div class="line">    NSLog(@&quot;%@&quot;, self);</div><div class="line">&#125;</div><div class="line"></div><div class="line">MyViewController *myController = [[MyViewController alloc] init...];</div><div class="line">[self presentViewController:myController</div><div class="line">                   animated:YES</div><div class="line">                 completion:self.completionHandler];</div></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯æœ‰åçš„ retain cycle, å¹¶ä¸”æˆ‘ä»¬é€šå¸¸åº”è¯¥é¿å…å®ƒã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æ”¶åˆ° CLANG çš„è­¦å‘Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Capturing &apos;self&apos; strongly in this block is likely to lead to a retain cycle ï¼ˆåœ¨ block é‡Œé¢å‘ç°äº† `self` çš„å¼ºå¼•ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼‰</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥ <code>__weak</code> å°±æœ‰ç”¨æ­¦ä¹‹åœ°äº†ã€‚</p>
<p><strong>æ–¹æ¡ˆ 2. åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª __weak çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶ä¸”åœ¨ block é‡Œé¢ä½¿ç”¨è¿™ä¸ªå¼±å¼•ç”¨</strong></p>
<p>è¿™æ ·ä¼šé¿å…å¾ªåå¼•ç”¨ï¼Œä¹Ÿæ˜¯é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬çš„blockä½œä¸ºç±»çš„å±æ€§è¢«self retain çš„æ—¶å€™ä¼šåšçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">__weak typeof(self) weakSelf = self;</div><div class="line">self.completionHandler = ^&#123;</div><div class="line">    NSLog(@&quot;%@&quot;, weakSelf);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">MyViewController *myController = [[MyViewController alloc] init...];</div><div class="line">[self presentViewController:myController</div><div class="line">                   animated:YES</div><div class="line">                 completion:self.completionHandler];</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæƒ…å†µä¸‹ block æ²¡æœ‰ retain å¯¹è±¡å¹¶ä¸”å¯¹è±¡åœ¨å±æ€§é‡Œé¢ retain äº† block ã€‚æ‰€ä»¥è¿™æ ·æˆ‘ä»¬èƒ½ä¿è¯äº†å®‰å…¨çš„è®¿é—® selfã€‚ ä¸è¿‡ç³Ÿç³•çš„æ˜¯ï¼Œå®ƒå¯èƒ½è¢«è®¾ç½®æˆ nil çš„ã€‚é—®é¢˜æ˜¯ï¼šå¦‚ä½•è®© self åœ¨ block é‡Œé¢å®‰å…¨åœ°è¢«é”€æ¯ã€‚</p>
<p>è€ƒè™‘è¿™ä¹ˆä¸ªæƒ…å†µï¼šblock ä½œä¸ºå±æ€§(property)èµ‹å€¼çš„ç»“æœï¼Œä»ä¸€ä¸ªå¯¹è±¡è¢«å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡(å¦‚ myController)ï¼Œåœ¨è¿™ä¸ªå¤åˆ¶çš„ block æ‰§è¡Œä¹‹å‰ï¼Œå‰è€…ï¼ˆå³ä¹‹å‰çš„é‚£ä¸ªå¯¹è±¡ï¼‰å·²ç»è¢«è§£é™¤åˆ†é…ã€‚</p>
<p>ä¸‹é¢çš„æ›´æœ‰æ„æ€ã€‚</p>
<p><strong>æ–¹æ¡ˆ 3. åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª <strong>weak çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶åœ¨åœ¨ block å†…éƒ¨é€šè¿‡è¿™ä¸ªå¼±å¼•ç”¨å®šä¹‰ä¸€ä¸ª</strong>strong çš„å¼•ç”¨</strong></p>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œé¦–å…ˆï¼Œè¿™æ˜¯é¿å… retain cycle è­¦å‘Šçš„ä¸€ä¸ªæŠ€å·§ã€‚è¿™ä¸æ˜¯é‡ç‚¹ï¼Œè¿™ä¸ª self çš„å¼ºå¼•ç”¨æ˜¯åœ¨block æ‰§è¡Œæ—¶ è¢«åˆ›å»ºçš„ï¼Œä½†æ˜¯å¦ä½¿ç”¨ self åœ¨ block å®šä¹‰æ—¶å°±å·²ç»å®šä¸‹æ¥äº†ï¼Œ å› æ­¤self (åœ¨blockæ‰§è¡Œæ—¶) ä¼šè¢« retainã€‚</p>
<p><a href="http://developer.apple.com/library/mac/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html" target="_blank" rel="external">Apple æ–‡æ¡£</a> ä¸­è¡¨ç¤º â€œä¸ºäº† non-trivial cycles ï¼Œä½ åº”è¯¥è¿™æ ·â€ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">MyViewController *myController = [[MyViewController alloc] init...];</div><div class="line">// ...</div><div class="line">MyViewController * __weak weakMyController = myController;</div><div class="line">myController.completionHandler =  ^(NSInteger result) &#123;</div><div class="line">    MyViewController *strongMyController = weakMyController;</div><div class="line">    if (strongMyController) &#123;</div><div class="line">        // ...</div><div class="line">        [strongMyController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">        // Probably nothing...</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>é¦–å…ˆï¼Œæˆ‘è§‰å¾—è¿™ä¸ªä¾‹å­çœ‹èµ·æ¥æ˜¯é”™è¯¯çš„ã€‚å¦‚æœ block æœ¬èº«åœ¨ completionHandler å±æ€§ä¸­è¢« retain äº†ï¼Œé‚£ä¹ˆ self å¦‚ä½•è¢« delloc å’Œåœ¨ block ä¹‹å¤–èµ‹å€¼ä¸º nil å‘¢? completionHandler å±æ€§å¯ä»¥è¢«å£°æ˜ä¸º <code>assign</code> æˆ–è€… <code>unsafe_unretained</code> çš„ï¼Œæ¥å…è®¸å¯¹è±¡åœ¨ block è¢«ä¼ é€’ä¹‹åè¢«é”€æ¯ã€‚</p>
<p>æˆ‘ä¸èƒ½ç†è§£è¿™æ ·åšçš„ç†ç”±ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼ˆselfï¼‰ï¼Œblock è¢«ä¼ é€’çš„æ—¶å€™åº”è¯¥ retain å¯¹è±¡ï¼Œæ‰€ä»¥ block åº”è¯¥ä¸è¢«ä½œä¸ºå±æ€§å­˜å‚¨ã€‚è¿™ç§æƒ…å†µä¸‹ä¸åº”è¯¥ç”¨ <code>__weak</code>/<code>__strong</code></p>
<p>æ€»ä¹‹ï¼Œå…¶ä»–æƒ…å†µä¸‹ï¼Œå¸Œæœ› weakSelf å˜æˆ nil çš„è¯ï¼Œå°±åƒç¬¬äºŒç§æƒ…å†µè§£é‡Šé‚£ä¹ˆå†™ï¼ˆåœ¨ block ä¹‹å¤–å®šä¹‰ä¸€ä¸ªå¼±åº”ç”¨å¹¶ä¸”åœ¨ block é‡Œé¢ä½¿ç”¨ï¼‰ã€‚</p>
<p>è¿˜æœ‰ï¼ŒAppleçš„ â€œtrivial blockâ€ æ˜¯ä»€ä¹ˆå‘¢ã€‚æˆ‘ä»¬çš„ç†è§£æ˜¯ trivial block æ˜¯ä¸€ä¸ªä¸è¢«ä¼ é€çš„ block ï¼Œå®ƒåœ¨ä¸€ä¸ªè‰¯å¥½å®šä¹‰å’Œæ§åˆ¶çš„ä½œç”¨åŸŸé‡Œé¢ï¼Œweak ä¿®é¥°åªæ˜¯ä¸ºäº†é¿å…å¾ªç¯å¼•ç”¨ã€‚</p>
<p>è™½ç„¶æœ‰ Kazuki Sakamoto å’Œ Tomohiko Furumoto) è®¨è®ºçš„ <a href="http://dhoerl.wordpress.com/2013/04/23/i-finally-figured-out-weakself-and-strongself/" target="_blank" rel="external">ä¸€</a> <a href="http://blog.random-ideas.net/?p=160" target="_blank" rel="external">äº›</a> <a href="http://stackoverflow.com/questions/7904568/disappearing-reference-to-self-in-a-block-under-arc" target="_blank" rel="external">çš„</a> <a href="http://stackoverflow.com/questions/12218767/objective-c-blocks-and-memory-management" target="_blank" rel="external">åœ¨çº¿</a> <a href="https://github.com/AFNetworking/AFNetworking/issues/807" target="_blank" rel="external">å‚è€ƒ</a>, <a href="https://twitter.com/mattjgalloway" target="_blank" rel="external">Matt Galloway</a> çš„ (<a href="http://www.effectiveobjectivec.com/" target="_blank" rel="external">Effective Objective-C 2.0</a> å’Œ <a href="http://www.amazon.it/Pro-Multithreading-Memory-Management-Ios/dp/1430241160" target="_blank" rel="external">Pro Multithreading and Memory Management for iOS and OS X</a> ï¼Œå¤§å¤šæ•°å¼€å‘è€…å§‹ç»ˆæ²¡æœ‰å¼„æ¸…æ¥šæ¦‚å¿µã€‚</p>
<p>åœ¨ block å†…ç”¨å¼ºå¼•ç”¨çš„ä¼˜ç‚¹æ˜¯ï¼ŒæŠ¢å æ‰§è¡Œçš„æ—¶å€™çš„é²æ£’æ€§ã€‚åœ¨ block æ‰§è¡Œçš„æ—¶å€™, å†æ¬¡æ¸©æ•…ä¸‹ä¸Šé¢çš„ä¸‰ä¸ªä¾‹å­ï¼š</p>
<p><strong>æ–¹æ¡ˆ 1. ç›´æ¥åœ¨ block é‡Œé¢ä½¿ç”¨å…³é”®è¯ self</strong></p>
<p>å¦‚æœ block è¢«å±æ€§ retainï¼Œself å’Œ block ä¹‹é—´ä¼šæœ‰ä¸€ä¸ªå¾ªç¯å¼•ç”¨å¹¶ä¸”å®ƒä»¬ä¸ä¼šå†è¢«é‡Šæ”¾ã€‚å¦‚æœ block è¢«ä¼ é€å¹¶ä¸”è¢«å…¶ä»–çš„å¯¹è±¡ copy äº†ï¼Œself åœ¨æ¯ä¸€ä¸ª copy é‡Œé¢è¢« retain</p>
<p><strong>æ–¹æ¡ˆ 2. åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª __weak çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶ä¸”åœ¨ block é‡Œé¢ä½¿ç”¨è¿™ä¸ªå¼±å¼•ç”¨</strong></p>
<p>ä¸ç®¡ block æ˜¯å¦é€šè¿‡å±æ€§è¢« retain ï¼Œè¿™é‡Œéƒ½ä¸ä¼šå‘ç”Ÿå¾ªç¯å¼•ç”¨ã€‚å¦‚æœ block è¢«ä¼ é€’æˆ–è€… copy äº†ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒweakSelf å¯èƒ½å·²ç»å˜æˆ nilã€‚</p>
<p>block çš„æ‰§è¡Œå¯ä»¥æŠ¢å ï¼Œè€Œä¸”å¯¹ weakSelf æŒ‡é’ˆçš„è°ƒç”¨æ—¶åºä¸åŒå¯ä»¥å¯¼è‡´ä¸åŒçš„ç»“æœ(å¦‚ï¼šåœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶åºä¸‹ weakSelf å¯èƒ½ä¼šå˜æˆ nil )ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">__weak typeof(self) weakSelf = self;</div><div class="line">dispatch_block_t block =  ^&#123;</div><div class="line">    [weakSelf doSomething]; // weakSelf != nil</div><div class="line">    // preemption, weakSelf turned nil</div><div class="line">    [weakSelf doSomethingElse]; // weakSelf == nil</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>æ–¹æ¡ˆ 3. åœ¨ block å¤–å®šä¹‰ä¸€ä¸ª <strong>weak çš„ å¼•ç”¨åˆ° selfï¼Œå¹¶åœ¨åœ¨ block å†…éƒ¨é€šè¿‡è¿™ä¸ªå¼±å¼•ç”¨å®šä¹‰ä¸€ä¸ª</strong>strong çš„å¼•ç”¨ã€‚</strong></p>
<p>ä¸ç®¡ block æ˜¯å¦é€šè¿‡å±æ€§è¢« retain ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå‘ç”Ÿå¾ªç¯å¼•ç”¨ã€‚å¦‚æœ block è¢«ä¼ é€’åˆ°å…¶ä»–å¯¹è±¡å¹¶ä¸”è¢«å¤åˆ¶äº†ï¼Œæ‰§è¡Œçš„æ—¶å€™ï¼ŒweakSelf å¯èƒ½è¢«nilï¼Œå› ä¸ºå¼ºå¼•ç”¨è¢«èµ‹å€¼å¹¶ä¸”ä¸ä¼šå˜æˆnilçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç¡®ä¿å¯¹è±¡ åœ¨ block è°ƒç”¨çš„å®Œæ•´å‘¨æœŸé‡Œé¢è¢« retainäº†ï¼Œå¦‚æœæŠ¢å å‘ç”Ÿäº†ï¼Œéšåçš„å¯¹ strongSelf çš„æ‰§è¡Œä¼šç»§ç»­å¹¶ä¸”ä¼šäº§ç”Ÿä¸€æ ·çš„å€¼ã€‚å¦‚æœ strongSelf çš„æ‰§è¡Œåˆ° nilï¼Œé‚£ä¹ˆåœ¨ block ä¸èƒ½æ­£ç¡®æ‰§è¡Œå‰å·²ç»è¿”å›äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">__weak typeof(self) weakSelf = self;</div><div class="line">myObj.myBlock =  ^&#123;</div><div class="line">    __strong typeof(self) strongSelf = weakSelf;</div><div class="line">    if (strongSelf) &#123;</div><div class="line">      [strongSelf doSomething]; // strongSelf != nil</div><div class="line">      // preemption, strongSelf still not nilï¼ˆæŠ¢å çš„æ—¶å€™ï¼ŒstrongSelf è¿˜æ˜¯é nil çš„)</div><div class="line">      [strongSelf doSomethingElse]; // strongSelf != nil</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">        // Probably nothing...</div><div class="line">        return;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>åœ¨ARCæ¡ä»¶ä¸­ï¼Œå¦‚æœå°è¯•ç”¨ <code>-&gt;</code> ç¬¦å·è®¿é—®ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºéå¸¸æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Dereferencing a __weak pointer is not allowed due to possible null value caused by race condition, assign it to a strong variable first. (å¯¹ä¸€ä¸ª __weak æŒ‡é’ˆçš„è§£å¼•ç”¨ä¸å…è®¸çš„ï¼Œå› ä¸ºå¯èƒ½åœ¨ç«æ€æ¡ä»¶é‡Œé¢å˜æˆ null, æ‰€ä»¥å…ˆæŠŠä»–å®šä¹‰æˆ strong çš„å±æ€§)</div></pre></td></tr></table></figure>
<p>å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç å±•ç¤º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">__weak typeof(self) weakSelf = self;</div><div class="line">myObj.myBlock =  ^&#123;</div><div class="line">    id localVal = weakSelf-&gt;someIVar;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>åœ¨æœ€å</p>
<ul>
<li><strong>æ–¹æ¡ˆ 1</strong>: åªèƒ½åœ¨ block ä¸æ˜¯ä½œä¸ºä¸€ä¸ª property çš„æ—¶å€™ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´ retain cycleã€‚</li>
<li><strong>æ–¹æ¡ˆ 2</strong>: å½“ block è¢«å£°æ˜ä¸ºä¸€ä¸ª property çš„æ—¶å€™ä½¿ç”¨ã€‚</li>
<li><strong>æ–¹æ¡ˆ 3</strong>: å’Œå¹¶å‘æ‰§è¡Œæœ‰å…³ã€‚å½“æ¶‰åŠå¼‚æ­¥çš„æœåŠ¡çš„æ—¶å€™ï¼Œblock å¯ä»¥åœ¨ä¹‹åè¢«æ‰§è¡Œï¼Œå¹¶ä¸”ä¸ä¼šå‘ç”Ÿå…³äº self æ˜¯å¦å­˜åœ¨çš„é—®é¢˜ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡æ¡£æ—¨åœ¨æ€»ç»“å‡ºä¸€ä»½é€šç”¨çš„ç¼–ç è§„èŒƒï¼Œæ¬¢è¿éšæ—¶æ¢è®¨è¡¥å……ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="è§„èŒƒ" scheme="https://robberjj.github.io/tags/%E8%A7%84%E8%8C%83/"/>
    
      <category term="ç¼–ç " scheme="https://robberjj.github.io/tags/%E7%BC%96%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸Šçš„é‚£äº›æ•ˆç‡ç¥å™¨</title>
    <link href="https://robberjj.github.io/2018/07/16/ArtifactsOnMac/"/>
    <id>https://robberjj.github.io/2018/07/16/ArtifactsOnMac/</id>
    <published>2018-07-16T08:56:50.000Z</published>
    <updated>2018-11-27T07:29:18.558Z</updated>
    
    <content type="html"><![CDATA[<h4 id="No-1-Alfred-ç‚¹æˆ‘è£…å¤‡"><a href="#No-1-Alfred-ç‚¹æˆ‘è£…å¤‡" class="headerlink" title="No.1  Alfred ç‚¹æˆ‘è£…å¤‡"></a>No.1  <em>Alfred</em> <a href="https://www.alfredapp.com/" target="_blank" rel="external">ç‚¹æˆ‘è£…å¤‡</a></h4><p>è¿™é¡¶ç¥å¥‡çš„é­”æ³•å¸½åˆ°åº•èƒ½å¹²å•¥ï¼Ÿ<br>è¿™ç»å¯¹å¯ä»¥ç§°å¾—ä¸Šä¸€æ¬¾ç¥å™¨ï¼Œç®€å•çš„ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯â€”â€”åªæœ‰ä½ æƒ³ä¸åˆ°çš„ï¼Œæ²¡æœ‰Alfredåšä¸åˆ°çš„ã€‚</p>
<p>å“ˆå“ˆ~~æ˜¯ä¸æ˜¯å¾ˆå¤¸å¼ ï¼Ÿï¼  ä¸€ä¼šå„¿å†æ¥ä¸‹å®šè®º</p>
<a id="more"></a> 
<p>åœ¨è¿™é‡Œæˆ‘åªæ˜¯ä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ï¼Œé€šå¸¸æˆ‘ä»¬é‡åˆ°ä¸æ‡‚çš„è‹±æ–‡å•è¯ï¼ŒåŸºæœ¬æ˜¯è¿™ä¹ˆä¸€ä¸ªæ“ä½œè¿‡ç¨‹ï¼š</p>
<ul>
<li>copyå•è¯</li>
<li>æ‰“å¼€ç¿»è¯‘åº”ç”¨ï¼ˆæ¯”å¦‚è‡ªå¸¦è¯å…¸ï¼‰</li>
<li>è¾“å…¥æˆ–ç²˜è´´æŸ¥è¯¢å•è¯</li>
<li>ç¿»è¯‘åº”ç”¨è¾“å‡ºæŸ¥è¯¢ç»“æœ</li>
<li>æŸ¥è¯¢è¿‡åï¼Œä¸€èˆ¬éƒ½éœ€è¦ Cmd+Q é€€å‡ºåº”ç”¨ï¼ˆæˆ–è€… Cmd+H éšè—è¯å…¸ï¼Œäº¦æˆ– Cmd+Tab åˆ‡æ¢å›ä¸Šä¸€ä¸ªåº”ç”¨ï¼‰</li>
</ul>
<p>æˆ–è€…æ˜¯ä¸‹é¢çš„æ­¥éª¤ï¼š</p>
<ul>
<li>copyå•è¯</li>
<li>æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨</li>
<li>è¿›å…¥è°·æ­Œé¦–é¡µ</li>
<li>é€‰ä¸­è¾“å…¥æ¡†</li>
<li>è¾“å…¥æˆ–ç²˜è´´æŸ¥è¯¢å•è¯ï¼Œç„¶åç©ºæ ¼å¹¶åŠ ä¸Šã€Œç¿»è¯‘ã€ä¸¤ä¸ªå­—ï¼Œç„¶åå†å›è½¦</li>
<li>ç­‰å¾…æµè§ˆå™¨å±•ç¤ºæŸ¥è¯¢ç»“æœ;</li>
</ul>
<p>è€Œç”¨Alfredæ˜¯åªéœ€è¦ï¼š</p>
<ul>
<li>é€‰ä¸­å•è¯</li>
<li>CMD+Yï¼ˆå‡å¦‚å¿«æ·é”®ä½ è®¾ç½®çš„æ˜¯è¿™ä¸ªï¼‰</li>
</ul>
<p>Doneï¼ï¼</p>
<h5 id="é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒAlfredåˆ°åº•å…·ä½“èƒ½åšä»€ä¹ˆï¼Ÿ"><a href="#é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒAlfredåˆ°åº•å…·ä½“èƒ½åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒAlfredåˆ°åº•å…·ä½“èƒ½åšä»€ä¹ˆï¼Ÿ"></a>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒAlfredåˆ°åº•å…·ä½“èƒ½åšä»€ä¹ˆï¼Ÿ</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒAlfred è‡³å°‘èƒ½èƒœä»» 15 é¡¹å·¥ä½œï¼š</p>
<ol>
<li>åº”ç”¨æœç´¢</li>
<li>æ–‡ä»¶æˆ–ç›®å½•æœç´¢</li>
<li>æ–‡æœ¬å†…å®¹æœç´¢</li>
<li>æ ‡è®°æœç´¢</li>
<li>å¿«æ·ç½‘é¡µæœç´¢</li>
<li>ä¹¦ç­¾æœç´¢</li>
<li>è®¡ç®—å™¨</li>
<li>è¯å…¸æœç´¢</li>
<li>é€šè®¯å½•æœç´¢</li>
<li>å‰ªåˆ‡æ¿æœç´¢</li>
<li>ä»£ç ç‰‡æ®µæœç´¢</li>
<li>iTunes ç®¡ç†</li>
<li>1Password æœç´¢</li>
<li>ç³»ç»Ÿå¸¸ç”¨å‘½ä»¤å¿«æ·æ“ä½œ</li>
<li>ç›´æ¥å”¤èµ·æŒ‡å®šç»ˆç«¯å¹¶æ‰§è¡Œå‘½ä»¤</li>
</ol>
<p><a href="https://sspai.com/post/44624" target="_blank" rel="external">è¿™é‡Œ</a>åšäº†å¾ˆè¯¦ç»†çš„è¯´æ˜ã€‚</p>
<p>å½“ç„¶ï¼ŒAlfredçœŸæ­£æ ¸å¿ƒçš„åŠŸèƒ½åœ¨äºâ€”â€”<strong>Workflow</strong> ã€‚</p>
<p>Alfred å‡ ä¹å¯ä»¥åšä»»ä½•è‡ªåŠ¨åŒ–å·¥ä½œæµçš„äº‹æƒ…ï¼ˆåªè¦èƒ½ç”¨ä»£ç æè¿°è¿™ä¸ªå·¥ä½œæµå°±è¡Œï¼‰ï¼Œå®ƒèƒ½å½»åº•æ”¹å˜äº†ä½ å¯¹ Mac çš„è®¤çŸ¥ã€‚</p>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šå¤§ç¥ä»¬å†™å¥½çš„<code>workflow</code>ï¼Œå¯ä»¥æœä¸€æœï¼Œç„¶åä½“éªŒä½“éªŒï¼Œåœ¨æˆ‘ä»¬å¯ä»¥è‡ªå·±ä¸ºæ‰€æ¬²ä¸ºä¹‹å‰ï¼Œåšå®šä¸€ä¸‹ä¿¡å¿ƒã€‚</p>
<h4 id="No-2-Things-3-ç‚¹æˆ‘è£…å¤‡"><a href="#No-2-Things-3-ç‚¹æˆ‘è£…å¤‡" class="headerlink" title="No.2 Things 3 ç‚¹æˆ‘è£…å¤‡"></a>No.2 <em>Things 3</em> <a href="https://culturedcode.com/things/" target="_blank" rel="external">ç‚¹æˆ‘è£…å¤‡</a></h4><p>ä¸€å¥è¯æ€»ç»“ï¼š<strong>GTDç¥å™¨ï¼Œç®€æ´ä½†ä¸ç®€å•ã€‚</strong></p>
<h4 id="No-3-Moom-ç‚¹æˆ‘è£…å¤‡"><a href="#No-3-Moom-ç‚¹æˆ‘è£…å¤‡" class="headerlink" title="No.3 Moom ç‚¹æˆ‘è£…å¤‡"></a>No.3 <em>Moom</em> <a href="https://manytricks.com/moom/" target="_blank" rel="external">ç‚¹æˆ‘è£…å¤‡</a></h4><p>ä¸€æ¬¾çª—å£å¸ƒå±€çš„ç¥å™¨ã€‚<br>æ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®å®ç°ç›¸åº”çš„çª—å£å¸ƒå±€ã€‚</p>
<h4 id="No-3-CheatSheet-ç‚¹æˆ‘è£…å¤‡"><a href="#No-3-CheatSheet-ç‚¹æˆ‘è£…å¤‡" class="headerlink" title="No.3 CheatSheet ç‚¹æˆ‘è£…å¤‡"></a>No.3 <em>CheatSheet</em> <a href="https://mediaatelier.com/CheatSheet/" target="_blank" rel="external">ç‚¹æˆ‘è£…å¤‡</a></h4><p>ä¸€é”®ç›´è§‚æŸ¥çœ‹Appçš„å¿«æ·é”®åˆ—è¡¨ã€‚</p>
<p>è¯´é“å¿«æ·é”®ï¼Œæ˜¯çš„ï¼Œå¿«æ·é”®ä¼šå¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜ä½ çš„æ•ˆç‡ï¼ŒMacä¸Šå°±è‡ªå¸¦äº†å¾ˆå¤šçš„å¿«æ·é”®ï¼Œè®°ä½è¿™äº›å¿«æ·é”®æ‹›å¼ï¼Œå°±èƒ½ç«‹é©¬ç¥è£…å‡ºå±±äº†ã€‚<br>å…·ä½“å¯ä»¥å‚è§<a href="https://www.jianshu.com/p/00bb1b9189c0" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚</p>
<h4 id="No-4-Vim"><a href="#No-4-Vim" class="headerlink" title="No.4 Vim"></a>No.4 <em>Vim</em></h4><p>ç»†å¿ƒä¸€äº›æˆ‘ä»¬ä¼šå‘ç°ï¼Œå½“å‰ä¸»æµçš„IDEï¼Œæˆ–è€…ä»¥å‰æ›¾ç»ä¸»æµè¿‡çš„ï¼Œæˆ–è€…æœªæ¥å³å°†æˆä¸ºä¸»æµçš„ï¼Œæ€»ä¼šæœ‰ä¸€å¥—Vimç›¸å…³çš„æ’ä»¶ã€‚<br>å…¶å®ï¼Œè¿™å°±å·²ç»å¾ˆèƒ½è¯´æ˜é—®é¢˜äº†ã€‚</p>
<p>Vimåœ¨æ‰‹ï¼Œå¤©ä¸‹æˆ‘æœ‰çš„èµ¶è„šï¼Œæœ‰æœ¨æœ‰ï¼Ÿï¼</p>
<p>Vimå„ç±»IDEçš„æ’ä»¶å®‰è£…åœ¨è¿™é‡Œå°±ä¸è¯¦ç»†é˜è¿°äº†ï¼Œæ¨èå‡ ä¸ªAtomä¸Šç¥è£…å§ï¼Œä»…ä¾›å‚è€ƒï¼š</p>
<ul>
<li><a href="https://github.com/t9md/atom-vim-mode-plus" target="_blank" rel="external">Vim Mode Plus</a><blockquote>
<p>Vimä¸»è¦åŠŸèƒ½æ’ä»¶ï¼Œä¸å¤šè¯´ï¼Œç©¶ç«Ÿæ€ä¹ˆçˆ½ï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
</blockquote>
</li>
<li><a href="https://atom.io/packages/relative-numbers" target="_blank" rel="external">relative-numbers</a><blockquote>
<p>ç›¸å¯¹è¡Œæ•°åœ¨Vimä¸­çš„é‡è¦åœ°ä½ä¸è¨€è€Œå–»äº†ï¼Œè¿™æ¬¾æ’ä»¶èƒ½å¤Ÿç›´è§‚çš„çœ‹å‡ºå½¼æ­¤çš„ç›¸å¯¹è¡Œæ•°ã€‚</p>
</blockquote>
</li>
<li><a href="https://atom.io/packages/minimap" target="_blank" rel="external">minimap</a><blockquote>
<p>Sublime å³ä¾§çš„miniè§†å›¾ï¼Œå¯¹ï¼Œå°±æ˜¯è¿™è´§ã€‚</p>
</blockquote>
</li>
<li><a href="https://atom.io/packages/activate-power-mode" target="_blank" rel="external">activate-power-mode</a><blockquote>
<p>è¿™æ¬¾æ’ä»¶ç»å¯¹ä¼šè®©ä½ æœ‰ä¸€ç§æ•²ä»£ç å¦‚åŒè·³èˆçš„åŠ¨æ„Ÿï¼Œå‘ƒï¼Œæé†’ä¸€å¥ï¼Œæ³¨æ„ä¼‘æ¯çœ¼ç›ã€‚å“ˆå“ˆ~~</p>
</blockquote>
</li>
</ul>
<p>å½“ç„¶ï¼ŒAtomçš„æ’ä»¶è¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥å»ä»–çš„<a href="https://atom.io/packages/" target="_blank" rel="external">å®˜ç½‘</a>æ·˜å‡ºä½ éœ€è¦çš„ã€‚</p>
<h4 id="No-5-iTerm-ç‚¹å‡»è£…å¤‡"><a href="#No-5-iTerm-ç‚¹å‡»è£…å¤‡" class="headerlink" title="No.5 iTerm ç‚¹å‡»è£…å¤‡"></a>No.5 <em>iTerm</em> <a href="https://www.iterm2.com/" target="_blank" rel="external">ç‚¹å‡»è£…å¤‡</a></h4><p><code>iTerm2</code>+ <code>oh my zsh</code>çš„ç»„åˆï¼Œä¸ºä½ æ‰“é€ æœ€å¼ºMacç»ˆç«¯ä¾¿ä¸åªæ˜¯æ¢¦ã€‚<br>ä¸ªæ€§åŒ–çš„ä¸»é¢˜ï¼Œç§äººè®¢åˆ¶å±äºè‡ªå·±çš„æ ¼è°ƒã€‚<br>ä¸€å †å®šä¹‰å¥½çš„<code>alias</code>ï¼Œçœå¿ƒçœåŠ›ï¼Œçˆ½çš„é£èµ·ï¼</p>
<h4 id="No-6-Vimium"><a href="#No-6-Vimium" class="headerlink" title="No.6 Vimium"></a>No.6 <em>Vimium</em></h4><ul>
<li>chromeä¸‹çš„Vimæ’ä»¶ï¼Œè®©ä½ æµè§ˆç½‘é¡µä¹Ÿèƒ½æœ‰Vimæ“ä½œçš„å¿«æ„Ÿã€‚<br>ç‚¹å‡»<a href="https://sspai.com/post/27723" target="_blank" rel="external">è¿™é‡Œ</a>äº†è§£</li>
</ul>
<h4 id="No-7-Surfingkeys"><a href="#No-7-Surfingkeys" class="headerlink" title="No.7 Surfingkeys"></a>No.7 <em>Surfingkeys</em></h4><ul>
<li>chromeä¸‹çš„Vimæ’ä»¶ï¼ŒVimiumçš„å¼ºåŒ–ç‰ˆæœ¬ã€‚<br>ç‚¹å‡»<a href="https://github.com/brookhong/Surfingkeys" target="_blank" rel="external">è¿™é‡Œ</a>äº†è§£</li>
</ul>
<p>æœ€åï¼Œæ”¾ä¸ŠVimå¿«æ·é”®çš„å‡ å¼ å›¾ï¼Œæ¬¢è¿æ”¶è—ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/6080248-804fa34b20f5d806.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Vimæ–‡å­—ç‰ˆ.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-b631711cd75dff0b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Vimå…¥é—¨ç‰ˆ.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-693a8cccf9e14a5d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Vimè¿›é˜¶ç‰ˆ.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-ebf562cde5fbc69c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Vimå¢å¼ºç‰ˆ.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/6080248-29e1a78e12cfdca9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="vim.png"></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;No-1-Alfred-ç‚¹æˆ‘è£…å¤‡&quot;&gt;&lt;a href=&quot;#No-1-Alfred-ç‚¹æˆ‘è£…å¤‡&quot; class=&quot;headerlink&quot; title=&quot;No.1  Alfred ç‚¹æˆ‘è£…å¤‡&quot;&gt;&lt;/a&gt;No.1  &lt;em&gt;Alfred&lt;/em&gt; &lt;a href=&quot;https://www.alfredapp.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹æˆ‘è£…å¤‡&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;è¿™é¡¶ç¥å¥‡çš„é­”æ³•å¸½åˆ°åº•èƒ½å¹²å•¥ï¼Ÿ&lt;br&gt;è¿™ç»å¯¹å¯ä»¥ç§°å¾—ä¸Šä¸€æ¬¾ç¥å™¨ï¼Œç®€å•çš„ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯â€”â€”åªæœ‰ä½ æƒ³ä¸åˆ°çš„ï¼Œæ²¡æœ‰Alfredåšä¸åˆ°çš„ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå“ˆ~~æ˜¯ä¸æ˜¯å¾ˆå¤¸å¼ ï¼Ÿï¼  ä¸€ä¼šå„¿å†æ¥ä¸‹å®šè®º&lt;/p&gt;
    
    </summary>
    
      <category term="mac" scheme="https://robberjj.github.io/categories/mac/"/>
    
    
      <category term="Mac" scheme="https://robberjj.github.io/tags/Mac/"/>
    
      <category term="æ•ˆç‡" scheme="https://robberjj.github.io/tags/%E6%95%88%E7%8E%87/"/>
    
      <category term="app" scheme="https://robberjj.github.io/tags/app/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸Šçš„é‚£äº›ä¸ªå¿«æ·é”®ä»¬</title>
    <link href="https://robberjj.github.io/2018/07/11/ShortcutsOnMac/"/>
    <id>https://robberjj.github.io/2018/07/11/ShortcutsOnMac/</id>
    <published>2018-07-11T06:47:50.000Z</published>
    <updated>2018-11-08T04:19:52.712Z</updated>
    
    <content type="html"><![CDATA[<p>å…¥äº†Macçš„å‘ï¼Œåœ¨ä¸ºå…¶é­…åŠ›æŠ˜æœçš„åŒæ—¶ï¼Œä¸å…æ—¶ä¸æ—¶çš„ä¼šæœ‰ä¸€äº›æŒ¥ä¹‹ä¸å»çš„ç—›ç‚¹ã€‚</p>
<p>å…¶å®åœ¨Macä¸Šæœ‰ä¸€å¤§å †çš„å¿«æ·é”®ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡æœ‰ä¸€ä¸ªè´¨çš„æé«˜ã€‚</p>
<blockquote>
<p>âŒ˜ï¼ˆcommandï¼‰<br>âŒ¥ï¼ˆoption/altï¼‰<br>â‡§ï¼ˆshiftï¼‰<br>â‡ªï¼ˆcaps lockï¼‰<br>âŒƒï¼ˆcontrol/ctrlï¼‰<br>â‡¤/â‡¥(Tab)</p>
</blockquote>
<p>åœ¨è¿™é‡Œå®˜æ–¹ç»™å‡ºäº†å¿«æ·é”®çš„è¯´æ˜ã€‚<a href="https://support.apple.com/zh-cn/ht201236" target="_blank" rel="external">ç‚¹æˆ‘ç›´è¾¾</a><br>æ˜¾ç„¶ï¼Œå¿«æ·é”®é‡å¾ˆå¤§ï¼Œå…¨éƒ¨è®°ä½å¹¶ç†Ÿç»ƒåº”ç”¨ä¸å¤ªå¯èƒ½ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ï¼Œé€æ¸çš„å½¢æˆè‡ªå·±çš„å¥—è·¯ï¼Œç„¶åæ›¿èº«è‡ªå·±çš„å·¥ä½œ(å¨±ä¹)æ•ˆç‡ã€‚</p>
<a id="more"></a> 
<p>å½“ç„¶ï¼Œ<code>âŒ˜ + Q(W/O/N)</code>ã€<code>âŒ˜ + X(C/V/F/S/A)</code>ä¹‹æµå°±ä¸è¯´äº†ï¼Œå¤ªå¸¸ç”¨ï¼Œå¤§å®¶éƒ½çŸ¥é“ã€‚<br>ä¸‹é¢ä¸»è¦åˆ—ä¸¾ä¸€ä¸‹æˆ‘è‡ªå·±æ„Ÿè§‰æ¯”è¾ƒæ•ˆç‡ï¼Œä½†æ˜¯åˆå®¹æ˜“è¢«å¿½è§†çš„å¿«æ·é”®ï¼š<br><code>âŒ˜ + ` </code>åœ¨åŒä¸€ä¸ªåº”ç”¨çš„å„ä¸ªæ ‡ç­¾é¡µä¸­åˆ‡æ¢ã€‚<br><code>âŒ˜ + â‡¤(â‡¥)</code>åœ¨æ‰“å¼€çš„åº”ç”¨ä¸­åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘ä½¿ç”¨çš„åº”ç”¨,æŒ‰ä½å¯åˆ‡æ¢åˆ°å…¶ä»–åº”ç”¨ï¼Œäº¦å¯é…åˆè§¦æ‘¸æ¿æˆ–è€…é¼ æ ‡é€‰ä¸­æŸä¸ªåº”ç”¨<br><code>âŒ˜ + T</code>æ‰“å¼€æ–°çš„æ ‡ç­¾<br><code>âŒ˜ + H</code>éšè—å½“å‰åº”ç”¨<br><code>âŒ˜ + Alt + H</code>éšè—é™¤äº†å½“å‰åº”ç”¨å¤–çš„å…¶ä»–åº”ç”¨<br><code>âŒ˜ + M</code>æœ€å°åŒ–å½“å‰åº”ç”¨<br><code>âŒ˜ + Alt + M</code>æœ€å°åŒ–é™¤äº†å½“å‰åº”ç”¨å¤–çš„å…¶ä»–åº”ç”¨<br><code>âŒ˜ + Shift + 3</code> æˆªå–æ•´ä¸ªå±å¹•ï¼Œå¹¶ä¿å­˜å›¾ç‰‡åˆ°æ¡Œé¢<br><code>âŒ˜ + Shift + 4</code> è‡ªå®šä¹‰æˆªå›¾å¤§å°ï¼ŒæŒ‰ä¸‹ Space é”®ï¼Œå¯ä»¥é€‰æ‹©çª—å£æˆªå›¾<br><code>âŒƒ + â†(â†’)</code>å¯ä»¥åˆ‡æ¢å±å¹•<br><code>âŒ˜ + ,</code>æ‰“å¼€åå¥½è®¾ç½®<br>â€¦â€¦</p>
<p>ç±»ä¼¼çš„å¿«æ·é”®å…¶å®è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œæ ¹æ®è‡ªèº«çš„ä¹ æƒ¯å–èˆå§ã€‚</p>
<p>å¿«æ·é”®çš„åˆè¡·ï¼Œå…¶å®æ˜¯æƒ³è®©æ•ˆç‡èƒ½å¤Ÿæå‡ï¼Œæ˜¯æƒ³å·¥ä½œ(å¨±ä¹)èµ·æ¥æ›´æœ‰æ•ˆç‡ã€‚<br>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå¿«æ·é”®è®°å°‘äº†æ€»æ„Ÿè§‰ä¸å¤Ÿç”¨ï¼Œè€Œæƒ³è¦è®°æ›´å¤šçš„å¿«æ·é”®ï¼Œéš¾å…æˆä¸ºä¸€ç§è´Ÿæ‹…ã€‚</p>
<p><code>CheatSheet</code>ï¼Œä¸€æ¬¾Appï¼Œä¸€é”®æŸ¥çœ‹æ‰€æœ‰å¿«æ·é”®çš„Appã€‚<a href="https://mediaatelier.com/CheatSheet/" target="_blank" rel="external">ç‚¹æˆ‘é€Ÿåº¦è£…å¤‡</a></p>
<p>å…¶å®åœ¨Macä¸Šè¿˜è¦ä¸€äº›éšè—çš„æˆ–è€…è¯´æ˜¯å¹¶æ²¡æœ‰æ˜è¯´çš„å¿«æ·é”®ã€‚(Appleç»å¸¸å¹²è¿™äº‹å„¿ï¼Œå‘ç°çš„æ—¶å€™æ€»æœ‰äº›å–œæ€’äº¤åŠ )ã€‚</p>
<p>åœ¨macä¸Šï¼Œå¾ˆå¤šæ—¶å€™åœ¨æ–‡æœ¬è¾“å…¥æ—¶ï¼Œæ€»æƒ³ç€èƒ½æœ‰ä¸€äº›å¿«æ·é”®ï¼Œèƒ½è®©å…‰æ ‡å¿«é€Ÿç§»åŠ¨ï¼Œæ®Šä¸çŸ¥ï¼Œmacæœ¬èº«å°±è‡ªå¸¦è¿™ä¸ªèƒ½åŠ›ã€‚</p>
<p>å¦‚ï¼šiTerm2, ç»ˆç«¯, safari, Chrome, QQ, SourceTree, Xcode, MindNode Pro, Pages, Keynote, ä¾¿ç­¾,  é‚®ä»¶ç­‰ï¼Œå‡ ä¹æœ‰æ–‡æœ¬è¾“å…¥çš„åœ°æ–¹ä¼¼ä¹éƒ½æ˜¯æ”¯æŒçš„~~~</p>
<p>åœ¨è¿™é‡Œæˆ‘åˆ—ä¸¾ä¸€ä¸‹å¹³æ—¶æ¯”è¾ƒå¸¸ç”¨çš„å¿«æ·é”®ä»¥åŠå¸®åŠ©è®°å¿†çš„æ–¹æ³•ï¼š</p>
<blockquote>
<p>æ³¨ï¼šä¸ºä¸emacsæ•™ç¨‹ä¹ æƒ¯ä¸€è‡´ï¼Œ<code>Ctrl</code> ç®€å†™æˆ <code>C</code></p>
</blockquote>
<ul>
<li><code>C - a</code> å…‰æ ‡ç§»åˆ°è¡Œé¦–ï¼ˆabcdeï¼Œaæ˜¯å¼€å¤´ï¼‰</li>
<li><code>C - e</code> å…‰æ ‡ç§»åˆ°è¡Œå°¾ï¼ˆabcdeï¼Œeæ˜¯ç»“å°¾ï¼‰</li>
<li><code>C - f</code> å…‰æ ‡å‘æ–‡æ¡£ç»“å°¾æ–¹å‘ç§»ï¼ˆForwardé¦–å­—æ¯ï¼‰</li>
<li><code>C - b</code> å…‰æ ‡å‘æ–‡æ¡£å¼€å¤´æ–¹å‘ç§»ï¼ˆBacké¦–å­—æ¯ï¼‰</li>
<li><code>C - p</code> å…‰æ ‡ç§»å‘ä¸Šä¸€è¡Œï¼ˆPreviousé¦–å­—æ¯ï¼‰</li>
<li><code>C - n</code> å…‰æ ‡ç§»å‘ä¸‹ä¸€è¡Œï¼ˆNexté¦–å­—æ¯ï¼‰</li>
<li><code>C - l</code> ä½¿å½“å‰ç¼–è¾‘çš„è¡Œå±…ä¸­ï¼ˆsafari, qqï¼‰æˆ–æ¸…å±ï¼ˆiTerm2,ç»ˆç«¯ï¼‰</li>
<li><code>C - d</code> åˆ é™¤å…‰æ ‡åçš„ä¸€ä¸ªå­—ç¬¦ï¼ˆDeleteé¦–å­—æ¯ï¼‰</li>
<li><code>C - k</code> åˆ é™¤å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹ï¼ˆKillé¦–å­—æ¯ï¼‰</li>
<li><code>C - y</code> å°†C-kåˆ é™¤çš„ä¸œè¥¿ç²˜è´´å‡ºæ¥ï¼ˆYanké¦–å­—æ¯ï¼‰</li>
<li><code>C - o</code> åœ¨å…‰æ ‡åæ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦</li>
<li><code>C - t</code> äº¤æ¢å…‰æ ‡å‰å’Œå…‰æ ‡åçš„å­—ç¬¦ï¼ŒåŒæ—¶å…‰æ ‡åç§»ï¼ˆTransposeé¦–å­—æ¯ï¼‰</li>
<li><code>C - h</code> åˆ é™¤å…‰æ ‡å‰çš„ä¸€ä¸ªå­—ç¬¦</li>
</ul>
<p>Macå…¶å®ä¹Ÿå¯ä»¥å¾ˆç®€å•çš„è¾“å…¥ä¸€äº›ç‰¹æ®Šå­—ç¬¦ã€‚</p>
<p>è¾“å…¥ç‰¹æ®Šç¬¦å·ï¼š<br>ç‰ˆæƒç¬¦å·: âŒ¥ + G = Â©<br>äººæ°‘å¸ç¬¦å·: âŒ¥ + Y = Â¥<br>å•†æ ‡ç¬¦å·: âŒ¥ + 2 = â„¢<br>å·²ç»æ³¨å†Œçš„å•†æ ‡: âŒ¥ + R = Â®   </p>
<p>æ•°å­¦ç¬¦å·ï¼š<br>çº¦ç­‰äº: <code>âŒ¥ + X</code> = â‰ˆ<br>åº¦æ•°: <code>âŒ¥ + â‡§ + 8</code> = Â°<br>é™¤å·: <code>âŒ¥ + /</code> = Ã·<br>æ— ç©·: <code>âŒ¥ + 5</code> = âˆ<br>å¤§äºç­‰äºå’Œå°äºç­‰äº: <code>âŒ¥ + ,</code> å’Œ <code>âŒ¥ + .</code> = â‰¤ å’Œ â‰¥<br>ä¸ç­‰äº: <code>âŒ¥ + =</code> = â‰ <br>åœ†å‘¨ç‡: <code>âŒ¥ + P</code> = Ï€<br>åŠ å‡: <code>â‡§ + âŒ¥ + =</code> = Â±<br>å¼€æ–¹: <code>âŒ¥ + V</code> = âˆš<br>æ±‚å’Œç¬¦å·: <code>âŒ¥ + W</code> = âˆ‘</p>
<p><strong>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿï¼</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¥äº†Macçš„å‘ï¼Œåœ¨ä¸ºå…¶é­…åŠ›æŠ˜æœçš„åŒæ—¶ï¼Œä¸å…æ—¶ä¸æ—¶çš„ä¼šæœ‰ä¸€äº›æŒ¥ä¹‹ä¸å»çš„ç—›ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åœ¨Macä¸Šæœ‰ä¸€å¤§å †çš„å¿«æ·é”®ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡æœ‰ä¸€ä¸ªè´¨çš„æé«˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âŒ˜ï¼ˆcommandï¼‰&lt;br&gt;âŒ¥ï¼ˆoption/altï¼‰&lt;br&gt;â‡§ï¼ˆshiftï¼‰&lt;br&gt;â‡ªï¼ˆcaps lockï¼‰&lt;br&gt;âŒƒï¼ˆcontrol/ctrlï¼‰&lt;br&gt;â‡¤/â‡¥(Tab)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™é‡Œå®˜æ–¹ç»™å‡ºäº†å¿«æ·é”®çš„è¯´æ˜ã€‚&lt;a href=&quot;https://support.apple.com/zh-cn/ht201236&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹æˆ‘ç›´è¾¾&lt;/a&gt;&lt;br&gt;æ˜¾ç„¶ï¼Œå¿«æ·é”®é‡å¾ˆå¤§ï¼Œå…¨éƒ¨è®°ä½å¹¶ç†Ÿç»ƒåº”ç”¨ä¸å¤ªå¯èƒ½ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ï¼Œé€æ¸çš„å½¢æˆè‡ªå·±çš„å¥—è·¯ï¼Œç„¶åæ›¿èº«è‡ªå·±çš„å·¥ä½œ(å¨±ä¹)æ•ˆç‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="mac" scheme="https://robberjj.github.io/categories/mac/"/>
    
    
      <category term="Mac" scheme="https://robberjj.github.io/tags/Mac/"/>
    
      <category term="å¿«æ·é”®" scheme="https://robberjj.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    
  </entry>
  
  <entry>
    <title>Development cannot be enabled while your device is locked.</title>
    <link href="https://robberjj.github.io/2018/05/16/DevelopmentNotEnabledWhileLocked/"/>
    <id>https://robberjj.github.io/2018/05/16/DevelopmentNotEnabledWhileLocked/</id>
    <published>2018-05-16T04:15:50.000Z</published>
    <updated>2018-11-08T04:19:57.921Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬çœŸæœºè°ƒè¯•çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è¿™æ ·çš„æŠ¥é”™ï¼š</p>
<blockquote>
<p>Development cannot be enabled while your device is locked.</p>
</blockquote>
<p>ä½†æ˜¯ï¼æˆ‘TMæ‰‹æœºæ˜æ˜è§£é”äº†å•Šï¼ŒæŒ‡çº¹è§£çš„é”ä¸æ˜¯ï¼Ÿå¯†ç è§£çš„é”ä¸æ˜¯ï¼Ÿæ²¡æ„Ÿåº”åˆ°ï¼Ÿæ¢ä¸ªå§¿åŠ¿å†æ¥ä¸€æ¬¡ï¼Ÿè¿˜æ˜¯ä¸è¡Œï¼Ÿï¼Ÿ</p>
<p>å“ˆå“ˆï¼Œæœ‰åŒæ ·ç»å†çš„ç‚¹ä¸ªèµå§ã€‚</p>
<a id="more"></a> 
<p>ä¼°è®¡æ˜¯æœ‰è¿™ä¹ˆä¸ªä¸ç»æ„çš„ç¬é—´ï¼Œæ‰‹æœºé¦–æ¬¡æ’ä¸Šmacçš„æ—¶å€™ï¼Œè‹¹æœç»™ä½ å¼¹äº†ä¸ªæ¡†æ¡†ï¼Œè®©ä½ <code>trust (ä¿¡ä»»)</code>å®ƒï¼Œç„¶åæˆ‘ä»¬æ‰‹æ¬ çš„ç‚¹äº†<code>ä¸trust (ä¿¡ä»»)</code>ï¼Œç„¶åå®ƒç”Ÿæ°”äº†ï¼Œä¸è®©ä½ ç”¨äº†ï¼Œå°±æ˜¯ä¸Šé¢çš„å±€é¢ã€‚</p>
<p>å…³é”®çš„æ˜¯ï¼Œå®ƒä»æ­¤ä»¥åå°±ä¸å†å¼¹äº†ã€‚ã€‚ã€‚</p>
<p>æˆ‘TMé”™äº†ï¼Œè¿˜ä¸è¡Œä¹ˆï¼Ÿä½ å›æ¥å†ç»™æˆ‘å¼¹ä¸€æ¬¡å•Šï¼ï¼</p>
<p>åæ‚”è¯ï¼š</p>
<blockquote>
<p>è®¾ç½® â€“&gt; é€šç”¨ â€“&gt; è¿˜åŸ  â€“&gt; è¿˜åŸä½ç½®å’Œéšç§ </p>
</blockquote>
<p>æŒ‰ç…§ä¸Šé¢çš„æ“ä½œä¹‹åï¼Œé‡æ’ï¼Œå°±ä¼šå¼¹äº†~~~ ä¸ç”¨è°¢æˆ‘~</p>
<p>åé—ç—‡ï¼š</p>
<blockquote>
<p>ä½ç½®å’Œéšç§è¢«é‡ç½®äº†ï¼Œä¹‹å‰å·²ç»è®¾ç½®ä½ç½®å’Œéšç§çš„APPä»¬ï¼Œä½ å†æ¬¡è¿›å»çš„æ—¶å€™ï¼Œéƒ½å¼€å§‹ç§¯æçš„å¼¹æ¡†è®©ä½ èµå£é¥­äº†ã€‚</p>
</blockquote>
<p>ã€/ç¬‘å“­ã€‘ğŸ¤£</p>
<p>è¿™å—å„¿å®˜ç½‘å…¶å®æ˜¯æœ‰è¯´æ˜çš„ï¼š<br><a href="https://support.apple.com/en-us/HT202778" target="_blank" rel="external">https://support.apple.com/en-us/HT202778</a></p>
<p>åˆ’é‡ç‚¹:<br><img src="https://upload-images.jianshu.io/upload_images/6080248-2b5548a95f804bac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬çœŸæœºè°ƒè¯•çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è¿™æ ·çš„æŠ¥é”™ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Development cannot be enabled while your device is locked.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½†æ˜¯ï¼æˆ‘TMæ‰‹æœºæ˜æ˜è§£é”äº†å•Šï¼ŒæŒ‡çº¹è§£çš„é”ä¸æ˜¯ï¼Ÿå¯†ç è§£çš„é”ä¸æ˜¯ï¼Ÿæ²¡æ„Ÿåº”åˆ°ï¼Ÿæ¢ä¸ªå§¿åŠ¿å†æ¥ä¸€æ¬¡ï¼Ÿè¿˜æ˜¯ä¸è¡Œï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;å“ˆå“ˆï¼Œæœ‰åŒæ ·ç»å†çš„ç‚¹ä¸ªèµå§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="locked" scheme="https://robberjj.github.io/tags/locked/"/>
    
      <category term="XCode" scheme="https://robberjj.github.io/tags/XCode/"/>
    
  </entry>
  
  <entry>
    <title>This iPhone xxx is running iOS xxx, which may not be supported by this version of Xcode.</title>
    <link href="https://robberjj.github.io/2018/05/16/iosRunningNotSupported/"/>
    <id>https://robberjj.github.io/2018/05/16/iosRunningNotSupported/</id>
    <published>2018-05-16T04:02:06.000Z</published>
    <updated>2018-11-08T04:20:04.648Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬çš„iPhoneç´§è·Ÿappleçš„æ­¥ä¼å‡çº§æœ€æ–°çš„ç‰ˆæœ¬äº†ï¼Œä½†æ˜¯Xcodeå¹¶æ²¡æœ‰åŠæ—¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬(Xcodeæ˜¯åœ¨å¾ˆå¤§ï¼Œè€Œä¸”æœ‰æ—¶å€™æ˜¯éœ€è¦æœ€æ–°çš„betaç‰ˆæœ¬çš„)ï¼Œè¿™æ—¶å€™çœŸæœºè°ƒè¯•çš„æ—¶å€™å°±ä¼šå‡ºç°ä¸‹é¢è¿™æ ·çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>æŠ¥é”™ï¼š<br>Could not locate device support files.<br>This iPhone 7 (Model 1660, 1778, 1779, 1780) is running iOS 11.3 (15E216), which may not be supported by this version of Xcode.</p>
</blockquote>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å‡çº§Xcodeåˆ°é€‚å½“çš„ç‰ˆæœ¬(iPhoneæ˜¯releaseç‰ˆæœ¬ï¼Œä¸€èˆ¬Xcodeå‡çº§åˆ°æœ€æ–°çš„releaseç‰ˆæœ¬ï¼ŒiPhoneæ˜¯betaç‰ˆæœ¬ï¼Œä¸€èˆ¬Xcodeå‡çº§åˆ°æœ€æ–°çš„betaç‰ˆæœ¬)ï¼Œä½†æ˜¯ä¸Šé¢æåˆ°å‡çº§Xcodeæ—¶é—´å®åœ¨å¤ªé•¿ï¼Œæ€¥æ€§å­çš„æˆ‘ä»¬è¡¨ç¤ºç­‰ä¸åŠã€‚</p>
<a id="more"></a> 
<p>ä¸‹é¢ä»‹ç»ä¸€ç§ä¸ç”¨å‡çº§Xcodeå°±æ˜¯çœŸæœºè°ƒè¯•çš„æ–¹æ³•ï¼š</p>
<p><strong>æ›´æ–°XcodeçœŸæœºè¿è¡Œæ”¯æŒåŒ…</strong></p>
<p>XcodeçœŸæœºè¿è¡Œæ”¯æŒåŒ…pathåœ¨è¿™é‡Œï¼šXcodeè·¯å¾„/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupportï¼Œæ‰“å¼€åèƒ½çœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/6080248-37130952acca05d7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DeviceSupport.jpg"></p>
<p>æ”¯æŒåŒ…è¿™é‡Œä¸‹è½½ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1eS20QS6" target="_blank" rel="external">https://pan.baidu.com/s/1eS20QS6</a> å¯†ç : 5v35</p>
<p>ä¹‹åè¦åšçš„å°±æ˜¯ï¼Œéœ€è¦å“ªä¸€ä¸ªiPhoneç³»ç»Ÿçš„æ”¯æŒåŒ…ï¼Œä¸‹è½½è§£å‹ï¼Œæ”¾è¿›å»å°±å¯ä»¥äº†ï¼Œç„¶åæ’å…¥ä½ çš„æ‰‹æœºï¼Œç­‰Xcodeè§£æå¥½ä½ çš„æ‰‹æœºæ–‡ä»¶å°±å¯ä»¥çœŸæœºè¿è¡Œäº†ã€‚</p>
<ul>
<li>æœ‰æ—¶å€™å¯èƒ½ä¸ç”Ÿæ•ˆï¼Œé‡å¯å¤§æ³•é‡å¯ä¸‹Xcodeå†è¯•è¯•ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬çš„iPhoneç´§è·Ÿappleçš„æ­¥ä¼å‡çº§æœ€æ–°çš„ç‰ˆæœ¬äº†ï¼Œä½†æ˜¯Xcodeå¹¶æ²¡æœ‰åŠæ—¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬(Xcodeæ˜¯åœ¨å¾ˆå¤§ï¼Œè€Œä¸”æœ‰æ—¶å€™æ˜¯éœ€è¦æœ€æ–°çš„betaç‰ˆæœ¬çš„)ï¼Œè¿™æ—¶å€™çœŸæœºè°ƒè¯•çš„æ—¶å€™å°±ä¼šå‡ºç°ä¸‹é¢è¿™æ ·çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼š&lt;br&gt;Could not locate device support files.&lt;br&gt;This iPhone 7 (Model 1660, 1778, 1779, 1780) is running iOS 11.3 (15E216), which may not be supported by this version of Xcode.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ç„¶ï¼Œæˆ‘ä»¬å‡çº§Xcodeåˆ°é€‚å½“çš„ç‰ˆæœ¬(iPhoneæ˜¯releaseç‰ˆæœ¬ï¼Œä¸€èˆ¬Xcodeå‡çº§åˆ°æœ€æ–°çš„releaseç‰ˆæœ¬ï¼ŒiPhoneæ˜¯betaç‰ˆæœ¬ï¼Œä¸€èˆ¬Xcodeå‡çº§åˆ°æœ€æ–°çš„betaç‰ˆæœ¬)ï¼Œä½†æ˜¯ä¸Šé¢æåˆ°å‡çº§Xcodeæ—¶é—´å®åœ¨å¤ªé•¿ï¼Œæ€¥æ€§å­çš„æˆ‘ä»¬è¡¨ç¤ºç­‰ä¸åŠã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="XCode" scheme="https://robberjj.github.io/tags/XCode/"/>
    
      <category term="not supported" scheme="https://robberjj.github.io/tags/not-supported/"/>
    
  </entry>
  
  <entry>
    <title>Githubè¶…è¿‡100Mçš„å¤§æ–‡ä»¶ä¸Šä¼ </title>
    <link href="https://robberjj.github.io/2018/05/02/githubUploadFileOver100M/"/>
    <id>https://robberjj.github.io/2018/05/02/githubUploadFileOver100M/</id>
    <published>2018-05-02T06:13:50.000Z</published>
    <updated>2018-11-08T04:20:10.023Z</updated>
    
    <content type="html"><![CDATA[<p>é€šå¸¸æˆ‘ä»¬commitå®Œæˆä¹‹åï¼Œå¾€Githubä¸Špushçš„æ—¶å€™ï¼Œå•ä¸ªæ–‡ä»¶å¤§å°ä¸ä¼šè¶…è¿‡100Mï¼Œæ‰€ä»¥åŸºæœ¬ä¸ä¼šé‡åˆ°è¿™ç§æƒ…å†µã€‚<br>ä½†æ˜¯ï¼Œæ€»ä¼šé‡åˆ°çš„ï¼Œå½“å•ä¸ªæ–‡ä»¶è¶…è¿‡100Mçš„æ—¶å€™ï¼Œpushçš„æ—¶å€™ä¼šå‡ºç°ä¸‹é¢è¿™æ ·çš„Errorï¼š</p>
<blockquote>
<p>remote: Resolving deltas: 100% (472/472), done.<br>remote: error: GH001: Large files detected.<br>You may want to try Git Large File Storage - <a href="https://git-lfs.github.com" target="_blank" rel="external">https://git-lfs.github.com</a>.</p>
</blockquote>
<a id="more"></a>
<p>æˆ–è€…ï¼š</p>
<blockquote>
<p>Total 3007 (delta 664), reused 0 (delta 0)<br>remote: error: GH001: Large files detected.<br>remote: error: Trace: 7b7de6b9372ee392e0f3961b05ea6f33<br>remote: error: See <a href="http://git.io/iEPt8g" target="_blank" rel="external">http://git.io/iEPt8g</a> for more information.<br>remote: error: File  XXX/XXX/XXX is 234 MB; this exceeds GitHubâ€˜s file size limit of 100.00 MB<br>remote: error: File  XXX/XXX/XXX is 234 MB; this exceeds GitHubâ€˜s file size limit of 100.00 MBã€‚</p>
</blockquote>
<!-- more --> 
<p>ä¸Šé¢é”™è¯¯çš„åŸå› å¾ˆå¥½ç†è§£å°±æ˜¯GitHubä¸å…è®¸ç›´æ¥ä¸Šä¼ å¤§æ–‡ä»¶ï¼ˆè¶…è¿‡100Mï¼‰çš„æ–‡ä»¶åˆ°è¿œç¨‹ä»“åº“ï¼Œè‹¥è¦æƒ³ç»§ç»­æäº¤å¯ä»¥å°è¯•ä½¿ç”¨å¤§æ–‡ä»¶æ”¯æŒåº“ï¼š<a href="https://link.jianshu.com/?t=https%3A%2F%2Fgit-lfs.github.com" target="_blank" rel="external">https://git-lfs.github.com</a><br>LFSä½¿ç”¨çš„ç®€å•æ­¥éª¤ï¼š</p>
<ul>
<li>å®‰è£…git - lfsåˆ°æœ¬æœº<br>è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œæ ¹æ®å®˜ç½‘å®‰è£…å°±å¥½ã€‚</li>
</ul>
<p>ä¹‹åå°±æ˜¯æäº¤å¤§æ–‡ä»¶çš„é¡ºåºï¼Œä¸‹é¢æ˜¯å®˜ç½‘çš„é¡ºåºï¼š</p>
<ol>
<li><p>å®‰è£…Gitå‘½ä»¤è¡Œæ‰©å±•ã€‚åªéœ€è¦è®¾ç½®ä¸€æ¬¡Git LFSã€‚<br>åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<blockquote>
<p>git lfs install</p>
</blockquote>
</li>
<li><p>é€‰æ‹©æ‚¨å¸Œæœ›Git LFSç®¡ç†çš„æ–‡ä»¶ç±»å‹ï¼ˆæˆ–ç›´æ¥ç¼–è¾‘.gitattributesï¼‰ã€‚æ‚¨å¯ä»¥éšæ—¶é…ç½®å…¶ä»–æ–‡ä»¶æ‰©å±•åã€‚è¿™ä¸€æ­¥æˆåŠŸåä¼šç”Ÿæˆä¸€ä¸ªgitattributesæ–‡ä»¶</p>
<blockquote>
<p>git lfs track â€œ<em> .aâ€ â€“è¿™é‡Œçš„ â€œ </em>.a â€œå°±æ˜¯ä½ è¦ä¸Šä¼ çš„å¤§æ–‡ä»¶çš„è·¯å¾„</p>
</blockquote>
</li>
<li><p>æ·»åŠ å¹¶commit gitattributesæ–‡ä»¶</p>
<blockquote>
<p>git add .gitattributes</p>
</blockquote>
</li>
<li><p>ç„¶åå†æ·»åŠ å¤§æ–‡ä»¶åˆ°æœ¬åœ°ç¼“å­˜åŒº</p>
<blockquote>
<p>git add demo.a<br>git commit -m â€œæäº¤.aå¤§æ–‡ä»¶â€<br>git push</p>
</blockquote>
</li>
</ol>
<p>ä»¥ä¸Šï¼ŒæŒ‰ç…§ä¸Šè¿°çš„æ–¹æ³•ï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ å¤§æ–‡ä»¶åŸºæœ¬è¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œè€Œä¸”ç™¾æ€ä¸å¾—å…¶è§£~<br>å°¼ç›ï¼Œæ–°æ‰‹å…¥å‘æ€»æ˜¯è¿™ä¸ªå°¿æ€§ã€‚ã€‚</p>
<p>å¦‚ä¸‹å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/6080248-b5b22f1f9d1a1f7f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2200042-a1a69b95caa64404.png"></p>
<p>å‡ºç°ä¸Šè¿°é—®é¢˜ï¼Œå…ˆreset åˆ°ä½ åˆšæ‰commitçš„å‰ä¸€ä¸ªcommit,(æ„æ€å°±æ˜¯æ’¤é”€åˆšæ‰çš„commitï¼Œå›åˆ°èµ·ç‚¹å†æ¥ä¸€æ¬¡ã€‚)</p>
<p>ç¬¬ä¸€ã€äºŒæ­¥åŒä¸Šï¼Œç¬¬ä¸‰æ­¥çš„æ—¶å€™ï¼Œå…ˆå°† .gitattributesæ–‡ä»¶ï¼Œå•ç‹¬commitï¼Œç„¶åpushï¼Œå®Œæˆä¹‹åï¼Œåœ¨è¿›è¡Œç¬¬å››éƒ¨(ç¬¬å››éƒ¨add ä¹‹å æ‰§è¡Œ<code>git lfs ls-files</code>åº”è¯¥èƒ½çœ‹è§ä¸œè¥¿äº†)ã€‚<br>åˆ°è¿™é‡Œåº”è¯¥å°±æ²¡é—®é¢˜äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é€šå¸¸æˆ‘ä»¬commitå®Œæˆä¹‹åï¼Œå¾€Githubä¸Špushçš„æ—¶å€™ï¼Œå•ä¸ªæ–‡ä»¶å¤§å°ä¸ä¼šè¶…è¿‡100Mï¼Œæ‰€ä»¥åŸºæœ¬ä¸ä¼šé‡åˆ°è¿™ç§æƒ…å†µã€‚&lt;br&gt;ä½†æ˜¯ï¼Œæ€»ä¼šé‡åˆ°çš„ï¼Œå½“å•ä¸ªæ–‡ä»¶è¶…è¿‡100Mçš„æ—¶å€™ï¼Œpushçš„æ—¶å€™ä¼šå‡ºç°ä¸‹é¢è¿™æ ·çš„Errorï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;remote: Resolving deltas: 100% (472/472), done.&lt;br&gt;remote: error: GH001: Large files detected.&lt;br&gt;You may want to try Git Large File Storage - &lt;a href=&quot;https://git-lfs.github.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://git-lfs.github.com&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="https://robberjj.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="github" scheme="https://robberjj.github.io/tags/github/"/>
    
      <category term="å¤§æ–‡ä»¶" scheme="https://robberjj.github.io/tags/%E5%A4%A7%E6%96%87%E4%BB%B6/"/>
    
      <category term="upload" scheme="https://robberjj.github.io/tags/upload/"/>
    
      <category term="ä¸Šä¼ " scheme="https://robberjj.github.io/tags/%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>OCè¿½æ ¹æº¯æºä¹‹Class</title>
    <link href="https://robberjj.github.io/2017/11/12/oc-class/"/>
    <id>https://robberjj.github.io/2017/11/12/oc-class/</id>
    <published>2017-11-12T04:22:55.000Z</published>
    <updated>2018-11-08T02:37:01.897Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ä¸¤å¤©ç¢°åˆ°ä¸€é¢è¯•é¢˜ï¼š<br><figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åˆ†è¾¨ä¸‹é¢resçš„æ˜¯é</span></div><div class="line"><span class="built_in">BOOL</span> res1 = [[<span class="built_in">NSObject</span> <span class="keyword">class</span>] isKindOfClass:[<span class="built_in">NSObject</span> <span class="keyword">class</span>]];</div><div class="line"><span class="built_in">BOOL</span> res2 = [[<span class="built_in">NSObject</span> <span class="keyword">class</span>] isMemberOfClass:[<span class="built_in">NSObject</span> <span class="keyword">class</span>]];</div><div class="line"><span class="built_in">BOOL</span> res3 = [[Sark <span class="keyword">class</span>] isKindOfClass:[Sark <span class="keyword">class</span>]];</div><div class="line"><span class="built_in">BOOL</span> res4 = [[Sark <span class="keyword">class</span>] isMemberOfClass:[Sark <span class="keyword">class</span>]];</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ç›¸å…³çš„å®šä¹‰ï¼š</p>
<p><strong>Class</strong></p>
<p>åœ¨<code>objc.h</code>ä¸­<code>Class</code>æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š<br><figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/// An opaque type that represents an Objective-C class.</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> objc_class *Class;</div></pre></td></tr></table></figure></p>
<p><code>objc_class</code>åˆæ˜¯å•¥å‘¢ï¼Ÿåœ¨<code>runtime.h</code>ä¸­èƒ½çœ‹è§ï¼š</p>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> objc_class &#123;</div><div class="line">    Class isa  OBJC_ISA_AVAILABILITY;</div><div class="line"></div><div class="line"><span class="meta">#if !__OBJC2__</span></div><div class="line">    Class super_class                                        OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *name                                         OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">long</span> version                                             OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">long</span> info                                                OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">long</span> instance_size                                       OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">struct</span> objc_ivar_list *ivars                             OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">struct</span> objc_method_list **methodLists                    OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">struct</span> objc_cache *cache                                 OBJC2_UNAVAILABLE;</div><div class="line">    <span class="keyword">struct</span> objc_protocol_list *protocols                     OBJC2_UNAVAILABLE;</div><div class="line"><span class="meta">#endif</span></div><div class="line"></div><div class="line">&#125; OBJC2_UNAVAILABLE;</div></pre></td></tr></table></figure>
<p><strong>MetaClass</strong></p>
<p>ä¸Šé¢èƒ½çœ‹åˆ°<code>Class</code>ä¸­æœ‰ä¸ª<code>isa</code>å‚æ•°ï¼Œå®ƒæ˜¯æŒ‡å‘<code>Class</code>çš„<code>å…ƒç±»ï¼ˆMetaClassï¼‰</code>çš„æŒ‡é’ˆã€‚</p>
<p>æ³¨æ„åˆ°<code>isa</code>ä¹Ÿæ˜¯ä¸€ä¸ª<code>Class</code>çš„ç»“æ„ä½“ï¼Œä¹Ÿå°±æ˜¯è¯´<code>MetaClass</code>å…¶æœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ª<code>Class</code>ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥æŠŠMeta Classç†è§£ä¸º ä¸€ä¸ªClasså¯¹è±¡çš„Classã€‚ç®€å•çš„è¯´ï¼š</p>
<ul>
<li>å½“æˆ‘ä»¬å‘é€ä¸€ä¸ªæ¶ˆæ¯ç»™ä¸€ä¸ªNSObjectå¯¹è±¡æ—¶ï¼Œè¿™æ¡æ¶ˆæ¯ä¼šåœ¨å¯¹è±¡çš„ç±»çš„æ–¹æ³•åˆ—è¡¨é‡ŒæŸ¥æ‰¾</li>
<li>å½“æˆ‘ä»¬å‘é€ä¸€ä¸ªæ¶ˆæ¯ç»™ä¸€ä¸ªç±»æ—¶ï¼Œè¿™æ¡æ¶ˆæ¯ä¼šåœ¨ç±»çš„Meta Classçš„æ–¹æ³•åˆ—è¡¨é‡ŒæŸ¥æ‰¾</li>
</ul>
</blockquote>
<p>ä¹‹åå°±æœ‰äº†ä¸‹é¢çš„è¿™å¼ å›¾ï¼š</p>
<p><img src="/imgs/ocClass.jpg" alt="Class&amp;MetaClass"></p>
<p>èƒ½çœ‹åˆ°ï¼š</p>
<ul>
<li>æ¯ä¸ª<code>Class</code>éƒ½æœ‰ä¸€ä¸ª<code>isa</code>æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå”¯ä¸€çš„<code>MetaClass</code></li>
<li>æ¯ä¸€ä¸ª<code>MetaClass</code>çš„<code>isa</code>æŒ‡é’ˆéƒ½æŒ‡å‘æœ€ä¸Šå±‚çš„<code>MetaClass</code>ï¼ˆå›¾ä¸­çš„<code>NSObject</code>çš„<code>MetaClass</code>ï¼‰</li>
<li>æœ€ä¸Šå±‚çš„<code>MetaClass</code>çš„<code>isa</code>æŒ‡é’ˆæŒ‡å‘è‡ªå·±ï¼Œå½¢æˆä¸€ä¸ªå›è·¯</li>
<li>æ¯ä¸€ä¸ª<code>MetaClass</code>çš„<code>super class</code>æŒ‡é’ˆæŒ‡å‘å®ƒåŸæœ¬<code>Class</code>çš„ <code>Super Class</code>çš„<code>MetaClass</code>ã€‚</li>
<li>æœ€ä¸Šå±‚çš„<code>MetaClass</code>çš„ <code>Super Class</code>æŒ‡å‘<code>NSObject</code> <code>Class</code>æœ¬èº«</li>
<li>æœ€ä¸Šå±‚çš„<code>NSObject</code> <code>Class</code>çš„<code>super class</code>æŒ‡å‘ <code>nil</code></li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹<code>objc</code>æºç ä¸­(æºç å¯åˆ°<a href="https://opensource.apple.com/source/objc4/" target="_blank" rel="external">è¿™é‡Œä¸‹è½½</a>)ï¼Œåœ¨æ–‡ä»¶<code>Object.mm</code>å†…ï¼Œä¸Šé¢ç›¸å…³æ–¹æ³•çš„å®šä¹‰ï¼š</p>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">+ (Class)<span class="keyword">class</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)isKindOf:aClass</div><div class="line">&#123;</div><div class="line">	Class cls;</div><div class="line">	<span class="keyword">for</span> (cls = isa; cls; cls = cls-&gt;superclass)</div><div class="line">		<span class="keyword">if</span> (cls == (Class)aClass)</div><div class="line">			<span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">	<span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)isMemberOf:aClass</div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> isa == (Class)aClass;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼Œ<code>BOOL res1 = [[NSObject class] isKindOfClass:[NSObject class]];</code>å°±å¯ä»¥è¿™æ ·å¯¹åº”èµ·æ¥ç†è§£äº†ï¼š</p>
<p><code>[NSObject class]</code>æ‹¿åˆ°çš„æ˜¯<code>self</code>ï¼Œç±»æ–¹æ³•çš„<code>return self</code>,å³ä¸Šå›¾ç´«è‰²çš„<code>NSObject(Class)</code>ã€‚</p>
<p>æ ¹æ®ä¸Šé¢<code>- (BOOL)isKindOf:aClass</code>çš„å®ç°ï¼Œ<code>for</code>å¾ªç¯é¦–å…ˆæ‹¿åˆ°çš„<code>cls = isa</code>,ä¹Ÿå°±æ˜¯<code>cls</code>ä¸º<code>NSObject(Class)</code>çš„<code>MetaClass</code>ã€‚æ˜¾ç„¶è¿™æ—¶å€™<code>cls == (Class)aClass</code>ä¸æˆç«‹ã€‚</p>
<p>éšåï¼Œ<code>cls = cls-&gt;superclass</code>ï¼Œå³<code>cls</code>å˜æˆäº†<code>NSObject(Class)</code>çš„<code>MetaClass</code>çš„<code>superclass</code>,æ ¹æ®å›¾ç¤ºå¯ä»¥ï¼Œ<code>superclass</code>æŒ‡å‘çš„æ˜¯<code>NSObject(Class)</code>ï¼Œè‡³æ­¤<code>cls == (Class)aClass</code>æˆç«‹ï¼Œè¿”å›<code>YES</code>ã€‚</p>
<p>åŒæ ·çš„é“ç†ï¼Œåˆ†æ<code>BOOL res3 = [[Sark class] isKindOfClass:[Sark class]];</code>:</p>
<p><code>[Sark class]</code>æ‹¿åˆ°çš„æ˜¯<code>Sark(Class)</code>,è€Œ<code>- (BOOL)isKindOf:aClass</code>ä¸­<code>cls</code>æ‹¿åˆ°çš„å€¼ä¾æ¬¡æ˜¯<code>Sark Meta Class</code>-&gt;<code>NSObject Meta Class</code>-&gt;<code>NSObject Class</code> -&gt; <code>nil</code>,æ²¡æœ‰ç›¸ç­‰çš„ï¼Œ<code>return NO</code>ã€‚</p>
<p>å‰©ä¸‹ä¸¤ä¸ªï¼Œæ ¹æ®<code>- (BOOL)isMemberOf:aClass</code>çš„å®ç°ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºç»“è®ºä¼š<code>return NO</code>ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰ä¸¤å¤©ç¢°åˆ°ä¸€é¢è¯•é¢˜ï¼š&lt;br&gt;&lt;figure class=&quot;highlight mm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ†è¾¨ä¸‹é¢resçš„æ˜¯é&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; res1 = [[&lt;span class=&quot;built_in&quot;&gt;NSObject&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;] isKindOfClass:[&lt;span class=&quot;built_in&quot;&gt;NSObject&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; res2 = [[&lt;span class=&quot;built_in&quot;&gt;NSObject&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;] isMemberOfClass:[&lt;span class=&quot;built_in&quot;&gt;NSObject&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; res3 = [[Sark &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;] isKindOfClass:[Sark &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; res4 = [[Sark &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;] isMemberOfClass:[Sark &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="OC" scheme="https://robberjj.github.io/tags/OC/"/>
    
      <category term="Class" scheme="https://robberjj.github.io/tags/Class/"/>
    
  </entry>
  
  <entry>
    <title>macå¼€å‘ä¹‹ç›‘å¬æ‹¦æˆªé”®ç›˜è¾“å…¥keycode</title>
    <link href="https://robberjj.github.io/2017/11/04/KeyCodes/"/>
    <id>https://robberjj.github.io/2017/11/04/KeyCodes/</id>
    <published>2017-11-04T03:56:06.000Z</published>
    <updated>2018-11-08T02:37:01.892Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨è‡ªå·±å†™ä¸€ä¸ªmacä¸Šå›¾ç‰‡é¢„è§ˆçš„åŠŸèƒ½ï¼Œä»¿ç³»ç»Ÿçš„é¢„è§ˆï¼Œæƒ³è¦åœ¨é¢„è§ˆçš„æ—¶å€™ï¼ŒåŠ å…¥å¿«æ·é”®ï¼Œå®ç°æ”¾å¤§ã€ç¼©å°ã€å‰ä¸€å¼ ã€åä¸€å¼ ç­‰åŠŸèƒ½ã€‚</p>
<p>å› ä¸ºæ€»æ„Ÿè§‰ï¼Œå¼„ä¸ªé¼ æ ‡å•ªå•ªçš„ç‚¹ï¼Œå¾ˆåœŸã€‚ã€‚ã€‚</p>
<blockquote>
<p>PS:ä¸ä¸Šæºç ä½ è¯´ä¸ªJJ ã€‚ã€‚ã€‚ æºç åœ¨<a href="https://github.com/RobberJJ/JJImageQuickLook" target="_blank" rel="external">è¿™é‡Œ</a></p>
</blockquote>
<a id="more"></a>
<p>æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œå…¶å®å¹¶ä¸éš¾å®ç°ï¼Œåªéœ€è¦åœ¨é¢„è§ˆçš„<code>window</code>é‡Œé¢å®ç°é”®ç›˜çš„ç›‘å¬å°±å¥½ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//overriding  -[NSWindow keyDown:].</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)keyDown:(<span class="built_in">NSEvent</span> *)theEvent&#123;</div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">short</span>  keycode = [theEvent keyCode];</div><div class="line"></div><div class="line">    <span class="comment">//æ˜¯å¦åŒæ—¶æŒ‰ä¸‹CMD</span></div><div class="line">    <span class="keyword">int</span> flags = <span class="number">0</span>;</div><div class="line">    <span class="built_in">BOOL</span> cmdkeydown = ([[<span class="built_in">NSApp</span> currentEvent] modifierFlags] &amp; <span class="built_in">NSCommandKeyMask</span>) == <span class="built_in">NSCommandKeyMask</span>;</div><div class="line">    <span class="keyword">if</span> (cmdkeydown) &#123;</div><div class="line">        flags = flags | <span class="built_in">NSCommandKeyMask</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (keycode == <span class="number">49</span>) &#123; <span class="comment">//space</span></div><div class="line">            <span class="comment">//ç©ºæ ¼é”®å»å¹²ç‚¹å•¥ã€‚ã€‚</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯ä»¥æ‹¿åˆ°é”®ç›˜å¯¹åº”çš„ <code>key code</code>ï¼Œè¿™ä¸ªå€¼å…¶å®æ˜¯å›ºå®šçš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„ç©ºæ ¼é”®é”®å€¼æ˜¯49ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€»ä¸èƒ½æ¯ä¸ªé”®å»è¾“å…¥ä¸€ä¸‹ï¼Œæ‰“ä¸ªæ–­ç‚¹çœ‹çœ‹å€¼æ˜¯å¤šå°‘å§ï¼Œå¤ªåœŸäº†ã€‚ã€‚ã€‚</p>
<p>å…¶å®SDKé‡Œé¢æ˜¯æœ‰ç›¸åº”çš„ <code>enum</code>çš„ï¼Œä½ç½®åœ¨è¿™é‡Œï¼š</p>
<blockquote>
<p>Virtual key codes åœ¨ Carbon framework çš„è¿™ä¸ªæ–‡ä»¶é‡Œé¢ <hitoolbox events.h=""></hitoolbox></p>
</blockquote>
<p>æœæ–­add <code>Carbon.framework</code>,ä½†æ˜¯å¹¶ä¸èƒ½<code>import &lt;HIToolbox/Events.h&gt;</code>ã€‚å¾ˆå¥‡æ€ªï¼Œæ²¡æ˜ç™½ã€‚ã€‚ã€‚</p>
<p>å¥½åœ¨è¿™æ ·å°±å¯ä»¥ï¼š<code>#import &lt;Carbon/Carbon.h&gt;</code></p>
<p>ä½ å°±å¯ä»¥è¿™æ ·æäº†ï¼š<br><figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (keycode == kVK_Space) &#123; <span class="comment">//space</span></div><div class="line">      <span class="comment">//ç©ºæ ¼é”®å»å¹²ç‚¹å•¥ã€‚ã€‚</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<code>HIToolbox/Events.h</code>æ–‡ä»¶ï¼š<br><figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/Headers/Events.h</div></pre></td></tr></table></figure></p>
<p>ç„¶åä½ å°±èƒ½çœ‹è§ä¸‹é¢çš„è¿™äº›ENUMäº†ï¼š</p>
<figure class="highlight mm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">	 *  Summary:</span></div><div class="line"><span class="comment">	 *    Virtual keycodes</span></div><div class="line"><span class="comment">	 *  </span></div><div class="line"><span class="comment">	 *  Discussion:</span></div><div class="line"><span class="comment">	 *    These constants are the virtual keycodes defined originally in</span></div><div class="line"><span class="comment">	 *    Inside Mac Volume V, pg. V-191. They identify physical keys on a</span></div><div class="line"><span class="comment">	 *    keyboard. Those constants with "ANSI" in the name are labeled</span></div><div class="line"><span class="comment">	 *    according to the key position on an ANSI-standard US keyboard.</span></div><div class="line"><span class="comment">	 *    For example, kVK_ANSI_A indicates the virtual keycode for the key</span></div><div class="line"><span class="comment">	 *    with the letter 'A' in the US keyboard layout. Other keyboard</span></div><div class="line"><span class="comment">	 *    layouts may have the 'A' key label on a different physical key;</span></div><div class="line"><span class="comment">	 *    in this case, pressing 'A' will generate a different virtual</span></div><div class="line"><span class="comment">	 *    keycode.</span></div><div class="line"><span class="comment">	 */</span></div><div class="line">	<span class="keyword">enum</span> &#123;</div><div class="line">	  kVK_ANSI_A                    = <span class="number">0x00</span>,</div><div class="line">	  kVK_ANSI_S                    = <span class="number">0x01</span>,</div><div class="line">	  kVK_ANSI_D                    = <span class="number">0x02</span>,</div><div class="line">	  kVK_ANSI_F                    = <span class="number">0x03</span>,</div><div class="line">	  kVK_ANSI_H                    = <span class="number">0x04</span>,</div><div class="line">	  kVK_ANSI_G                    = <span class="number">0x05</span>,</div><div class="line">	  kVK_ANSI_Z                    = <span class="number">0x06</span>,</div><div class="line">	  kVK_ANSI_X                    = <span class="number">0x07</span>,</div><div class="line">	  kVK_ANSI_C                    = <span class="number">0x08</span>,</div><div class="line">	  kVK_ANSI_V                    = <span class="number">0x09</span>,</div><div class="line">	  kVK_ANSI_B                    = <span class="number">0x0B</span>,</div><div class="line">	  kVK_ANSI_Q                    = <span class="number">0x0C</span>,</div><div class="line">	  kVK_ANSI_W                    = <span class="number">0x0D</span>,</div><div class="line">	  kVK_ANSI_E                    = <span class="number">0x0E</span>,</div><div class="line">	  kVK_ANSI_R                    = <span class="number">0x0F</span>,</div><div class="line">	  kVK_ANSI_Y                    = <span class="number">0x10</span>,</div><div class="line">	  kVK_ANSI_T                    = <span class="number">0x11</span>,</div><div class="line">	  kVK_ANSI_1                    = <span class="number">0x12</span>,</div><div class="line">	  kVK_ANSI_2                    = <span class="number">0x13</span>,</div><div class="line">	  kVK_ANSI_3                    = <span class="number">0x14</span>,</div><div class="line">	  kVK_ANSI_4                    = <span class="number">0x15</span>,</div><div class="line">	  kVK_ANSI_6                    = <span class="number">0x16</span>,</div><div class="line">	  kVK_ANSI_5                    = <span class="number">0x17</span>,</div><div class="line">	  kVK_ANSI_Equal                = <span class="number">0x18</span>,</div><div class="line">	  kVK_ANSI_9                    = <span class="number">0x19</span>,</div><div class="line">	  kVK_ANSI_7                    = <span class="number">0x1A</span>,</div><div class="line">	  kVK_ANSI_Minus                = <span class="number">0x1B</span>,</div><div class="line">	  kVK_ANSI_8                    = <span class="number">0x1C</span>,</div><div class="line">	  kVK_ANSI_0                    = <span class="number">0x1D</span>,</div><div class="line">	  kVK_ANSI_RightBracket         = <span class="number">0x1E</span>,</div><div class="line">	  kVK_ANSI_O                    = <span class="number">0x1F</span>,</div><div class="line">	  kVK_ANSI_U                    = <span class="number">0x20</span>,</div><div class="line">	  kVK_ANSI_LeftBracket          = <span class="number">0x21</span>,</div><div class="line">	  kVK_ANSI_I                    = <span class="number">0x22</span>,</div><div class="line">	  kVK_ANSI_P                    = <span class="number">0x23</span>,</div><div class="line">	  kVK_ANSI_L                    = <span class="number">0x25</span>,</div><div class="line">	  kVK_ANSI_J                    = <span class="number">0x26</span>,</div><div class="line">	  kVK_ANSI_Quote                = <span class="number">0x27</span>,</div><div class="line">	  kVK_ANSI_K                    = <span class="number">0x28</span>,</div><div class="line">	  kVK_ANSI_Semicolon            = <span class="number">0x29</span>,</div><div class="line">	  kVK_ANSI_Backslash            = <span class="number">0x2A</span>,</div><div class="line">	  kVK_ANSI_Comma                = <span class="number">0x2B</span>,</div><div class="line">	  kVK_ANSI_Slash                = <span class="number">0x2C</span>,</div><div class="line">	  kVK_ANSI_N                    = <span class="number">0x2D</span>,</div><div class="line">	  kVK_ANSI_M                    = <span class="number">0x2E</span>,</div><div class="line">	  kVK_ANSI_Period               = <span class="number">0x2F</span>,</div><div class="line">	  kVK_ANSI_Grave                = <span class="number">0x32</span>,</div><div class="line">	  kVK_ANSI_KeypadDecimal        = <span class="number">0x41</span>,</div><div class="line">	  kVK_ANSI_KeypadMultiply       = <span class="number">0x43</span>,</div><div class="line">	  kVK_ANSI_KeypadPlus           = <span class="number">0x45</span>,</div><div class="line">	  kVK_ANSI_KeypadClear          = <span class="number">0x47</span>,</div><div class="line">	  kVK_ANSI_KeypadDivide         = <span class="number">0x4B</span>,</div><div class="line">	  kVK_ANSI_KeypadEnter          = <span class="number">0x4C</span>,</div><div class="line">	  kVK_ANSI_KeypadMinus          = <span class="number">0x4E</span>,</div><div class="line">	  kVK_ANSI_KeypadEquals         = <span class="number">0x51</span>,</div><div class="line">	  kVK_ANSI_Keypad0              = <span class="number">0x52</span>,</div><div class="line">	  kVK_ANSI_Keypad1              = <span class="number">0x53</span>,</div><div class="line">	  kVK_ANSI_Keypad2              = <span class="number">0x54</span>,</div><div class="line">	  kVK_ANSI_Keypad3              = <span class="number">0x55</span>,</div><div class="line">	  kVK_ANSI_Keypad4              = <span class="number">0x56</span>,</div><div class="line">	  kVK_ANSI_Keypad5              = <span class="number">0x57</span>,</div><div class="line">	  kVK_ANSI_Keypad6              = <span class="number">0x58</span>,</div><div class="line">	  kVK_ANSI_Keypad7              = <span class="number">0x59</span>,</div><div class="line">	  kVK_ANSI_Keypad8              = <span class="number">0x5B</span>,</div><div class="line">	  kVK_ANSI_Keypad9              = <span class="number">0x5C</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">/* keycodes for keys that are independent of keyboard layout*/</span></div><div class="line">	<span class="keyword">enum</span> &#123;</div><div class="line">	  kVK_Return                    = <span class="number">0x24</span>,</div><div class="line">	  kVK_Tab                       = <span class="number">0x30</span>,</div><div class="line">	  kVK_Space                     = <span class="number">0x31</span>,</div><div class="line">	  kVK_Delete                    = <span class="number">0x33</span>,</div><div class="line">	  kVK_Escape                    = <span class="number">0x35</span>,</div><div class="line">	  kVK_Command                   = <span class="number">0x37</span>,</div><div class="line">	  kVK_Shift                     = <span class="number">0x38</span>,</div><div class="line">	  kVK_CapsLock                  = <span class="number">0x39</span>,</div><div class="line">	  kVK_Option                    = <span class="number">0x3A</span>,</div><div class="line">	  kVK_Control                   = <span class="number">0x3B</span>,</div><div class="line">	  kVK_RightShift                = <span class="number">0x3C</span>,</div><div class="line">	  kVK_RightOption               = <span class="number">0x3D</span>,</div><div class="line">	  kVK_RightControl              = <span class="number">0x3E</span>,</div><div class="line">	  kVK_Function                  = <span class="number">0x3F</span>,</div><div class="line">	  kVK_F17                       = <span class="number">0x40</span>,</div><div class="line">	  kVK_VolumeUp                  = <span class="number">0x48</span>,</div><div class="line">	  kVK_VolumeDown                = <span class="number">0x49</span>,</div><div class="line">	  kVK_Mute                      = <span class="number">0x4A</span>,</div><div class="line">	  kVK_F18                       = <span class="number">0x4F</span>,</div><div class="line">	  kVK_F19                       = <span class="number">0x50</span>,</div><div class="line">	  kVK_F20                       = <span class="number">0x5A</span>,</div><div class="line">	  kVK_F5                        = <span class="number">0x60</span>,</div><div class="line">	  kVK_F6                        = <span class="number">0x61</span>,</div><div class="line">	  kVK_F7                        = <span class="number">0x62</span>,</div><div class="line">	  kVK_F3                        = <span class="number">0x63</span>,</div><div class="line">	  kVK_F8                        = <span class="number">0x64</span>,</div><div class="line">	  kVK_F9                        = <span class="number">0x65</span>,</div><div class="line">	  kVK_F11                       = <span class="number">0x67</span>,</div><div class="line">	  kVK_F13                       = <span class="number">0x69</span>,</div><div class="line">	  kVK_F16                       = <span class="number">0x6A</span>,</div><div class="line">	  kVK_F14                       = <span class="number">0x6B</span>,</div><div class="line">	  kVK_F10                       = <span class="number">0x6D</span>,</div><div class="line">	  kVK_F12                       = <span class="number">0x6F</span>,</div><div class="line">	  kVK_F15                       = <span class="number">0x71</span>,</div><div class="line">	  kVK_Help                      = <span class="number">0x72</span>,</div><div class="line">	  kVK_Home                      = <span class="number">0x73</span>,</div><div class="line">	  kVK_PageUp                    = <span class="number">0x74</span>,</div><div class="line">	  kVK_ForwardDelete             = <span class="number">0x75</span>,</div><div class="line">	  kVK_F4                        = <span class="number">0x76</span>,</div><div class="line">	  kVK_End                       = <span class="number">0x77</span>,</div><div class="line">	  kVK_F2                        = <span class="number">0x78</span>,</div><div class="line">	  kVK_PageDown                  = <span class="number">0x79</span>,</div><div class="line">	  kVK_F1                        = <span class="number">0x7A</span>,</div><div class="line">	  kVK_LeftArrow                 = <span class="number">0x7B</span>,</div><div class="line">	  kVK_RightArrow                = <span class="number">0x7C</span>,</div><div class="line">	  kVK_DownArrow                 = <span class="number">0x7D</span>,</div><div class="line">	  kVK_UpArrow                   = <span class="number">0x7E</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">/* ISO keyboards only*/</span></div><div class="line">	<span class="keyword">enum</span> &#123;</div><div class="line">	  kVK_ISO_Section               = <span class="number">0x0A</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">/* JIS keyboards only*/</span></div><div class="line">	<span class="keyword">enum</span> &#123;</div><div class="line">	  kVK_JIS_Yen                   = <span class="number">0x5D</span>,</div><div class="line">	  kVK_JIS_Underscore            = <span class="number">0x5E</span>,</div><div class="line">	  kVK_JIS_KeypadComma           = <span class="number">0x5F</span>,</div><div class="line">	  kVK_JIS_Eisu                  = <span class="number">0x66</span>,</div><div class="line">	  kVK_JIS_Kana                  = <span class="number">0x68</span></div><div class="line">	&#125;;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åœ¨è‡ªå·±å†™ä¸€ä¸ªmacä¸Šå›¾ç‰‡é¢„è§ˆçš„åŠŸèƒ½ï¼Œä»¿ç³»ç»Ÿçš„é¢„è§ˆï¼Œæƒ³è¦åœ¨é¢„è§ˆçš„æ—¶å€™ï¼ŒåŠ å…¥å¿«æ·é”®ï¼Œå®ç°æ”¾å¤§ã€ç¼©å°ã€å‰ä¸€å¼ ã€åä¸€å¼ ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ€»æ„Ÿè§‰ï¼Œå¼„ä¸ªé¼ æ ‡å•ªå•ªçš„ç‚¹ï¼Œå¾ˆåœŸã€‚ã€‚ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PS:ä¸ä¸Šæºç ä½ è¯´ä¸ªJJ ã€‚ã€‚ã€‚ æºç åœ¨&lt;a href=&quot;https://github.com/RobberJJ/JJImageQuickLook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="Mac" scheme="https://robberjj.github.io/tags/Mac/"/>
    
      <category term="shortcuts" scheme="https://robberjj.github.io/tags/shortcuts/"/>
    
      <category term="KeyCodes" scheme="https://robberjj.github.io/tags/KeyCodes/"/>
    
  </entry>
  
  <entry>
    <title>This app was unable to be installed.</title>
    <link href="https://robberjj.github.io/2017/10/28/UnableInstalled-md/"/>
    <id>https://robberjj.github.io/2017/10/28/UnableInstalled-md/</id>
    <published>2017-10-28T12:31:36.000Z</published>
    <updated>2018-11-08T02:37:01.894Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©å‡çº§XCode 9.1 betaï¼Œç¼–è¯‘é¡¹ç›®æ­£å¸¸ï¼Œæ¨¡æ‹Ÿå™¨è¿è¡Œå‡ºç°ä»¥ä¸‹é”™è¯¯å¼¹æ¡†ï¼š</p>
<p><img src="/imgs/UnableInstalled.jpg" alt="UnableInstalled"></p>
<a id="more"></a>
<p>APPæ— æ³•å®‰è£…åˆ°æ¨¡æ‹Ÿå™¨ä¸Šï¼Œä¹Ÿçœ‹ä¸è§ä»»ä½•æç¤ºï¼Œç”±äºmacä¸­å­˜åœ¨å¤šä¸ªXCode ç‰ˆæœ¬ï¼Œå°è¯•ä¸‹é¢å‘½ä»¤ï¼š</p>
<blockquote>
<p>sudo xcode-select -s /Applications/Xcode-beta.app</p>
</blockquote>
<p>å¹¶ä¸å¥½ä½¿ã€‚</p>
<p>è¿™ç§é—®é¢˜çœ‹ä¸è§ä»»ä½•å…¶ä»–çš„é—®é¢˜æç¤ºï¼Œæœ‰ç‚¹æ— ä»æŸ¥èµ·çš„èµ¶è„šã€‚</p>
<p><code>stackoverflow</code>ä¸Šæ‰¾åˆ°ä¸‹é¢çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">xcrun simctl spawn booted log show</div><div class="line"></div><div class="line">//æˆ–è€…å¯ä»¥æ ‡å‡ºè¿™ä¸ªé”™è¯¯æç¤ºç›¸å…³çš„ï¼Œå¾ˆå®¹æ˜“çœ‹åˆ°ç›¸å…³çš„é”™è¯¯æç¤º</div><div class="line">xcrun simctl spawn booted log show | grep &quot;This app was unable to be installed.</div></pre></td></tr></table></figure>
<p>ç„¶åï¼ŒåŸºæœ¬å°±èƒ½å®šä½é—®é¢˜äº†ï¼Œæˆ‘è¿™é‡Œå‡ºç°çš„é—®é¢˜æ˜¯ï¼š<br><img src="/imgs/UnableInstalled2.jpg" alt="reason"></p>
<p>Info.plistæ–‡ä»¶ä¸­ç¼ºå°‘<code>CFBundleExecutable</code>ï¼ŒåŠ ä¸Šå³å¯ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©å‡çº§XCode 9.1 betaï¼Œç¼–è¯‘é¡¹ç›®æ­£å¸¸ï¼Œæ¨¡æ‹Ÿå™¨è¿è¡Œå‡ºç°ä»¥ä¸‹é”™è¯¯å¼¹æ¡†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/imgs/UnableInstalled.jpg&quot; alt=&quot;UnableInstalled&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="xcode" scheme="https://robberjj.github.io/tags/xcode/"/>
    
  </entry>
  
  <entry>
    <title>High Sierra bad interpreter</title>
    <link href="https://robberjj.github.io/2017/10/28/PodError-md/"/>
    <id>https://robberjj.github.io/2017/10/28/PodError-md/</id>
    <published>2017-10-28T12:22:11.000Z</published>
    <updated>2018-11-08T02:37:01.893Z</updated>
    
    <content type="html"><![CDATA[<p>å‡çº§åˆ°mac OS High Sierraä¹‹åï¼Œpodå¤±è´¥ï¼Œé”™è¯¯å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>-bash: /usr/local/bin/pod: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby: bad interpreter: No such file or directory</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo gem update --system</div><div class="line">sudo gem install -n /usr/local/bin cocoapods</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‡çº§åˆ°mac OS High Sierraä¹‹åï¼Œpodå¤±è´¥ï¼Œé”™è¯¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-bash: /usr/local/bin/pod: /System/Library/Frameworks/Ruby.framework/Versions/2.0
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="cocoapods" scheme="https://robberjj.github.io/tags/cocoapods/"/>
    
  </entry>
  
  <entry>
    <title>iOS build error framework not found FileProvider for architecture x86_64</title>
    <link href="https://robberjj.github.io/2017/10/28/NotFoundFileProvider-md/"/>
    <id>https://robberjj.github.io/2017/10/28/NotFoundFileProvider-md/</id>
    <published>2017-10-28T12:17:38.000Z</published>
    <updated>2018-11-08T02:37:01.893Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å‡çº§mac OS åˆ° High Sierraä¹‹å XCodeå¹¶æ²¡æœ‰ç«‹é©¬å‡çº§ï¼Œè¿˜æ˜¯xcode 8.xï¼Œç¼–è¯‘çš„æ—¶å€™ï¼Œå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>iOS build error: framework not found FileProvider for architecture x86_64</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼š<strong>update XCode to 9.xå³å¯</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘å‡çº§mac OS åˆ° High Sierraä¹‹å XCodeå¹¶æ²¡æœ‰ç«‹é©¬å‡çº§ï¼Œè¿˜æ˜¯xcode 8.xï¼Œç¼–è¯‘çš„æ—¶å€™ï¼Œå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;iOS build error: framework not found FileProvider 
    
    </summary>
    
      <category term="iOS" scheme="https://robberjj.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://robberjj.github.io/tags/iOS/"/>
    
      <category term="xcode" scheme="https://robberjj.github.io/tags/xcode/"/>
    
      <category term="FileProvider" scheme="https://robberjj.github.io/tags/FileProvider/"/>
    
  </entry>
  
</feed>
